1702936352
waR3U4bTeM%3Afc7718a2aa029891daa232101482598b-56fc1d8c5fc26cdfcd0a4fd56b4c2c82
s:9728:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjU2ZmMxZDhjNWZjMjZjZGZjZDBhNGZkNTZiNGMyYzgyIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MTY6Il90eXBlX2FkZHJlc3MuanMiO3M6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAcGF0aCI7czo1MDoic3JjL2pzL19jb21wb25lbnRzL19jdXN0b21fZmllbGRzL190eXBlX2FkZHJlc3MuanMiO3M6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAc291cmNlIjtzOjYzNjE6IihmdW5jdGlvbiAoJCkgewoKCSQoZnVuY3Rpb24gKCkgewoKCQl2YXIgTWVzc2lhID0gewoJCQlvYnNlcnZlcjogZmFsc2UsCgkJCW1hcEFwaUxvYWRlZDogZmFsc2UsCgkJCW1hcEFwaUtleTogJCgnYm9keScpLmRhdGEoJ2tleScpLAoJCQkvKioKCQkJICogQ3JlYXRlIGFsbCBtYXBzIGF0IG9uY2UuCgkJCSAqCgkJCSAqIEByZXR1cm4gIHZvaWQKCQkJICovCgkJCW1ha2VNYXBzOiBmdW5jdGlvbiAoKSB7CgoJCQkJdmFyIG1hcENvbnRhaW5lcnMgPSAkKCcuaW5wdXRfYWRkcmVzcyAubWFwJyk7CgkJCQlpZiAobWFwQ29udGFpbmVycy5sZW5ndGggPT09IDAgfHwgdHlwZW9mIE1lc3NpYS5tYXBBcGlLZXkgPT09ICd1bmRlZmluZWQnKSB7CgkJCQkJcmV0dXJuOwoJCQkJfQoKCQkJCU1lc3NpYS5sb2FkTWFwKCkKCQkJCQkudGhlbihmdW5jdGlvbiAoKSB7CgkJCQkJCW1hcENvbnRhaW5lcnMuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGNvbnRhaW5lcikgewoJCQkJCQkJTWVzc2lhLm1ha2VNYXAoY29udGFpbmVyKTsKCQkJCQkJfSk7CgkJCQkJfSk7CgkJCX0sCgkJCS8qKgoJCQkgKiBDcmVhdGUgc2luZ2xlIG1hcC4KCQkJICoKCQkJICogQHBhcmFtICB7b2JqZWN0fSAgY29udGFpbmVyICBqUXVlcnkgY29udGFpbmVyIGZvciBtYXAgaW5zZXJ0aW9uLgoJCQkgKgoJCQkgKiBAcmV0dXJuIHZvaWQKCQkJICovCgkJCW1ha2VNYXA6IGZ1bmN0aW9uIChjb250YWluZXIpIHsKCQkJCXZhciBtYXAgPSBNZXNzaWEuaW5pdE1hcChjb250YWluZXIpOwoJCQkJTWVzc2lhLnVwZGF0ZU1hcChtYXAsIGNvbnRhaW5lcik7CgkJCX0sCgkJCS8qKgoJCQkgKiBDYWxsYmFjayBmb3IgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIKCQkJICoKCQkJICogQHBhcmFtICAge1tJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5XX0gIG1hcENvbnRhaW5lcnMgIE9ic2VydmluZyBIVE1MIGVsZW1lbnRzCgkJCSAqIEBwYXJhbSAgIHtJbnRlcnNlY3Rpb25PYnNlcnZlcn0gICAgICAgICBvYnNlcnZlciAgICAgICBJbnN0YW5jZSBvZiBJbnRlcnNlY3Rpb25PYnNlcnZlcgoJCQkgKgoJCQkgKiBAcmV0dXJuICB2b2lkCgkJCSAqLwoJCQltYXBDYW50YWluZXJWaXNpYmxlOiBmdW5jdGlvbiAobWFwQ29udGFpbmVycywgb2JzZXJ2ZXIpIHsKCgkJCQlsZXQgdmlzaWJsZUNvbnRhaW5lcnMgPSBbXTsKCgkJCQlmb3IgKGxldCBpID0gMDsgaSA8IG1hcENvbnRhaW5lcnMubGVuZ3RoOyBpKyspIHsKCgkJCQkJY29uc3QgbWFwQ29udGFpbmVyID0gbWFwQ29udGFpbmVyc1tpXTsKCQkJCQlpZiAodHJ1ZSA9PT0gbWFwQ29udGFpbmVyLmlzSW50ZXJzZWN0aW5nKSB7CgkJCQkJCU1lc3NpYS5vYnNlcnZlci51bm9ic2VydmUobWFwQ29udGFpbmVyLnRhcmdldCk7CgkJCQkJCXZpc2libGVDb250YWluZXJzLnB1c2gobWFwQ29udGFpbmVyKTsKCQkJCQl9CgkJCQl9CgoJCQkJaWYgKHZpc2libGVDb250YWluZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwoKCQkJCU1lc3NpYS5sb2FkTWFwKCkKCQkJCQkudGhlbigoKSA9PiB7CgkJCQkJCWZvciAobGV0IGkgPSAwOyBpIDwgdmlzaWJsZUNvbnRhaW5lcnMubGVuZ3RoOyBpKyspIHsKCgkJCQkJCQljb25zdCBtYXBDb250YWluZXIgPSB2aXNpYmxlQ29udGFpbmVyc1tpXTsKCQkJCQkJCWlmICh0cnVlID09PSBtYXBDb250YWluZXIuaXNJbnRlcnNlY3RpbmcpIHsKCQkJCQkJCQlNZXNzaWEub2JzZXJ2ZXIudW5vYnNlcnZlKG1hcENvbnRhaW5lci50YXJnZXQpOwoJCQkJCQkJCU1lc3NpYS5tYWtlTWFwKCQobWFwQ29udGFpbmVyLnRhcmdldCkpOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfSk7CgkJCX0sCgkJCS8qKgoJCQkgKiBMb2FkIEdvb2dsZSBtYXBzIHNjcmlwdAoJCQkgKgoJCQkgKiBAcmV0dXJuICB7UHJvbWlzZX0KCQkJICovCgkJCWxvYWRNYXA6IGFzeW5jIGZ1bmN0aW9uICgpIHsKCgkJCQlpZiAodHJ1ZSA9PT0gTWVzc2lhLm1hcEFwaUxvYWRlZCkgewoJCQkJCXJldHVybiBQcm9taXNlLnJlc29sdmUoKTsKCQkJCX0KCgkJCQl0cnkgewoJCQkJCWF3YWl0IE1lc3NpYUV4dC5nZXRTY3JpcHQoYGh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qcz9rZXk9JHtNZXNzaWEubWFwQXBpS2V5fWApOwoJCQkJCU1lc3NpYS5tYXBBcGlMb2FkZWQgPSB0cnVlOwoKCQkJCQlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCdkb25lJyk7CgkJCQl9IGNhdGNoIChlcnJvcikgewoJCQkJCWNvbnN0IGJvZHkgPSB7CgkJCQkJCW1lc3NhZ2U6ICdFcnJvciBsb2FkaW5nIEdvb2dsZSBtYXAuJywKCQkJCQkJZXJyb3I6IGVycm9yLAoJCQkJCX0KCQkJCQlNZXNzaWFFeHQubG9nZ2VyLmVycm9yKGJvZHkpOwoKCQkJCQlyZXR1cm4gUHJvbWlzZS5yZWplY3QoJ2ZhaWwnKTsKCQkJCX0KCQkJfSwKCQkJLyoqCgkJCSAqIEluc3RhbnRpYXRlIHNpbmdsZSBtYXAuCgkJCSAqCgkJCSAqIEBwYXJhbSAgIHtvYmplY3R9ICBjb250YWluZXIgIGpRdWVyeSBjb250YWluZXIgZm9yIG1hcCBpbnN0YW5jZS4KCQkJICoKCQkJICogQHJldHVybiAge29iamVjdH0gICAgICAgICAgICAgR29vZ2xlIG1hcAoJCQkgKi8KCQkJaW5pdE1hcDogZnVuY3Rpb24gKGNvbnRhaW5lcikgewoKCQkJCXZhciBtYXA7CgoJCQkJdmFyIG1hcFN0eWxlcyA9IFt7CgkJCQkJc3R5bGVyczogWwoJCQkJCQl7IGh1ZTogIiMzMjQxNTYiIH0sCgkJCQkJCXsgc2F0dXJhdGlvbjogIi0xMDAiIH0sCgkJCQkJCXsgbGlnaHRuZXNzOiAiMyIgfSwKCQkJCQkJeyBnYW1tYTogMS41MSB9CgkJCQkJXQoJCQkJfV07CgoJCQkJdmFyIG1lc3NpYU1hcFR5cGUgPSBuZXcgZ29vZ2xlLm1hcHMuU3R5bGVkTWFwVHlwZShtYXBTdHlsZXMsIHsKCQkJCQluYW1lOiAiTWVzc2lhIiwKCQkJCX0pOwoKCQkJCXZhciBtYXBDb25maWcgPSB7CgkJCQkJem9vbTogMTAsCgkJCQkJY2VudGVyOiB7IGxhdDogY29udGFpbmVyLmRhdGEoJ2xhdCcpLCBsbmc6IGNvbnRhaW5lci5kYXRhKCdsbmcnKSB9LAoJCQkJCW1hcFR5cGVDb250cm9sOiBmYWxzZSwKCQkJCQlzY3JvbGx3aGVlbDogZmFsc2UsCgkJCQkJc3RyZWV0Vmlld0NvbnRyb2w6IGZhbHNlLAoJCQkJCW1hcFR5cGVJZDogJ21lc3NpYV9zdHlsZScsCgkJCQkJbWFwVHlwZUNvbnRyb2xPcHRpb25zOiB7CgkJCQkJCW1hcFR5cGVJZHM6IFtnb29nbGUubWFwcy5NYXBUeXBlSWQuUk9BRE1BUCwgJ21lc3NpYV9zdHlsZSddLAoJCQkJCQlzdHlsZTogZ29vZ2xlLm1hcHMuTWFwVHlwZUNvbnRyb2xTdHlsZS5ERUZBVUxULAoJCQkJCX0sCgkJCQl9CgoJCQkJbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChjb250YWluZXIuZ2V0KDApLCBtYXBDb25maWcpOwoKCQkJCS8vIEFkZCBNZXNzaWEgcHJvcGVydGllcyBpbnRvIG1hcCBvYmplY3QKCQkJCW1hcC5tZXNzaWEgPSB7CgkJCQkJbWFya2VyczogW10sCgkJCQl9CgoJCQkJbWFwLm1hcFR5cGVzLnNldCgnbWVzc2lhX3N0eWxlJywgbWVzc2lhTWFwVHlwZSk7CgkJCQltYXAuYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpOwoKCQkJCXJldHVybiBtYXA7CgkJCX0sCgkJCS8qKgoJCQkgKiBTZXQgbWFya2VycyBvbiBtYXAgYW5kIHBvcHVwcy4KCQkJICoKCQkJICogQHBhcmFtICAge29iamVjdH0gIG1hcCAgICAgICAgR29vZ2xlIG1hcCBpbnN0YW5jZQoJCQkgKiBAcGFyYW0gICB7b2JqZWN0fSAgY29udGFpbmVyICBqUXVlcnkgY29udGFpbmVyIGZvciBtYXAgaW5zdGFuY2UuCgkJCSAqCgkJCSAqIEByZXR1cm4gIHZvaWQKCQkJICovCgkJCXVwZGF0ZU1hcDogZnVuY3Rpb24gKG1hcCwgY29udGFpbmVyKSB7CgoJCQkJdmFyIGFkZHJlc3MgPSAkKGNvbnRhaW5lcikuZGF0YSgnYWRkcmVzcycpOwoJCQkJdmFyIGxhdCA9ICQoY29udGFpbmVyKS5kYXRhKCdsYXQnKTsKCQkJCXZhciBsbmcgPSAkKGNvbnRhaW5lcikuZGF0YSgnbG5nJyk7CgoJCQkJdmFyIHBpbiA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobGF0LCBsbmcpOwoKCQkJCWxldCBpbmZvd2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coewoJCQkJCWNvbnRlbnQ6IGFkZHJlc3MKCQkJCX0pOwoJCQkJbGV0IG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoewoJCQkJCXBvc2l0aW9uOiBwaW4sCgkJCQkJbWFwOiBtYXAsCgkJCQkJaWNvbjogJy93cC1jb250ZW50L3RoZW1lcy9tZXNzaWEvaW5jbHVkZXMvYXNzZXRzL2ltYWdlcy9zdmcvbWFya2VyLnN2ZycsCgkJCQl9KTsKCgkJCQltYXAubWVzc2lhLm1hcmtlcnMucHVzaChtYXJrZXIpOwoJCQkJbWFwLmJvdW5kcy5leHRlbmQocGluKTsKCQkJCWluZm93aW5kb3cub3BlbihtYXAsIG1hcmtlcik7CgoJCQkJbWFya2VyLmFkZExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7CgkJCQkJaW5mb3dpbmRvdy5vcGVuKG1hcCwgbWFya2VyKTsKCQkJCX0pOwoJCQkJbWFya2VyLmFkZExpc3RlbmVyKCdtb3VzZW91dCcsIGZ1bmN0aW9uICgpIHsKCQkJCQlpbmZvd2luZG93LmNsb3NlKG1hcCwgbWFya2VyKTsKCQkJCX0pOwoJCQl9LAoJCQkvKioKCQkJICogSW5pdCBGYW5jeWJveCBmb3IgbWFwcyBpbiBwb3B1cHMuCgkJCSAqCgkJCSAqIEByZXR1cm4gIHZvaWQKCQkJICovCgkJCW1ha2VQb3B1cHNGb3JNYXA6IGZ1bmN0aW9uICgpIHsKCgkJCQl2YXIgc2VsZWN0b3IgPSAkKCcubWFwLXBvcHVwLXRyaWdnZXInKTsKCQkJCWlmIChzZWxlY3Rvci5sZW5ndGggPT09IDApIHsKCQkJCQlyZXR1cm47CgkJCQl9CgoJCQkJJCgpLmZhbmN5Ym94KHsKCQkJCQlzZWxlY3RvcjogJy5tYXAtcG9wdXAtdHJpZ2dlcicsCgkJCQkJc3JjOiAkKHRoaXMpLmRhdGEoJ3NyYycpLCAvLyBTb3VyY2Ugb2YgdGhlIGNvbnRlbnQKCQkJCQl0eXBlOiAnaW5saW5lJywgLy8gQ29udGVudCB0eXBlOiBpbWFnZXxpbmxpbmV8YWpheHxpZnJhbWV8aHRtbCAob3B0aW9uYWwpCgkJCQkJYmFzZUNsYXNzOiAnbWFwLW1vZGFsJywKCQkJCQljbGlja091dHNpZGU6ICdjbG9zZScsCgkJCQkJdG9vbGJhcjogZmFsc2UsCgkJCQkJc21hbGxCdG46IHRydWUsIC8vIGNsb3NlIGJ0bgoJCQkJCXBhcmVudEVsOiAnYm9keScsCgkJCQkJb3B0czogewoJCQkJCQlidXR0b25zOiBbCgkJCQkJCQknem9vbScsCgkJCQkJCQknc2hhcmUnLAoJCQkJCQkJJ3NsaWRlU2hvdycsCgkJCQkJCQknZnVsbFNjcmVlbicsCgkJCQkJCQknZG93bmxvYWQnLAoJCQkJCQkJJ3RodW1icycsCgkJCQkJCQknY2xvc2UnLAoJCQkJCQldLAoJCQkJCX0sCgkJCQkJYmVmb3JlTG9hZDogZnVuY3Rpb24gKGluc3RhbmNlLCBzbGlkZSkgewoJCQkJCQl2YXIgbWFwUG9wdXBUcmlnZ2VyID0gaW5zdGFuY2UuY3VycmVudC5vcHRzLiRvcmlnOwoJCQkJCQl2YXIgbWFwQ29udGFpbmVyID0gJChtYXBQb3B1cFRyaWdnZXIuZGF0YSgnc3JjJykpLmZpbmQoJy5tYXAnKTsKCQkJCQkJTWVzc2lhLmxvYWRNYXAoTWVzc2lhLm1hcEFwaUtleSkKCQkJCQkJCS50aGVuKGZ1bmN0aW9uICgpIHsKCQkJCQkJCQlNZXNzaWEubWFrZU1hcChtYXBDb250YWluZXIpOwoJCQkJCQkJfSk7CgkJCQkJfQoJCQkJfSk7CgkJCX0sCgkJCS8qKgoJCQkgKiBDcmVhdGUgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgZm9yIGNvbnRhaW5lcnMgd2l0aCBtYXBzLgoJCQkgKgoJCQkgKiBAcmV0dXJuICB2b2lkCgkJCSAqLwoJCQlvYnNlcnZlTWFwQ29udGFpbmVyczogZnVuY3Rpb24gKCkgewoKCQkJCXZhciBtYXBDb250YWluZXJzID0gJCgnLmlucHV0X2FkZHJlc3MgLm1hcCcpOwoKCQkJCWlmIChtYXBDb250YWluZXJzLmxlbmd0aCA9PT0gMCB8fCB0eXBlb2YgTWVzc2lhLm1hcEFwaUtleSA9PT0gJ3VuZGVmaW5lZCcpIHsKCQkJCQlyZXR1cm47CgkJCQl9CgoJCQkJbGV0IG9wdGlvbnMgPSB7CgkJCQkJcm9vdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLAoJCQkJCXJvb3RNYXJnaW46ICcwcHgnLAoJCQkJCXRocmVzaG9sZDogMS4wLAoJCQkJCS8vIGRlbGF5OiAxMDAsCgkJCQkJLy8gdHJhY2tWaXNpYmlsaXR5OiB0cnVlLAoJCQkJfQoKCQkJCU1lc3NpYS5vYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihNZXNzaWEubWFwQ2FudGFpbmVyVmlzaWJsZSwgb3B0aW9ucyk7CgkJCQlmb3IgKGxldCBpID0gMDsgaSA8IG1hcENvbnRhaW5lcnMubGVuZ3RoOyBpKyspIHsKCQkJCQljb25zdCBtYXBDb250YWluZXIgPSBtYXBDb250YWluZXJzW2ldOwoJCQkJCU1lc3NpYS5vYnNlcnZlci5vYnNlcnZlKG1hcENvbnRhaW5lcik7CgkJCQl9CgkJCX0sCgkJfQoKCQlpZiAod2luZG93LkludGVyc2VjdGlvbk9ic2VydmVyKSB7CgkJCU1lc3NpYS5vYnNlcnZlTWFwQ29udGFpbmVycygpOwoJCX0gZWxzZSB7CgkJCU1lc3NpYS5tYWtlTWFwcygpOwoJCX0KCQlNZXNzaWEubWFrZVBvcHVwc0Zvck1hcCgpOwoKCX0pOwp9KShqUXVlcnkpOwoiO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbmFtZXNwYWNlcyI7YTowOnt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbmNsdWRlcyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBmdW5jdGlvbnMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY29uc3RhbnRzIjthOjA6e31zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNsYXNzZXMiO2E6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fXM6NDA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZW51bXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbWV0YWRhdGEiO2E6MDp7fX0=";