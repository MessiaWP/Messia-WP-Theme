1702936352
waR3U4bTeM%3A076d1e968ba306c4223de7e0b3dd64d5-25ea0f5e02740657ac353c435673b354
s:13040:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjI1ZWEwZjVlMDI3NDA2NTdhYzM1M2M0MzU2NzNiMzU0IjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MTE6ImZyb250ZW5kLmpzIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHBhdGgiO3M6MTg6InNyYy9qcy9mcm9udGVuZC5qcyI7czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBzb3VyY2UiO3M6ODg4MzoiaW1wb3J0ICcuL19jb21wb25lbnRzL19sb2dnZXIuanMnOwppbXBvcnQgJy4vX2NvbXBvbmVudHMvX3dvcmtlcl9kaXNwYXRjaGVyLmpzJzsKaW1wb3J0ICcuL19jb21wb25lbnRzL19yaXBwbGUuanMnOwppbXBvcnQgJy4vX2NvbXBvbmVudHMvX2NoZWNrYm94LmpzJzsKaW1wb3J0ICcuL19jb21wb25lbnRzL19yYWRpby5qcyc7CmltcG9ydCAnLi9fY29tcG9uZW50cy9faW5wdXRfdGV4dC5qcyc7CgooZnVuY3Rpb24gKCQpIHsKCgkvKioKCSAqIE1vYmlsZSBzY2VuYXJpbyBoYW5kbGVyLiBQZXJmb20gYSBzZXQgb2Ygb3BlcmF0aW9uCgkgKiBpZiBwYWdlIGlzIG9uIG1vYmlsZSB2aWV3LgoJICoKCSAqIEByZXR1cm4gdm9pZC4KCSAqLwoJY29uc3QgaXNNb2JpbGUgPSBhc3luYyAoKSA9PiB7CgkJY29uc3QKCQkJJCA9IGpRdWVyeSwKCQkJbW9iaWxlUGxhdGZvcm0gPSAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7CgkJLyoqCgkJICogQ291bnQgc2VsZWN0ZWQgb3B0aW9ucyBpbiBTZWxlY3QyIGFuZCBwcmludCBYIGl0ZW1zIHNlbGVjdGVkLgoJCSAqCgkJICogQHBhcmFtIEhUTUwgc2VsZWN0ICBTZWxlY3QgSFRNTCB0YWcKCQkgKgoJCSAqIEByZXR1cm4gdm9pZAoJCSAqLwoJCWNvbnN0IGNvdW50U2VsZWN0ZWQgPSAoc2VsZWN0KSA9PiB7CgkJCWxldCB3aWRnZXQgPSAkKHNlbGVjdCkuZGF0YSgnc2VsZWN0MicpLAoJCQkJb3B0aW9ucyA9IHdpZGdldC4kZHJvcGRvd24uZmluZCgnbGknKSwKCQkJCXNlbGVjdGlvbiA9IHdpZGdldC4kc2VsZWN0aW9uLAoJCQkJc2VsZWN0ZWQgPSAkKHNlbGVjdCkuc2VsZWN0MignZGF0YScpLAoJCQkJc2VsZWN0ZWRJZHMgPSBzZWxlY3RlZC5tYXAoaW5kZXggPT4gaW5kZXguaWQpLAoJCQkJc2VsZWN0QWxsID0gc2VsZWN0ZWRJZHMuaW5jbHVkZXMoJy0xJyksCgkJCQlyZXN1bHQgPSBzZWxlY3Rpb24uZmluZCgndWwnKSwKCQkJCWNvdW50ID0gc2VsZWN0ZWQubGVuZ3RoOwoKCQkJb3B0aW9ucy5tYXAoKGluZGV4LCB2YWx1ZSkgPT4gewoJCQkJbGV0IG9wdGlvbiA9ICQodmFsdWUpLmZpbmQoJy5vcHRpb24nKSwKCQkJCQljaGVjayA9IG9wdGlvbi5maW5kKCcuY2hlY2tib3gtc2VsZWN0MicpLAoJCQkJCW9wdGlvbklkID0gY2hlY2suZGF0YSgnb3B0aW9uSWQnKTsgLy8gc2V0dGVkIGluIHRlbXBsYXRlUmVzdWx0KCkuCgoJCQkJKHNlbGVjdEFsbCAmJiBvcHRpb25JZCAhPT0gLTEpID8gb3B0aW9uLmFkZENsYXNzKCdvcGFjaXR5LTYnKSA6IG9wdGlvbi5yZW1vdmVDbGFzcygnb3BhY2l0eS02Jyk7CgkJCQkoIXNlbGVjdEFsbCAmJiBvcHRpb25JZCA9PT0gLTEpID8gY2hlY2suYWRkQ2xhc3MoJ2NoZWNrZWQtc2VtaScpIDogY2hlY2sucmVtb3ZlQ2xhc3MoJ2NoZWNrZWQtc2VtaScpOwoJCQkJKHNlbGVjdGVkSWRzLmluY2x1ZGVzKG9wdGlvbklkLnRvU3RyaW5nKCkpKSA/IGNoZWNrLmFkZENsYXNzKCdjaGVja2VkJykgOiBjaGVjay5yZW1vdmVDbGFzcygnY2hlY2tlZCcpOwoJCQl9KTsKCgkJCWlmIChjb3VudCA+IDEpIHsKCQkJCXJlc3VsdC5odG1sKGA8bGkgY2xhc3M9InNlbGVjdDItc2VsZWN0aW9uX19jaG9pY2UiPiR7bWVzc2lhVmFycy5tZXNzYWdlcy5pdGVtc1NlbGVjdGVkLnBsdXJhbC5yZXBsYWNlKCclbicsIGNvdW50KX08L2xpPmApOwoJCQl9CgkJfQoKCQkvLyDQn9GA0L7QstC10YDQutCwIC0g0LzQvtCx0LjQu9GM0L3QvtC1INGD0YHRgtGA0L7QuNGB0YLQstC+INC40LvQuCBQQwoJCWlmICghbW9iaWxlUGxhdGZvcm0pIHsKCgkJCWNvbnN0CgkJCQl0aGVtZVVybCA9IG1lc3NpYVZhcnMudGhlbWVVcmwsCgkJCQltaW4gPSAobWVzc2lhVmFycy5zY3JpcHREZWJ1ZyA9PT0gZmFsc2UpID8gJy5taW4nIDogJyc7CgoJCQkkKCc8bGluay8+JywgewoJCQkJcmVsOiAnc3R5bGVzaGVldCcsCgkJCQl0eXBlOiAndGV4dC9jc3MnLAoJCQkJaHJlZjogYCR7dGhlbWVVcmx9L2luY2x1ZGVzL2Fzc2V0cy9jc3MvbGlicmFyaWVzL3NlbGVjdDIke21pbn0uY3NzYAoJCQl9KS5wcmVwZW5kVG8oJ2hlYWQnKTsKCgkJCXRyeSB7CgkJCQlhd2FpdCBnZXRTY3JpcHQoYCR7dGhlbWVVcmx9L2luY2x1ZGVzL2Fzc2V0cy9qcy9saWJyYXJpZXMvc2VsZWN0MiR7bWlufS5qc2ApOwoKCQkJCSQoJ3NlbGVjdDpub3QoLm1lc3NpYS1maWx0ZXItc2VsZWN0KScpLnNlbGVjdDIoewoJCQkJCWRyb3Bkb3duUGFyZW50OiAkKCdtYWluJyksCgkJCQkJd2lkdGg6ICcxMDAlJywKCQkJCQltaW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogSW5maW5pdHksCgkJCQl9KTsKCQkJCSQoJ3NlbGVjdC5tZXNzaWEtZmlsdGVyLXNlbGVjdDpub3QoW211bHRpcGxlXSknKS5zZWxlY3QyKHsKCQkJCQl3aWR0aDogJzEwMCUnLAoJCQkJCWRyb3Bkb3duUGFyZW50OiAkKCdtYWluJyksCgkJCQkJZXNjYXBlTWFya3VwOiBmdW5jdGlvbiAobWFya3VwLCByKSB7CgkJCQkJCXJldHVybiBtYXJrdXAucmVwbGFjZSgvXFsoXGQrKVxdL2csICc8c3VwPiQxPC9zdXA+Jyk7CgkJCQkJfSwKCQkJCQljbG9zZU9uU2VsZWN0OiB0cnVlLAoJCQkJCS8vYWxsb3dDbGVhcjogdHJ1ZSwgLy9idWdneQoJCQkJfSk7CgkJCQkkKCdzZWxlY3QubWVzc2lhLWZpbHRlci1zZWxlY3RbbXVsdGlwbGVdJykuc2VsZWN0Mih7CgkJCQkJd2lkdGg6ICcxMDAlJywKCQkJCQlkcm9wZG93blBhcmVudDogJCgnbWFpbicpLAoJCQkJCWVzY2FwZU1hcmt1cDogZnVuY3Rpb24gKG1hcmt1cCwgcikgewoJCQkJCQlyZXR1cm4gbWFya3VwLnJlcGxhY2UoL1xbKFxkKylcXS9nLCAnPHN1cD4kMTwvc3VwPicpOwoJCQkJCX0sCgkJCQkJY2xvc2VPblNlbGVjdDogZmFsc2UsCgkJCQkJLy9hbGxvd0NsZWFyOiB0cnVlLCAvL2J1Z2d5CgkJCQkJdGVtcGxhdGVSZXN1bHQ6IGZ1bmN0aW9uICh0YWcsIGNvbnRhaW5lcikgewoJCQkJCQl2YXIgY2hlY2tlZCA9ICcnLAoJCQkJCQkJb3BhY2l0eV82ID0gJycsCgkJCQkJCQljaGVja2VkX3NlbWkgPSAnJywKCQkJCQkJCXNlbGVjdCA9ICQodGFnLmVsZW1lbnQpLnBhcmVudCgnc2VsZWN0JyksCgkJCQkJCQlzZWxlY3RlZCA9IHNlbGVjdC5zZWxlY3QyKCdkYXRhJyk7CgoJCQkJCQlpZiAoc2VsZWN0LnByb3AoJ211bHRpcGxlJykgPT09IGZhbHNlKSByZXR1cm4gdGFnLnRleHQ7CgkJCQkJCWlmICh0eXBlb2Ygc2VsZWN0ZWQgIT09ICdvYmplY3QnKSByZXR1cm4gdGFnLnRleHQ7CgoJCQkJCQl2YXIgc2VsZWN0ZWRJZHMgPSBzZWxlY3RlZC5tYXAoaW5kZXggPT4gaW5kZXguaWQpLAoJCQkJCQkJc2VsZWN0QWxsID0gc2VsZWN0ZWRJZHMuaW5jbHVkZXMoJy0xJyk7CgoJCQkJCQlvcGFjaXR5XzYgPSAoc2VsZWN0QWxsICYmIHRhZy5pZCAhPT0gJy0xJykgPyAnIG9wYWNpdHktNicgOiAnJzsKCQkJCQkJY2hlY2tlZF9zZW1pID0gKCFzZWxlY3RBbGwgJiYgdGFnLmlkID09PSAnLTEnKSA/ICcgY2hlY2tlZC1zZW1pJyA6ICcnOwoJCQkJCQljaGVja2VkID0gKHNlbGVjdGVkSWRzLmluY2x1ZGVzKHRhZy5pZCkpID8gJyBjaGVja2VkJyA6ICcnOwoKCQkJCQkJcmV0dXJuICQoYDxkaXYgY2xhc3M9ImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgZmFkZSBzaG93IG9wdGlvbiR7b3BhY2l0eV82fSI+CgkJCQkJCQk8c3BhbiBjbGFzcz0iZmxleC1ncm93LTEiPiR7dGFnLnRleHR9PC9zcGFuPgoJCQkJCQkJPHNwYW4gZGF0YS1vcHRpb24taWQ9IiR7dGFnLmlkfSIgY2xhc3M9ImNoZWNrYm94LXNlbGVjdDIgZmxleC1zaHJpbmstMCR7Y2hlY2tlZH0ke2NoZWNrZWRfc2VtaX0iPjwvc3Bhbj4KCQkJCQkJPC9kaXY+YCk7CgkJCQkJfSwKCQkJCQl0ZW1wbGF0ZVNlbGVjdGlvbjogZnVuY3Rpb24gKHRhZywgY29udGFpbmVyKSB7CgkJCQkJCWlmICgnbG9ja2VkJyA9PT0gJCh0YWcuZWxlbWVudCkuYXR0cignbG9ja2VkJykpIHsKCQkJCQkJCSQoY29udGFpbmVyKS5hZGRDbGFzcygnbG9ja2VkLXRhZycpOwoJCQkJCQkJdGFnLmxvY2tlZCA9IHRydWU7CgkJCQkJCX0KCQkJCQkJcmV0dXJuIHRhZy50ZXh0OwoJCQkJCX0sCgkJCQl9KTsKCgkJCQkkKCdzZWxlY3QubWVzc2lhLWZpbHRlci1zZWxlY3RbbXVsdGlwbGVdJykuZWFjaChmdW5jdGlvbiAoKSB7CgkJCQkJY291bnRTZWxlY3RlZCh0aGlzKTsKCQkJCX0pOwoJCQkJJCgnLnNlbGVjdDIuc2VsZWN0Mi1jb250YWluZXInKS5maW5kKCcuc2VsZWN0Mi1zZWFyY2hfX2ZpZWxkOm5vdChbcGxhY2Vob2xkZXI9IiJdKScpLmNzcygnd2lkdGgnLCAnJyk7CgoJCQkJJCgnc2VsZWN0Lm1lc3NpYS1maWx0ZXItc2VsZWN0W211bHRpcGxlXScpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7CgkJCQkJY291bnRTZWxlY3RlZCh0aGlzKTsKCQkJCX0pOwoJCQl9IGNhdGNoIChlcnJvcikgewoJCQkJY29uc3QgYm9keSA9IHsKCQkJCQltZXNzYWdlOiAnRXJyb3IgbG9hZGluZyBTZWxlY3QyIGFzc2V0cycsCgkJCQkJZXJyb3I6IGVycm9yLAoJCQkJfQoJCQkJTWVzc2lhRXh0LmxvZ2dlci5lcnJvcihib2R5KTsKCQkJfQoJCX0KCX07CgoJLyoqCgkgKiBDb29raWUgZ2V0dGVyLgoJICoKCSAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIENvb2tpZSBuYW1lLgoJICoKCSAqIEByZXR1cm4gb2JqZWN0fHN0cmluZwoJICovCgljb25zdCBnZXRDb29raWUgPSAobmFtZSkgPT4gewoJCWxldCBtYXRjaGVzID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoCgkJCSIoPzpefDsgKSIgKyBuYW1lLnJlcGxhY2UoLyhbXC4kPyp8e31cKFwpXFtcXVxcXC9cK15dKS9nLCAnXFwkMScpICsgIj0oW147XSopIgoJCSkpOwoJCXJldHVybiBtYXRjaGVzID8gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQobWF0Y2hlc1sxXSkpIDogdW5kZWZpbmVkOwoJfQoKCS8qKgoJICogQ29va2llIHNldHRlci4KCSAqCgkgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgICBDb29raWUgbmFtZS4KCSAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAgIENvb2tpZSB2YWx1ZS4KCSAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIENvb2tpZSBleHRhciBkYXRhLgoJICoKCSAqIEByZXR1cm4gdm9pZC4KCSAqLwoJY29uc3Qgc2V0Q29va2llID0gKG5hbWUsIHZhbHVlLCBvcHRpb25zID0ge30pID0+IHsKCgkJb3B0aW9ucyA9IHsKCQkJcGF0aDogJy8nLAoJCQkuLi5vcHRpb25zCgkJfTsKCgkJaWYgKG9wdGlvbnMuZXhwaXJlcyBpbnN0YW5jZW9mIERhdGUpIHsKCQkJb3B0aW9ucy5leHBpcmVzID0gb3B0aW9ucy5leHBpcmVzLnRvVVRDU3RyaW5nKCk7CgkJfQoKCQlsZXQgdXBkYXRlZENvb2tpZSA9IGVuY29kZVVSSUNvbXBvbmVudChuYW1lKSArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7CgoJCWZvciAobGV0IG9wdGlvbktleSBpbiBvcHRpb25zKSB7CgkJCXVwZGF0ZWRDb29raWUgKz0gIjsgIiArIG9wdGlvbktleTsKCQkJbGV0IG9wdGlvblZhbHVlID0gb3B0aW9uc1tvcHRpb25LZXldOwoJCQlpZiAob3B0aW9uVmFsdWUgIT09IHRydWUpIHsKCQkJCXVwZGF0ZWRDb29raWUgKz0gIj0iICsgb3B0aW9uVmFsdWU7CgkJCX0KCQl9CgoJCWRvY3VtZW50LmNvb2tpZSA9IHVwZGF0ZWRDb29raWU7Cgl9CgoJLyoqCgkgKiBDdXN0b20gc21vb3RoIHNjcm9sbGVyLgoJICoKCSAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRUb3AgUG9zaXRpb24gdG8gc2Nyb2xsIHRvLgoJICoKCSAqIEByZXR1cm4gdm9pZC4KCSAqLwoJY29uc3Qgc2Nyb2xsVG8gPSAob2Zmc2V0VG9wKSA9PiB7CgkJY29uc3QgJCA9IGpRdWVyeSwKCQkJY3VycmVudE9mZnNldFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLAoJCQlzcGVlZCA9IE1hdGguYWJzKChvZmZzZXRUb3AgLSBjdXJyZW50T2Zmc2V0VG9wKSAvIDMpOyAvLyAzcHggcGVyIHNlY29uZAoKCQkkKCdib2R5LGh0bWwnKS5hbmltYXRlKHsKCQkJc2Nyb2xsVG9wOiBvZmZzZXRUb3AKCQl9LCBzcGVlZCk7Cgl9OwoKCS8qKgoJICogSW5zdGFudGlhdGUgcmFuZ2UgcGx1Z2luIG9uIG5vZGVzLgoJICoKCSAqIEBwYXJhbSB7b2JqZWN0fSBlbGVtZW50cyBqUXVlcnkgZWxlbWVudHMgc2V0IHRvIGNyZWF0IHJhbmdlIGZyb20uCgkgKgoJICogQHJldHVybiB2b2lkLgoJICovCgljb25zdCBkb1JhbmdlID0gKGVsZW1lbnRzKSA9PiB7CgoJCWVsZW1lbnRzLmlvblJhbmdlU2xpZGVyKHsKCQkJc2tpbjogJ3JvdW5kJywKCQkJLy9wcmV0dGlmeV9lbmFibGVkOiB0cnVlLAoJCQkvL3ByZXR0aWZ5X3NlcGFyYXRvcjogJycsCgkJCWZvcmNlX2VkZ2VzOiB0cnVlLAoJCQlleHRyYV9jbGFzc2VzOiAnZm9yY2VkLWVkZ2VzLXRydWUnLAoJCQlvbkZpbmlzaDogZnVuY3Rpb24gKHJhbmdlKSB7CgkJCQlsZXQgZXZlbnQgPSBuZXcgRXZlbnQoJ2NoYW5nZUZpbmlzaCcpOwoJCQkJcmFuZ2UuaW5wdXQuZ2V0KDApLmRpc3BhdGNoRXZlbnQoZXZlbnQpOwoJCQl9LAoJCQlvblVwZGF0ZTogZnVuY3Rpb24gKHJhbmdlKSB7CgkJCQlsZXQgZXZlbnQgPSBuZXcgRXZlbnQoJ3VwZGF0ZUZpbmlzaCcpOwoJCQkJcmFuZ2UuaW5wdXQuZ2V0KDApLmRpc3BhdGNoRXZlbnQoZXZlbnQpOwoJCQl9CgkJfSk7CgoJCWZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHsKCQkJY29uc3QKCQkJCXJhbmdlID0gJChlbGVtZW50c1tpXSksCgkJCQlkYXRhID0gcmFuZ2UuZGF0YSgpLAoJCQkJc2xpZGVyID0gZGF0YS5pb25SYW5nZVNsaWRlcjsKCgkJCXNsaWRlci51cGRhdGUoewoJCQkJcHJldHRpZnk6IGZ1bmN0aW9uIChudW1iZXIpIHsKCQkJCQlpZiAoIWRhdGEucHJldHRpZnlFbmFibGVkKSB7CgkJCQkJCXJldHVybiBudW1iZXI7CgkJCQkJfQoJCQkJCWxldCBuID0gbnVtYmVyLnRvRml4ZWQoZGF0YS5wcmVjaXNpb24pLnRvU3RyaW5nKCkucmVwbGFjZSgvKFxkezEsM30oPz0oPzpcZFxkXGQpKyg/IVxkKSkpL2csIGAkMSR7ZGF0YS5wcmV0dGlmeVNlcGFyYXRvcn1gKTsKCQkJCQlpZiAoZGF0YS5wcmVjaXNpb24gPiAwKSBuID0gbi5yZXBsYWNlKC9cLihcZCspJC9nLCBgJHtkYXRhLmRlY2ltYWxTZXBhcmF0b3B9JDFgKTsKCgkJCQkJcmV0dXJuIG47CgkJCQl9LAoJCQl9KTsKCQkJc2xpZGVyLnByZXZfdmFsdWUgPSByYW5nZS52YWwoKTsKCQl9Cgl9OwoKCS8qKgoJICogTG9hZCByZW1vdGUgc3JjLCBhcHBlbmQgdG8gRE9NLgoJICoKCSAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgU291cmNlIFVSTC4KCSAqCgkgKiBAcmV0dXJuIFByb21pc2UuCgkgKi8KCWNvbnN0IGdldFNjcmlwdCA9ICh1cmwpID0+IHsKCQlyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewoJCQlsZXQgbmV3U2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CgkJCW5ld1NjcmlwdC5vbmVycm9yID0gcmVqZWN0OwoJCQluZXdTY3JpcHQub25sb2FkID0gcmVzb2x2ZTsKCQkJZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChuZXdTY3JpcHQpOwoJCQluZXdTY3JpcHQuc3JjID0gdXJsOwoJCX0pOwoJfQoKCS8qKgoJICogQWN0aW9ucyBvbiBkb2N1bWVudC5yZWFkeSBldmVudC4KCSAqCgkgKiBAcmV0dXJuIHZvaWQKCSAqLwoJY29uc3QgaW5pdEFjdGlvbnMgPSAoKSA9PiB7CgoJCWNvbnN0IHRvZ2dsZUl0ZW1zTWVudSA9IGZ1bmN0aW9uIChlKSB7CgkJCWlmICgkKHdpbmRvdykud2lkdGgoKSA8PSAnNzY3JykgewoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpCgkJCQkkKHRoaXMpLnNpYmxpbmdzKCIuc3ViLW1lbnUiKS5zbGlkZVRvZ2dsZSgzMDApOwoJCQkJJCh0aGlzKS50b2dnbGVDbGFzcygiYWN0aXZlIik7CgkJCX0KCQl9OwoKCQljb25zdCBzZXR1cE5hdmlnYXRpb24gPSBmdW5jdGlvbiAoKSB7CgkJCSQoJy5uYXZpZ2F0aW9uLnBhZ2luYXRpb24gLnBhZ2UtbnVtYmVycycpLmFkZENsYXNzKCdtZXNzaWEtcmlwcGxlLWNsaWNrIG1lc3NpYS1idG4nKTsKCQl9OwoKCQljb25zdCB1cGRhdGVTZWxlY3REcm9wID0gZnVuY3Rpb24gKCkgewoJCQl2YXIgc2VsZWN0ID0gJCgnLnNlbGVjdDIuc2VsZWN0Mi1jb250YWluZXItLW9wZW4gLnNlbGVjdDItc2VsZWN0aW9uJyk7CgoJCQlpZiAoc2VsZWN0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuOwoKCQkJdmFyIHNlbGVjdElkID0gJCgnLnNlbGVjdDIuc2VsZWN0Mi1jb250YWluZXItLW9wZW4gLnNlbGVjdDItc2VsZWN0aW9uJykuYXR0cignYXJpYS1vd25zJykucmVwbGFjZSgnc2VsZWN0Mi0nLCAnJykucmVwbGFjZSgnLXJlc3VsdHMnLCAnJyk7CgkJCXZhciBzZWxlY3QgPSAkKGBzZWxlY3RbZGF0YS1zZWxlY3QyLWlkPScke3NlbGVjdElkfSddYCk7CgoJCQlzZWxlY3Quc2VsZWN0MignY2xvc2UnKTsKCQkJc2VsZWN0LnNlbGVjdDIoJ29wZW4nKTsKCQl9OwoKCQkkKCcubWVzc2lhLW5hdi1tZW51IC5tZW51LWl0ZW0ubWVudS1pdGVtLWhhcy1jaGlsZHJlbiA+IC5tZW51LWl0ZW0tZXhwYW5kLWNvbGxhcHNlJykub24oJ2NsaWNrJywgdG9nZ2xlSXRlbXNNZW51KTsKCQkkKCcubGlzdGluZycpLm9uKCdsaXN0aW5nVXBkYXRlZCcsIHVwZGF0ZVNlbGVjdERyb3ApOwoKCQlzZXR1cE5hdmlnYXRpb24oKTsKCQlpc01vYmlsZSgpOwoJfQoKCWdsb2JhbC5NZXNzaWFFeHQgPSBnbG9iYWwuTWVzc2lhRXh0IHx8IHt9OwoJZ2xvYmFsLk1lc3NpYUV4dCA9IHsKCQkuLi5nbG9iYWwuTWVzc2lhRXh0LAoJCS4uLnsKCQkJaXNNb2JpbGU6IGlzTW9iaWxlLAoJCQlnZXRDb29raWU6IGdldENvb2tpZSwKCQkJc2V0Q29va2llOiBzZXRDb29raWUsCgkJCXNjcm9sbFRvOiBzY3JvbGxUbywKCQkJZG9SYW5nZTogZG9SYW5nZSwKCQkJaXNNb2JpbGU6IGlzTW9iaWxlLAoJCQlnZXRTY3JpcHQ6IGdldFNjcmlwdCwKCQl9Cgl9OwoKCSQoZnVuY3Rpb24gKCkgewoJCWluaXRBY3Rpb25zKCk7Cgl9KTsKCn0pKGpRdWVyeSk7IjtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWVzcGFjZXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW5jbHVkZXMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZnVuY3Rpb25zIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNvbnN0YW50cyI7YTowOnt9czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjbGFzc2VzIjthOjA6e31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGludGVyZmFjZXMiO2E6MDp7fXM6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAdHJhaXRzIjthOjA6e31zOjQwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGVudW1zIjthOjA6e31zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG1ldGFkYXRhIjthOjA6e319";