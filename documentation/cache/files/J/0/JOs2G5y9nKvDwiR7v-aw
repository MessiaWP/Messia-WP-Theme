1702936352
waR3U4bTeM%3Af1a1051419459e33972bc82f6d1a26be-dcd49eeb8be41955308b8bf68e22dd62
s:7180:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6ImRjZDQ5ZWViOGJlNDE5NTUzMDhiOGJmNjhlMjJkZDYyIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MTk6InNldHRpbmdzLWxpY2VuY2UuanMiO3M6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAcGF0aCI7czozNToic3JjL2pzL19iYWNrZW5kL3NldHRpbmdzLWxpY2VuY2UuanMiO3M6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAc291cmNlIjtzOjQ0NjI6Ii8qKgogKiBNb2R1bGUgZm9yIGFjdGlvbnMgd2l0aCBsaWNlbmNlLgogKi8KbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTWVzc2lhLCAkKSB7CgoJbGV0IGFib3J0Q29udHJvbGxlciA9IG51bGw7CgoJY29uc3Qgc2VsZWN0b3JzID0gewoJCWxpY2VuY2VIYW5kbGVyOiAnLm1lc3NpYS10aGVtZS1saWNlbmNlLWZvcm0taG9sZGVyICNtZXNzaWEtbGljZW5jZS1zdGF0dXMtdG9nbGUnLAoJCWxpY2VuY2VGaWVsZHM6ICcubWVzc2lhLXRoZW1lLWxpY2VuY2UtZm9ybS1ob2xkZXIgaW5wdXQjbGljZW5jZV9rZXksIC5tZXNzaWEtdGhlbWUtbGljZW5jZS1mb3JtLWhvbGRlciBpbnB1dCNsaWNlbmNlX3N0YXR1cycsCgl9OwoKCWNvbnN0IGxpY2VuY2VTdGF0dXNUb2dnbGUgPSBmdW5jdGlvbiAoZSkgewoJCWxpY2VuY2VBY3Rpb24uY2FsbCh0aGlzLCAndG9nZ2xlU3RhdHVzJyk7Cgl9OwoKCWNvbnN0IHNhdmVMaWNlbmNlRGF0YSA9IChlKSA9PiB7CgkJY29uc3QKCQkJdG9fc2F2ZSA9IHt9LAoJCQlsaWNlbmNlX2ZpZWxkcyA9ICQoc2VsZWN0b3JzLmxpY2VuY2VGaWVsZHMpOwoKCQlmb3IgKHZhciBpID0gMDsgaSA8IGxpY2VuY2VfZmllbGRzLmxlbmd0aDsgaSsrKSB7CgoJCQl2YXIga2V5ID0gJChsaWNlbmNlX2ZpZWxkc1tpXSkuYXR0cignaWQnKTsKCQkJdmFyIHZhbHVlID0gJChsaWNlbmNlX2ZpZWxkc1tpXSkudmFsKCk7CgoJCQl0b19zYXZlW2tleV0gPSB2YWx1ZS50cmltKCk7CgkJfQoJCSQoJy5tZXNzaWEtdGhlbWUtbGljZW5jZS1mb3JtLWhvbGRlciBpbnB1dFtuYW1lPSJ0aGVtZV9saWNlbmNlX2RhdGEiXScpLnZhbChKU09OLnN0cmluZ2lmeSh0b19zYXZlKSk7Cgl9OwoKCWNvbnN0IGxpY2VuY2VBY3Rpb24gPSBhc3luYyBmdW5jdGlvbiAoYWN0aW9uKSB7CgoJCWNvbnN0CgkJCXRhYnNEYXRhID0gTWVzc2lhLnRhYnNfc2VsZWN0b3IuZGF0YSgnZ2VuZXJhbCcpLAoJCQlmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpLAoJCQlmb3JtID0gJCh0aGlzKS5wYXJlbnRzKCcubWVzc2lhLXRoZW1lLWxpY2VuY2UtZm9ybS1ob2xkZXInKSwKCQkJYWN0aW9ucyA9IGZvcm0uZmluZCgnLmFjdGlvbnMnKSwKCQkJbGljZW5jZUtleSA9IGZvcm0uZmluZCgnaW5wdXRbaWQ9ImxpY2VuY2Vfa2V5Il0nKSwKCQkJbGljZW5jZVN0YXR1cyA9IGZvcm0uZmluZCgnaW5wdXRbaWQ9ImxpY2VuY2Vfc3RhdHVzIl0nKTsKCgkJLy8gSW4gbXVsdGlzaXRlIGVudiB0aGVzZSBkYXRhIHNob3duIGF0IG5ldHdvcmsgYWRtaW4gcGFnZSBvbmx5LgoJCWlmIChmb3JtLmxlbmd0aCA9PT0gMCAmJiBhY3Rpb25zLmxlbmd0aCA9PT0gMCAmJiBsaWNlbmNlS2V5Lmxlbmd0aCA9PT0gMCAmJiBsaWNlbmNlU3RhdHVzLmxlbmd0aCA9PT0gMCkgewoJCQlyZXR1cm47CgkJfQoKCQlmb3JtRGF0YS5hcHBlbmQoJ2FjdGlvbicsICdtZXNzaWFfbGljZW5jZV9hY3Rpb24nKTsKCQlmb3JtRGF0YS5hcHBlbmQoJ21lc3NpYU5vbmNlJywgdGFic0RhdGEuc2V0dGluZ0Zvcm1Ob25jZSk7CgoJCWZvcm1EYXRhLmFwcGVuZCgKCQkJJ2RhdGEnLAoJCQlKU09OLnN0cmluZ2lmeSh7CgkJCQlBSkFYX01hcmtlcjogbWVzc2lhVmFycy5BSkFYX01hcmtlciwKCQkJCWxpY2VuY2VfYWN0aW9uOiBhY3Rpb24sCgkJCQlsaWNlbmNlX2tleTogbGljZW5jZUtleS52YWwoKS50cmltKCksCgkJCQlsaWNlbmNlX3N0YXR1czogbGljZW5jZVN0YXR1cy52YWwoKSwKCQkJCWlzX25ldHdvcmtfYWRtaW46IHRhYnNEYXRhLmlzTmV0d29ya0FkbWluLAoJCQl9KQoJCSk7CgoJCWNvbnN0IHN0YXJ0QWN0aW9uID0gKCkgPT4gewoJCQlpZiAoYWN0aW9ucy5maW5kKCcjbG9hZGVyX2hvbGRlcicpLmZpbmQoJy5zcGlubmVyJykubGVuZ3RoID4gMCkgcmV0dXJuOwoJCQljb25zdCBzcGlubmVyID0gJzxkaXYgY2xhc3M9InNwaW5uZXIgaXMtYWN0aXZlIj48L2Rpdj4nOwoJCQlhY3Rpb25zLmZpbmQoJyNsb2FkZXJfaG9sZGVyJykuYXBwZW5kKHNwaW5uZXIpOwoJCX0KCgkJY29uc3QgZmluaXNoQWN0aW9uID0gKHNlcnZlcikgPT4gewoJCQlhY3Rpb25zLmZpbmQoJyNsb2FkZXJfaG9sZGVyIC5zcGlubmVyJykucmVtb3ZlKCk7CgoJCQlzd2l0Y2ggKHNlcnZlci5kYXRhLnN0YXR1c19jb2RlKSB7CgkJCQljYXNlICdtMjAwJzoKCQkJCQljb25zdAoJCQkJCQlzdGF0dXNUaXRsZSA9IGZvcm0uZmluZCgnLnN0YXR1cy10aXRsZSAuc3RhdHVzLXZhbHVlJyksCgkJCQkJCXN0YXR1c0hhbmRsZXIgPSBmb3JtLmZpbmQoJ2lucHV0I2xpY2VuY2Vfc3RhdHVzJyksCgkJCQkJCXR5cGUgPSAoc2VydmVyLmRhdGEucmVzcG9uc2Uuc3RhdHVzX2NvZGUuc3RhcnRzV2l0aCgncycpKSA/ICdzdWNjZXNzJyA6ICdlcnJvcic7CgoJCQkJCWNvbnN0IGRyYWdnYWJsZSA9ICQuZm4uVGFic1BsdWdpbkZyYW1lV29yaygnc2hvd01lc3NhZ2UnLCBzZXJ2ZXIuZGF0YS5yZXNwb25zZS5tZXNzYWdlLCB0eXBlKTsKCgkJCQkJZm9ybS5hdHRyKCdkYXRhLXN0YXR1cycsIHNlcnZlci5kYXRhLnJlc3BvbnNlLmxpY2VuY2Vfc3RhdHVzKTsKCQkJCQlzdGF0dXNIYW5kbGVyLnZhbChzZXJ2ZXIuZGF0YS5yZXNwb25zZS5saWNlbmNlX3N0YXR1cyk7CgkJCQkJc3RhdHVzVGl0bGUudGV4dChzZXJ2ZXIuZGF0YS5yZXNwb25zZS5saWNlbmNlX3N0YXR1cyk7CgkJCQkJbGljZW5jZUtleS52YWwoc2VydmVyLmRhdGEua2V5X3ZhbCk7CgkJCQkJJCh0aGlzKS52YWwoc2VydmVyLmRhdGEuYnRuX3RleHQpOwoKCQkJCQlpZiAoc2VydmVyLmRhdGEucmVhZG9ubHkpIHsKCQkJCQkJbGljZW5jZUtleS5hdHRyKCdyZWFkb25seScsICdyZWFkb25seScpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCWxpY2VuY2VLZXkucmVtb3ZlQXR0cigncmVhZG9ubHknKTsKCQkJCQl9CgoJCQkJCWlmICh0eXBlID09PSAnc3VjY2VzcycgJiYgc2VydmVyLmRhdGEucmVsb2FkKSB7CgoJCQkJCQlkcmFnZ2FibGUudGhlbihyZXN1bHQgPT4gewoJCQkJCQkJY29uc3QgcmVsb2FkID0gY29uZmlybShtZXNzaWFWYXJzLm1lc3NhZ2VzLnJlbG9hZENvbmZpcm0pOwoJCQkJCQkJaWYgKHJlbG9hZCkgewoJCQkJCQkJCXdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKCQkJCQkJCX0KCQkJCQkJfSk7CgkJCQkJfQoKCQkJCQlzYXZlTGljZW5jZURhdGEoKTsKCQkJCQkkKGRvY3VtZW50KS50cmlnZ2VyKCdtZXNzaWFDb250ZW50SXNTYXZlZCcpOwoJCQkJCU1lc3NpYS50YWJzX3NlbGVjdG9yLnRyaWdnZXIoJ3Jlc2V0U2F2ZVN0YXRlJyk7CgkJCQkJYnJlYWs7CgoJCQkJZGVmYXVsdDoKCQkJCQkkLmZuLlRhYnNQbHVnaW5GcmFtZVdvcmsoJ3Nob3dNZXNzYWdlJywgc2VydmVyLmRhdGEucmVzcG9uc2UubWVzc2FnZSwgJ2Vycm9yJyk7CgkJCQkJYnJlYWs7CgkJCX0KCQl9CgoJCXRyeSB7CgoJCQlpZiAoYWJvcnRDb250cm9sbGVyICE9IG51bGwpIHsKCQkJCWFib3J0Q29udHJvbGxlci5hYm9ydCgpOwoJCQkJYWJvcnRDb250cm9sbGVyID0gbnVsbDsKCQkJfQoKCQkJYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpOwoJCQlzdGFydEFjdGlvbigpOwoJCQljb25zdAoJCQkJcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtZXNzaWFWYXJzLmFqYXhVcmwsIHsKCQkJCQltZXRob2Q6ICdQT1NUJywKCQkJCQlib2R5OiBmb3JtRGF0YSwKCQkJCQlzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwsCgkJCQl9KSwKCQkJCXNlcnZlciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKCQkJZmluaXNoQWN0aW9uKHNlcnZlcik7CgkJfSBjYXRjaCAoZXJyb3IpIHsKCQkJaWYgKGVycm9yLm5hbWUgIT09ICdBYm9ydEVycm9yJykgewoJCQkJJC5mbi5UYWJzUGx1Z2luRnJhbWVXb3JrKCdzaG93TWVzc2FnZScsIGVycm9yLm1lc3NhZ2UsICdlcnJvcicpOwoJCQkJTWVzc2lhRXh0LmxvZ2dlci5lcnJvcihlcnJvcik7CgkJCX0KCQl9Cgl9OwoKCWNvbnN0IGxpY2VuY2VEYXRhU2F2ZWQgPSBmdW5jdGlvbiAoZSkgewoKCQljb25zdAoJCQlzYXZlZF9maWVsZHMgPSBKU09OLnBhcnNlKCQodGhpcykudmFsKCkpLAoJCQlnZXR0ZXJzID0gJCh0aGlzKS5wYXJlbnRzKCcuZGF0YScpOwoKCQlmb3IgKGxldCBrZXkgaW4gc2F2ZWRfZmllbGRzKSB7CgkJCWdldHRlcnMuZmluZChgIyR7a2V5fWApLnZhbChzYXZlZF9maWVsZHNba2V5XSk7CgkJfQoJfTsKCgkkKCdib2R5Jykub24oJ2JlZm9yZVNhdmUnLCBzYXZlTGljZW5jZURhdGEpOwoJJCgnYm9keScpLm9uKCdjbGljaycsIHNlbGVjdG9ycy5saWNlbmNlSGFuZGxlciwgbGljZW5jZVN0YXR1c1RvZ2dsZSk7CgkkKCcuY2FsbGJhY2sgLm1lc3NpYS10aGVtZS1saWNlbmNlLWZvcm0taG9sZGVyIGlucHV0W25hbWU9InRoZW1lX2xpY2VuY2VfZGF0YSJdJykub24oJ3VwZGF0ZWQnLCBsaWNlbmNlRGF0YVNhdmVkKTsKCWxpY2VuY2VBY3Rpb24uY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5saWNlbmNlSGFuZGxlciksICd1cGRhdGVTdGF0dXMnKTsKfTsiO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbmFtZXNwYWNlcyI7YTowOnt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbmNsdWRlcyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBmdW5jdGlvbnMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY29uc3RhbnRzIjthOjA6e31zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNsYXNzZXMiO2E6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fXM6NDA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZW51bXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbWV0YWRhdGEiO2E6MDp7fX0=";