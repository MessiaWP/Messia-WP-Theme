1702936349
waR3U4bTeM%3A6a04e658ec94bf7bbdfd13a7201a3b2c-04bdc554e0a8cc2426cb1d5900d525fb
s:232880:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjA0YmRjNTU0ZTBhOGNjMjQyNmNiMWQ1OTAwZDUyNWZiIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MTU6ImZyb250ZW5kLm1pbi5qcyI7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBwYXRoIjtzOjM0OiJpbmNsdWRlcy9hc3NldHMvanMvZnJvbnRlbmQubWluLmpzIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czoxNzM3NDE6IiFmdW5jdGlvbigpe3ZhciBlPXs5NDkyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5yKHQpLG4uZCh0LHthZnRlck1haW46ZnVuY3Rpb24oKXtyZXR1cm4gd30sYWZ0ZXJSZWFkOmZ1bmN0aW9uKCl7cmV0dXJuIGJ9LGFmdGVyV3JpdGU6ZnVuY3Rpb24oKXtyZXR1cm4gRX0sYXBwbHlTdHlsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gTn0sYXJyb3c6ZnVuY3Rpb24oKXtyZXR1cm4gR30sYXV0bzpmdW5jdGlvbigpe3JldHVybiBhfSxiYXNlUGxhY2VtZW50czpmdW5jdGlvbigpe3JldHVybiBsfSxiZWZvcmVNYWluOmZ1bmN0aW9uKCl7cmV0dXJuIHh9LGJlZm9yZVJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdn0sYmVmb3JlV3JpdGU6ZnVuY3Rpb24oKXtyZXR1cm4gVH0sYm90dG9tOmZ1bmN0aW9uKCl7cmV0dXJuIHJ9LGNsaXBwaW5nUGFyZW50czpmdW5jdGlvbigpe3JldHVybiBmfSxjb21wdXRlU3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIG5lfSxjcmVhdGVQb3BwZXI6ZnVuY3Rpb24oKXtyZXR1cm4gTmV9LGNyZWF0ZVBvcHBlckJhc2U6ZnVuY3Rpb24oKXtyZXR1cm4gT2V9LGNyZWF0ZVBvcHBlckxpdGU6ZnVuY3Rpb24oKXtyZXR1cm4gTGV9LGRldGVjdE92ZXJmbG93OmZ1bmN0aW9uKCl7cmV0dXJuIHllfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdX0sZXZlbnRMaXN0ZW5lcnM6ZnVuY3Rpb24oKXtyZXR1cm4gcmV9LGZsaXA6ZnVuY3Rpb24oKXtyZXR1cm4gYmV9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gd2V9LGxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gc30sbWFpbjpmdW5jdGlvbigpe3JldHVybiBffSxtb2RpZmllclBoYXNlczpmdW5jdGlvbigpe3JldHVybiBBfSxvZmZzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVGV9LHBsYWNlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gbX0scG9wcGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHB9LHBvcHBlckdlbmVyYXRvcjpmdW5jdGlvbigpe3JldHVybiBqZX0scG9wcGVyT2Zmc2V0czpmdW5jdGlvbigpe3JldHVybiBDZX0scHJldmVudE92ZXJmbG93OmZ1bmN0aW9uKCl7cmV0dXJuIEVlfSxyZWFkOmZ1bmN0aW9uKCl7cmV0dXJuIHl9LHJlZmVyZW5jZTpmdW5jdGlvbigpe3JldHVybiBofSxyaWdodDpmdW5jdGlvbigpe3JldHVybiBvfSxzdGFydDpmdW5jdGlvbigpe3JldHVybiBjfSx0b3A6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sdmFyaWF0aW9uUGxhY2VtZW50czpmdW5jdGlvbigpe3JldHVybiBnfSx2aWV3cG9ydDpmdW5jdGlvbigpe3JldHVybiBkfSx3cml0ZTpmdW5jdGlvbigpe3JldHVybiBDfX0pO3ZhciBpPSJ0b3AiLHI9ImJvdHRvbSIsbz0icmlnaHQiLHM9ImxlZnQiLGE9ImF1dG8iLGw9W2kscixvLHNdLGM9InN0YXJ0Iix1PSJlbmQiLGY9ImNsaXBwaW5nUGFyZW50cyIsZD0idmlld3BvcnQiLHA9InBvcHBlciIsaD0icmVmZXJlbmNlIixnPWwucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdChbdCsiLSIrYyx0KyItIit1XSl9KSxbXSksbT1bXS5jb25jYXQobCxbYV0pLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQoW3QsdCsiLSIrYyx0KyItIit1XSl9KSxbXSksdj0iYmVmb3JlUmVhZCIseT0icmVhZCIsYj0iYWZ0ZXJSZWFkIix4PSJiZWZvcmVNYWluIixfPSJtYWluIix3PSJhZnRlck1haW4iLFQ9ImJlZm9yZVdyaXRlIixDPSJ3cml0ZSIsRT0iYWZ0ZXJXcml0ZSIsQT1bdix5LGIseCxfLHcsVCxDLEVdO2Z1bmN0aW9uIGsoZSl7cmV0dXJuIGU/KGUubm9kZU5hbWV8fCIiKS50b0xvd2VyQ2FzZSgpOm51bGx9ZnVuY3Rpb24gUyhlKXtpZihudWxsPT1lKXJldHVybiB3aW5kb3c7aWYoIltvYmplY3QgV2luZG93XSIhPT1lLnRvU3RyaW5nKCkpe3ZhciB0PWUub3duZXJEb2N1bWVudDtyZXR1cm4gdCYmdC5kZWZhdWx0Vmlld3x8d2luZG93fXJldHVybiBlfWZ1bmN0aW9uIEQoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBTKGUpLkVsZW1lbnR8fGUgaW5zdGFuY2VvZiBFbGVtZW50fWZ1bmN0aW9uIGooZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBTKGUpLkhUTUxFbGVtZW50fHxlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnR9ZnVuY3Rpb24gTyhlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFNoYWRvd1Jvb3QmJihlIGluc3RhbmNlb2YgUyhlKS5TaGFkb3dSb290fHxlIGluc3RhbmNlb2YgU2hhZG93Um9vdCl9dmFyIE49e25hbWU6ImFwcGx5U3R5bGVzIixlbmFibGVkOiEwLHBoYXNlOiJ3cml0ZSIsZm46ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGF0ZTtPYmplY3Qua2V5cyh0LmVsZW1lbnRzKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj10LnN0eWxlc1tlXXx8e30saT10LmF0dHJpYnV0ZXNbZV18fHt9LHI9dC5lbGVtZW50c1tlXTtqKHIpJiZrKHIpJiYoT2JqZWN0LmFzc2lnbihyLnN0eWxlLG4pLE9iamVjdC5rZXlzKGkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWlbZV07ITE9PT10P3IucmVtb3ZlQXR0cmlidXRlKGUpOnIuc2V0QXR0cmlidXRlKGUsITA9PT10PyIiOnQpfSkpKX0pKX0sZWZmZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhdGUsbj17cG9wcGVyOntwb3NpdGlvbjp0Lm9wdGlvbnMuc3RyYXRlZ3ksbGVmdDoiMCIsdG9wOiIwIixtYXJnaW46IjAifSxhcnJvdzp7cG9zaXRpb246ImFic29sdXRlIn0scmVmZXJlbmNlOnt9fTtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LmVsZW1lbnRzLnBvcHBlci5zdHlsZSxuLnBvcHBlciksdC5zdHlsZXM9bix0LmVsZW1lbnRzLmFycm93JiZPYmplY3QuYXNzaWduKHQuZWxlbWVudHMuYXJyb3cuc3R5bGUsbi5hcnJvdyksZnVuY3Rpb24oKXtPYmplY3Qua2V5cyh0LmVsZW1lbnRzKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT10LmVsZW1lbnRzW2VdLHI9dC5hdHRyaWJ1dGVzW2VdfHx7fSxvPU9iamVjdC5rZXlzKHQuc3R5bGVzLmhhc093blByb3BlcnR5KGUpP3Quc3R5bGVzW2VdOm5bZV0pLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT0iIixlfSkse30pO2ooaSkmJmsoaSkmJihPYmplY3QuYXNzaWduKGkuc3R5bGUsbyksT2JqZWN0LmtleXMocikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS5yZW1vdmVBdHRyaWJ1dGUoZSl9KSkpfSkpfX0scmVxdWlyZXM6WyJjb21wdXRlU3R5bGVzIl19O2Z1bmN0aW9uIEwoZSl7cmV0dXJuIGUuc3BsaXQoIi0iKVswXX12YXIgTT1NYXRoLm1heCxQPU1hdGgubWluLCQ9TWF0aC5yb3VuZDtmdW5jdGlvbiBxKCl7dmFyIGU9bmF2aWdhdG9yLnVzZXJBZ2VudERhdGE7cmV0dXJuIG51bGwhPWUmJmUuYnJhbmRzP2UuYnJhbmRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYnJhbmQrIi8iK2UudmVyc2lvbn0pKS5qb2luKCIgIik6bmF2aWdhdG9yLnVzZXJBZ2VudH1mdW5jdGlvbiBIKCl7cmV0dXJuIS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QocSgpKX1mdW5jdGlvbiBJKGUsdCxuKXt2b2lkIDA9PT10JiYodD0hMSksdm9pZCAwPT09biYmKG49ITEpO3ZhciBpPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscj0xLG89MTt0JiZqKGUpJiYocj1lLm9mZnNldFdpZHRoPjAmJiQoaS53aWR0aCkvZS5vZmZzZXRXaWR0aHx8MSxvPWUub2Zmc2V0SGVpZ2h0PjAmJiQoaS5oZWlnaHQpL2Uub2Zmc2V0SGVpZ2h0fHwxKTt2YXIgcz0oRChlKT9TKGUpOndpbmRvdykudmlzdWFsVmlld3BvcnQsYT0hSCgpJiZuLGw9KGkubGVmdCsoYSYmcz9zLm9mZnNldExlZnQ6MCkpL3IsYz0oaS50b3ArKGEmJnM/cy5vZmZzZXRUb3A6MCkpL28sdT1pLndpZHRoL3IsZj1pLmhlaWdodC9vO3JldHVybnt3aWR0aDp1LGhlaWdodDpmLHRvcDpjLHJpZ2h0OmwrdSxib3R0b206YytmLGxlZnQ6bCx4OmwseTpjfX1mdW5jdGlvbiBSKGUpe3ZhciB0PUkoZSksbj1lLm9mZnNldFdpZHRoLGk9ZS5vZmZzZXRIZWlnaHQ7cmV0dXJuIE1hdGguYWJzKHQud2lkdGgtbik8PTEmJihuPXQud2lkdGgpLE1hdGguYWJzKHQuaGVpZ2h0LWkpPD0xJiYoaT10LmhlaWdodCkse3g6ZS5vZmZzZXRMZWZ0LHk6ZS5vZmZzZXRUb3Asd2lkdGg6bixoZWlnaHQ6aX19ZnVuY3Rpb24gRihlLHQpe3ZhciBuPXQuZ2V0Um9vdE5vZGUmJnQuZ2V0Um9vdE5vZGUoKTtpZihlLmNvbnRhaW5zKHQpKXJldHVybiEwO2lmKG4mJk8obikpe3ZhciBpPXQ7ZG97aWYoaSYmZS5pc1NhbWVOb2RlKGkpKXJldHVybiEwO2k9aS5wYXJlbnROb2RlfHxpLmhvc3R9d2hpbGUoaSl9cmV0dXJuITF9ZnVuY3Rpb24gVyhlKXtyZXR1cm4gUyhlKS5nZXRDb21wdXRlZFN0eWxlKGUpfWZ1bmN0aW9uIEIoZSl7cmV0dXJuWyJ0YWJsZSIsInRkIiwidGgiXS5pbmRleE9mKGsoZSkpPj0wfWZ1bmN0aW9uIHooZSl7cmV0dXJuKChEKGUpP2Uub3duZXJEb2N1bWVudDplLmRvY3VtZW50KXx8d2luZG93LmRvY3VtZW50KS5kb2N1bWVudEVsZW1lbnR9ZnVuY3Rpb24gVihlKXtyZXR1cm4iaHRtbCI9PT1rKGUpP2U6ZS5hc3NpZ25lZFNsb3R8fGUucGFyZW50Tm9kZXx8KE8oZSk/ZS5ob3N0Om51bGwpfHx6KGUpfWZ1bmN0aW9uIFUoZSl7cmV0dXJuIGooZSkmJiJmaXhlZCIhPT1XKGUpLnBvc2l0aW9uP2Uub2Zmc2V0UGFyZW50Om51bGx9ZnVuY3Rpb24gUShlKXtmb3IodmFyIHQ9UyhlKSxuPVUoZSk7biYmQihuKSYmInN0YXRpYyI9PT1XKG4pLnBvc2l0aW9uOyluPVUobik7cmV0dXJuIG4mJigiaHRtbCI9PT1rKG4pfHwiYm9keSI9PT1rKG4pJiYic3RhdGljIj09PVcobikucG9zaXRpb24pP3Q6bnx8ZnVuY3Rpb24oZSl7dmFyIHQ9L2ZpcmVmb3gvaS50ZXN0KHEoKSk7aWYoL1RyaWRlbnQvaS50ZXN0KHEoKSkmJmooZSkmJiJmaXhlZCI9PT1XKGUpLnBvc2l0aW9uKXJldHVybiBudWxsO3ZhciBuPVYoZSk7Zm9yKE8obikmJihuPW4uaG9zdCk7aihuKSYmWyJodG1sIiwiYm9keSJdLmluZGV4T2YoayhuKSk8MDspe3ZhciBpPVcobik7aWYoIm5vbmUiIT09aS50cmFuc2Zvcm18fCJub25lIiE9PWkucGVyc3BlY3RpdmV8fCJwYWludCI9PT1pLmNvbnRhaW58fC0xIT09WyJ0cmFuc2Zvcm0iLCJwZXJzcGVjdGl2ZSJdLmluZGV4T2YoaS53aWxsQ2hhbmdlKXx8dCYmImZpbHRlciI9PT1pLndpbGxDaGFuZ2V8fHQmJmkuZmlsdGVyJiYibm9uZSIhPT1pLmZpbHRlcilyZXR1cm4gbjtuPW4ucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0oZSl8fHR9ZnVuY3Rpb24gWShlKXtyZXR1cm5bInRvcCIsImJvdHRvbSJdLmluZGV4T2YoZSk+PTA/IngiOiJ5In1mdW5jdGlvbiBYKGUsdCxuKXtyZXR1cm4gTShlLFAodCxuKSl9ZnVuY3Rpb24gSihlKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSx7dG9wOjAscmlnaHQ6MCxib3R0b206MCxsZWZ0OjB9LGUpfWZ1bmN0aW9uIEsoZSx0KXtyZXR1cm4gdC5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHRbbl09ZSx0fSkse30pfXZhciBHPXtuYW1lOiJhcnJvdyIsZW5hYmxlZDohMCxwaGFzZToibWFpbiIsZm46ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnN0YXRlLGE9ZS5uYW1lLGM9ZS5vcHRpb25zLHU9bi5lbGVtZW50cy5hcnJvdyxmPW4ubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzLGQ9TChuLnBsYWNlbWVudCkscD1ZKGQpLGg9W3Msb10uaW5kZXhPZihkKT49MD8iaGVpZ2h0Ijoid2lkdGgiO2lmKHUmJmYpe3ZhciBnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEooIm51bWJlciIhPXR5cGVvZihlPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2UoT2JqZWN0LmFzc2lnbih7fSx0LnJlY3RzLHtwbGFjZW1lbnQ6dC5wbGFjZW1lbnR9KSk6ZSk/ZTpLKGUsbCkpfShjLnBhZGRpbmcsbiksbT1SKHUpLHY9InkiPT09cD9pOnMseT0ieSI9PT1wP3I6byxiPW4ucmVjdHMucmVmZXJlbmNlW2hdK24ucmVjdHMucmVmZXJlbmNlW3BdLWZbcF0tbi5yZWN0cy5wb3BwZXJbaF0seD1mW3BdLW4ucmVjdHMucmVmZXJlbmNlW3BdLF89USh1KSx3PV8/InkiPT09cD9fLmNsaWVudEhlaWdodHx8MDpfLmNsaWVudFdpZHRofHwwOjAsVD1iLzIteC8yLEM9Z1t2XSxFPXctbVtoXS1nW3ldLEE9dy8yLW1baF0vMitULGs9WChDLEEsRSksUz1wO24ubW9kaWZpZXJzRGF0YVthXT0oKHQ9e30pW1NdPWssdC5jZW50ZXJPZmZzZXQ9ay1BLHQpfX0sZWZmZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhdGUsbj1lLm9wdGlvbnMuZWxlbWVudCxpPXZvaWQgMD09PW4/IltkYXRhLXBvcHBlci1hcnJvd10iOm47bnVsbCE9aSYmKCJzdHJpbmciIT10eXBlb2YgaXx8KGk9dC5lbGVtZW50cy5wb3BwZXIucXVlcnlTZWxlY3RvcihpKSkpJiZGKHQuZWxlbWVudHMucG9wcGVyLGkpJiYodC5lbGVtZW50cy5hcnJvdz1pKX0scmVxdWlyZXM6WyJwb3BwZXJPZmZzZXRzIl0scmVxdWlyZXNJZkV4aXN0czpbInByZXZlbnRPdmVyZmxvdyJdfTtmdW5jdGlvbiBaKGUpe3JldHVybiBlLnNwbGl0KCItIilbMV19dmFyIGVlPXt0b3A6ImF1dG8iLHJpZ2h0OiJhdXRvIixib3R0b206ImF1dG8iLGxlZnQ6ImF1dG8ifTtmdW5jdGlvbiB0ZShlKXt2YXIgdCxuPWUucG9wcGVyLGE9ZS5wb3BwZXJSZWN0LGw9ZS5wbGFjZW1lbnQsYz1lLnZhcmlhdGlvbixmPWUub2Zmc2V0cyxkPWUucG9zaXRpb24scD1lLmdwdUFjY2VsZXJhdGlvbixoPWUuYWRhcHRpdmUsZz1lLnJvdW5kT2Zmc2V0cyxtPWUuaXNGaXhlZCx2PWYueCx5PXZvaWQgMD09PXY/MDp2LGI9Zi55LHg9dm9pZCAwPT09Yj8wOmIsXz0iZnVuY3Rpb24iPT10eXBlb2YgZz9nKHt4OnkseTp4fSk6e3g6eSx5Onh9O3k9Xy54LHg9Xy55O3ZhciB3PWYuaGFzT3duUHJvcGVydHkoIngiKSxUPWYuaGFzT3duUHJvcGVydHkoInkiKSxDPXMsRT1pLEE9d2luZG93O2lmKGgpe3ZhciBrPVEobiksRD0iY2xpZW50SGVpZ2h0IixqPSJjbGllbnRXaWR0aCI7aWYoaz09PVMobikmJiJzdGF0aWMiIT09VyhrPXoobikpLnBvc2l0aW9uJiYiYWJzb2x1dGUiPT09ZCYmKEQ9InNjcm9sbEhlaWdodCIsaj0ic2Nyb2xsV2lkdGgiKSxsPT09aXx8KGw9PT1zfHxsPT09bykmJmM9PT11KUU9cix4LT0obSYmaz09PUEmJkEudmlzdWFsVmlld3BvcnQ/QS52aXN1YWxWaWV3cG9ydC5oZWlnaHQ6a1tEXSktYS5oZWlnaHQseCo9cD8xOi0xO2lmKGw9PT1zfHwobD09PWl8fGw9PT1yKSYmYz09PXUpQz1vLHktPShtJiZrPT09QSYmQS52aXN1YWxWaWV3cG9ydD9BLnZpc3VhbFZpZXdwb3J0LndpZHRoOmtbal0pLWEud2lkdGgseSo9cD8xOi0xfXZhciBPLE49T2JqZWN0LmFzc2lnbih7cG9zaXRpb246ZH0saCYmZWUpLEw9ITA9PT1nP2Z1bmN0aW9uKGUpe3ZhciB0PWUueCxuPWUueSxpPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxO3JldHVybnt4OiQodCppKS9pfHwwLHk6JChuKmkpL2l8fDB9fSh7eDp5LHk6eH0pOnt4OnkseTp4fTtyZXR1cm4geT1MLngseD1MLnkscD9PYmplY3QuYXNzaWduKHt9LE4sKChPPXt9KVtFXT1UPyIwIjoiIixPW0NdPXc/IjAiOiIiLE8udHJhbnNmb3JtPShBLmRldmljZVBpeGVsUmF0aW98fDEpPD0xPyJ0cmFuc2xhdGUoIit5KyJweCwgIit4KyJweCkiOiJ0cmFuc2xhdGUzZCgiK3krInB4LCAiK3grInB4LCAwKSIsTykpOk9iamVjdC5hc3NpZ24oe30sTiwoKHQ9e30pW0VdPVQ/eCsicHgiOiIiLHRbQ109dz95KyJweCI6IiIsdC50cmFuc2Zvcm09IiIsdCkpfXZhciBuZT17bmFtZToiY29tcHV0ZVN0eWxlcyIsZW5hYmxlZDohMCxwaGFzZToiYmVmb3JlV3JpdGUiLGZuOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhdGUsbj1lLm9wdGlvbnMsaT1uLmdwdUFjY2VsZXJhdGlvbixyPXZvaWQgMD09PWl8fGksbz1uLmFkYXB0aXZlLHM9dm9pZCAwPT09b3x8byxhPW4ucm91bmRPZmZzZXRzLGw9dm9pZCAwPT09YXx8YSxjPXtwbGFjZW1lbnQ6TCh0LnBsYWNlbWVudCksdmFyaWF0aW9uOloodC5wbGFjZW1lbnQpLHBvcHBlcjp0LmVsZW1lbnRzLnBvcHBlcixwb3BwZXJSZWN0OnQucmVjdHMucG9wcGVyLGdwdUFjY2VsZXJhdGlvbjpyLGlzRml4ZWQ6ImZpeGVkIj09PXQub3B0aW9ucy5zdHJhdGVneX07bnVsbCE9dC5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMmJih0LnN0eWxlcy5wb3BwZXI9T2JqZWN0LmFzc2lnbih7fSx0LnN0eWxlcy5wb3BwZXIsdGUoT2JqZWN0LmFzc2lnbih7fSxjLHtvZmZzZXRzOnQubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzLHBvc2l0aW9uOnQub3B0aW9ucy5zdHJhdGVneSxhZGFwdGl2ZTpzLHJvdW5kT2Zmc2V0czpsfSkpKSksbnVsbCE9dC5tb2RpZmllcnNEYXRhLmFycm93JiYodC5zdHlsZXMuYXJyb3c9T2JqZWN0LmFzc2lnbih7fSx0LnN0eWxlcy5hcnJvdyx0ZShPYmplY3QuYXNzaWduKHt9LGMse29mZnNldHM6dC5tb2RpZmllcnNEYXRhLmFycm93LHBvc2l0aW9uOiJhYnNvbHV0ZSIsYWRhcHRpdmU6ITEscm91bmRPZmZzZXRzOmx9KSkpKSx0LmF0dHJpYnV0ZXMucG9wcGVyPU9iamVjdC5hc3NpZ24oe30sdC5hdHRyaWJ1dGVzLnBvcHBlcix7ImRhdGEtcG9wcGVyLXBsYWNlbWVudCI6dC5wbGFjZW1lbnR9KX0sZGF0YTp7fX0saWU9e3Bhc3NpdmU6ITB9O3ZhciByZT17bmFtZToiZXZlbnRMaXN0ZW5lcnMiLGVuYWJsZWQ6ITAscGhhc2U6IndyaXRlIixmbjpmdW5jdGlvbigpe30sZWZmZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhdGUsbj1lLmluc3RhbmNlLGk9ZS5vcHRpb25zLHI9aS5zY3JvbGwsbz12b2lkIDA9PT1yfHxyLHM9aS5yZXNpemUsYT12b2lkIDA9PT1zfHxzLGw9Uyh0LmVsZW1lbnRzLnBvcHBlciksYz1bXS5jb25jYXQodC5zY3JvbGxQYXJlbnRzLnJlZmVyZW5jZSx0LnNjcm9sbFBhcmVudHMucG9wcGVyKTtyZXR1cm4gbyYmYy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsbi51cGRhdGUsaWUpfSkpLGEmJmwuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIixuLnVwZGF0ZSxpZSksZnVuY3Rpb24oKXtvJiZjLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIixuLnVwZGF0ZSxpZSl9KSksYSYmbC5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLG4udXBkYXRlLGllKX19LGRhdGE6e319LG9lPXtsZWZ0OiJyaWdodCIscmlnaHQ6ImxlZnQiLGJvdHRvbToidG9wIix0b3A6ImJvdHRvbSJ9O2Z1bmN0aW9uIHNlKGUpe3JldHVybiBlLnJlcGxhY2UoL2xlZnR8cmlnaHR8Ym90dG9tfHRvcC9nLChmdW5jdGlvbihlKXtyZXR1cm4gb2VbZV19KSl9dmFyIGFlPXtzdGFydDoiZW5kIixlbmQ6InN0YXJ0In07ZnVuY3Rpb24gbGUoZSl7cmV0dXJuIGUucmVwbGFjZSgvc3RhcnR8ZW5kL2csKGZ1bmN0aW9uKGUpe3JldHVybiBhZVtlXX0pKX1mdW5jdGlvbiBjZShlKXt2YXIgdD1TKGUpO3JldHVybntzY3JvbGxMZWZ0OnQucGFnZVhPZmZzZXQsc2Nyb2xsVG9wOnQucGFnZVlPZmZzZXR9fWZ1bmN0aW9uIHVlKGUpe3JldHVybiBJKHooZSkpLmxlZnQrY2UoZSkuc2Nyb2xsTGVmdH1mdW5jdGlvbiBmZShlKXt2YXIgdD1XKGUpLG49dC5vdmVyZmxvdyxpPXQub3ZlcmZsb3dYLHI9dC5vdmVyZmxvd1k7cmV0dXJuL2F1dG98c2Nyb2xsfG92ZXJsYXl8aGlkZGVuLy50ZXN0KG4rcitpKX1mdW5jdGlvbiBkZShlKXtyZXR1cm5bImh0bWwiLCJib2R5IiwiI2RvY3VtZW50Il0uaW5kZXhPZihrKGUpKT49MD9lLm93bmVyRG9jdW1lbnQuYm9keTpqKGUpJiZmZShlKT9lOmRlKFYoZSkpfWZ1bmN0aW9uIHBlKGUsdCl7dmFyIG47dm9pZCAwPT09dCYmKHQ9W10pO3ZhciBpPWRlKGUpLHI9aT09PShudWxsPT0obj1lLm93bmVyRG9jdW1lbnQpP3ZvaWQgMDpuLmJvZHkpLG89UyhpKSxzPXI/W29dLmNvbmNhdChvLnZpc3VhbFZpZXdwb3J0fHxbXSxmZShpKT9pOltdKTppLGE9dC5jb25jYXQocyk7cmV0dXJuIHI/YTphLmNvbmNhdChwZShWKHMpKSl9ZnVuY3Rpb24gaGUoZSl7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZSx7bGVmdDplLngsdG9wOmUueSxyaWdodDplLngrZS53aWR0aCxib3R0b206ZS55K2UuaGVpZ2h0fSl9ZnVuY3Rpb24gZ2UoZSx0LG4pe3JldHVybiB0PT09ZD9oZShmdW5jdGlvbihlLHQpe3ZhciBuPVMoZSksaT16KGUpLHI9bi52aXN1YWxWaWV3cG9ydCxvPWkuY2xpZW50V2lkdGgscz1pLmNsaWVudEhlaWdodCxhPTAsbD0wO2lmKHIpe289ci53aWR0aCxzPXIuaGVpZ2h0O3ZhciBjPUgoKTsoY3x8IWMmJiJmaXhlZCI9PT10KSYmKGE9ci5vZmZzZXRMZWZ0LGw9ci5vZmZzZXRUb3ApfXJldHVybnt3aWR0aDpvLGhlaWdodDpzLHg6YSt1ZShlKSx5Omx9fShlLG4pKTpEKHQpP2Z1bmN0aW9uKGUsdCl7dmFyIG49SShlLCExLCJmaXhlZCI9PT10KTtyZXR1cm4gbi50b3A9bi50b3ArZS5jbGllbnRUb3Asbi5sZWZ0PW4ubGVmdCtlLmNsaWVudExlZnQsbi5ib3R0b209bi50b3ArZS5jbGllbnRIZWlnaHQsbi5yaWdodD1uLmxlZnQrZS5jbGllbnRXaWR0aCxuLndpZHRoPWUuY2xpZW50V2lkdGgsbi5oZWlnaHQ9ZS5jbGllbnRIZWlnaHQsbi54PW4ubGVmdCxuLnk9bi50b3Asbn0odCxuKTpoZShmdW5jdGlvbihlKXt2YXIgdCxuPXooZSksaT1jZShlKSxyPW51bGw9PSh0PWUub3duZXJEb2N1bWVudCk/dm9pZCAwOnQuYm9keSxvPU0obi5zY3JvbGxXaWR0aCxuLmNsaWVudFdpZHRoLHI/ci5zY3JvbGxXaWR0aDowLHI/ci5jbGllbnRXaWR0aDowKSxzPU0obi5zY3JvbGxIZWlnaHQsbi5jbGllbnRIZWlnaHQscj9yLnNjcm9sbEhlaWdodDowLHI/ci5jbGllbnRIZWlnaHQ6MCksYT0taS5zY3JvbGxMZWZ0K3VlKGUpLGw9LWkuc2Nyb2xsVG9wO3JldHVybiJydGwiPT09VyhyfHxuKS5kaXJlY3Rpb24mJihhKz1NKG4uY2xpZW50V2lkdGgscj9yLmNsaWVudFdpZHRoOjApLW8pLHt3aWR0aDpvLGhlaWdodDpzLHg6YSx5Omx9fSh6KGUpKSl9ZnVuY3Rpb24gbWUoZSx0LG4saSl7dmFyIHI9ImNsaXBwaW5nUGFyZW50cyI9PT10P2Z1bmN0aW9uKGUpe3ZhciB0PXBlKFYoZSkpLG49WyJhYnNvbHV0ZSIsImZpeGVkIl0uaW5kZXhPZihXKGUpLnBvc2l0aW9uKT49MCYmaihlKT9RKGUpOmU7cmV0dXJuIEQobik/dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBEKGUpJiZGKGUsbikmJiJib2R5IiE9PWsoZSl9KSk6W119KGUpOltdLmNvbmNhdCh0KSxvPVtdLmNvbmNhdChyLFtuXSkscz1vWzBdLGE9by5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7dmFyIHI9Z2UoZSxuLGkpO3JldHVybiB0LnRvcD1NKHIudG9wLHQudG9wKSx0LnJpZ2h0PVAoci5yaWdodCx0LnJpZ2h0KSx0LmJvdHRvbT1QKHIuYm90dG9tLHQuYm90dG9tKSx0LmxlZnQ9TShyLmxlZnQsdC5sZWZ0KSx0fSksZ2UoZSxzLGkpKTtyZXR1cm4gYS53aWR0aD1hLnJpZ2h0LWEubGVmdCxhLmhlaWdodD1hLmJvdHRvbS1hLnRvcCxhLng9YS5sZWZ0LGEueT1hLnRvcCxhfWZ1bmN0aW9uIHZlKGUpe3ZhciB0LG49ZS5yZWZlcmVuY2UsYT1lLmVsZW1lbnQsbD1lLnBsYWNlbWVudCxmPWw/TChsKTpudWxsLGQ9bD9aKGwpOm51bGwscD1uLngrbi53aWR0aC8yLWEud2lkdGgvMixoPW4ueStuLmhlaWdodC8yLWEuaGVpZ2h0LzI7c3dpdGNoKGYpe2Nhc2UgaTp0PXt4OnAseTpuLnktYS5oZWlnaHR9O2JyZWFrO2Nhc2Ugcjp0PXt4OnAseTpuLnkrbi5oZWlnaHR9O2JyZWFrO2Nhc2Ugbzp0PXt4Om4ueCtuLndpZHRoLHk6aH07YnJlYWs7Y2FzZSBzOnQ9e3g6bi54LWEud2lkdGgseTpofTticmVhaztkZWZhdWx0OnQ9e3g6bi54LHk6bi55fX12YXIgZz1mP1koZik6bnVsbDtpZihudWxsIT1nKXt2YXIgbT0ieSI9PT1nPyJoZWlnaHQiOiJ3aWR0aCI7c3dpdGNoKGQpe2Nhc2UgYzp0W2ddPXRbZ10tKG5bbV0vMi1hW21dLzIpO2JyZWFrO2Nhc2UgdTp0W2ddPXRbZ10rKG5bbV0vMi1hW21dLzIpfX1yZXR1cm4gdH1mdW5jdGlvbiB5ZShlLHQpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgbj10LHM9bi5wbGFjZW1lbnQsYT12b2lkIDA9PT1zP2UucGxhY2VtZW50OnMsYz1uLnN0cmF0ZWd5LHU9dm9pZCAwPT09Yz9lLnN0cmF0ZWd5OmMsZz1uLmJvdW5kYXJ5LG09dm9pZCAwPT09Zz9mOmcsdj1uLnJvb3RCb3VuZGFyeSx5PXZvaWQgMD09PXY/ZDp2LGI9bi5lbGVtZW50Q29udGV4dCx4PXZvaWQgMD09PWI/cDpiLF89bi5hbHRCb3VuZGFyeSx3PXZvaWQgMCE9PV8mJl8sVD1uLnBhZGRpbmcsQz12b2lkIDA9PT1UPzA6VCxFPUooIm51bWJlciIhPXR5cGVvZiBDP0M6SyhDLGwpKSxBPXg9PT1wP2g6cCxrPWUucmVjdHMucG9wcGVyLFM9ZS5lbGVtZW50c1t3P0E6eF0saj1tZShEKFMpP1M6Uy5jb250ZXh0RWxlbWVudHx8eihlLmVsZW1lbnRzLnBvcHBlciksbSx5LHUpLE89SShlLmVsZW1lbnRzLnJlZmVyZW5jZSksTj12ZSh7cmVmZXJlbmNlOk8sZWxlbWVudDprLHN0cmF0ZWd5OiJhYnNvbHV0ZSIscGxhY2VtZW50OmF9KSxMPWhlKE9iamVjdC5hc3NpZ24oe30sayxOKSksTT14PT09cD9MOk8sUD17dG9wOmoudG9wLU0udG9wK0UudG9wLGJvdHRvbTpNLmJvdHRvbS1qLmJvdHRvbStFLmJvdHRvbSxsZWZ0OmoubGVmdC1NLmxlZnQrRS5sZWZ0LHJpZ2h0Ok0ucmlnaHQtai5yaWdodCtFLnJpZ2h0fSwkPWUubW9kaWZpZXJzRGF0YS5vZmZzZXQ7aWYoeD09PXAmJiQpe3ZhciBxPSRbYV07T2JqZWN0LmtleXMoUCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9W28scl0uaW5kZXhPZihlKT49MD8xOi0xLG49W2kscl0uaW5kZXhPZihlKT49MD8ieSI6IngiO1BbZV0rPXFbbl0qdH0pKX1yZXR1cm4gUH12YXIgYmU9e25hbWU6ImZsaXAiLGVuYWJsZWQ6ITAscGhhc2U6Im1haW4iLGZuOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhdGUsbj1lLm9wdGlvbnMsdT1lLm5hbWU7aWYoIXQubW9kaWZpZXJzRGF0YVt1XS5fc2tpcCl7Zm9yKHZhciBmPW4ubWFpbkF4aXMsZD12b2lkIDA9PT1mfHxmLHA9bi5hbHRBeGlzLGg9dm9pZCAwPT09cHx8cCx2PW4uZmFsbGJhY2tQbGFjZW1lbnRzLHk9bi5wYWRkaW5nLGI9bi5ib3VuZGFyeSx4PW4ucm9vdEJvdW5kYXJ5LF89bi5hbHRCb3VuZGFyeSx3PW4uZmxpcFZhcmlhdGlvbnMsVD12b2lkIDA9PT13fHx3LEM9bi5hbGxvd2VkQXV0b1BsYWNlbWVudHMsRT10Lm9wdGlvbnMucGxhY2VtZW50LEE9TChFKSxrPXZ8fChBPT09RXx8IVQ/W3NlKEUpXTpmdW5jdGlvbihlKXtpZihMKGUpPT09YSlyZXR1cm5bXTt2YXIgdD1zZShlKTtyZXR1cm5bbGUoZSksdCxsZSh0KV19KEUpKSxTPVtFXS5jb25jYXQoaykucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiBlLmNvbmNhdChMKG4pPT09YT9mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgbj10LGk9bi5wbGFjZW1lbnQscj1uLmJvdW5kYXJ5LG89bi5yb290Qm91bmRhcnkscz1uLnBhZGRpbmcsYT1uLmZsaXBWYXJpYXRpb25zLGM9bi5hbGxvd2VkQXV0b1BsYWNlbWVudHMsdT12b2lkIDA9PT1jP206YyxmPVooaSksZD1mP2E/ZzpnLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIFooZSk9PT1mfSkpOmwscD1kLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHUuaW5kZXhPZihlKT49MH0pKTswPT09cC5sZW5ndGgmJihwPWQpO3ZhciBoPXAucmVkdWNlKChmdW5jdGlvbih0LG4pe3JldHVybiB0W25dPXllKGUse3BsYWNlbWVudDpuLGJvdW5kYXJ5OnIscm9vdEJvdW5kYXJ5Om8scGFkZGluZzpzfSlbTChuKV0sdH0pLHt9KTtyZXR1cm4gT2JqZWN0LmtleXMoaCkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gaFtlXS1oW3RdfSkpfSh0LHtwbGFjZW1lbnQ6bixib3VuZGFyeTpiLHJvb3RCb3VuZGFyeTp4LHBhZGRpbmc6eSxmbGlwVmFyaWF0aW9uczpULGFsbG93ZWRBdXRvUGxhY2VtZW50czpDfSk6bil9KSxbXSksRD10LnJlY3RzLnJlZmVyZW5jZSxqPXQucmVjdHMucG9wcGVyLE89bmV3IE1hcCxOPSEwLE09U1swXSxQPTA7UDxTLmxlbmd0aDtQKyspe3ZhciAkPVNbUF0scT1MKCQpLEg9WigkKT09PWMsST1baSxyXS5pbmRleE9mKHEpPj0wLFI9ST8id2lkdGgiOiJoZWlnaHQiLEY9eWUodCx7cGxhY2VtZW50OiQsYm91bmRhcnk6Yixyb290Qm91bmRhcnk6eCxhbHRCb3VuZGFyeTpfLHBhZGRpbmc6eX0pLFc9ST9IP286czpIP3I6aTtEW1JdPmpbUl0mJihXPXNlKFcpKTt2YXIgQj1zZShXKSx6PVtdO2lmKGQmJnoucHVzaChGW3FdPD0wKSxoJiZ6LnB1c2goRltXXTw9MCxGW0JdPD0wKSx6LmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKSl7TT0kLE49ITE7YnJlYWt9Ty5zZXQoJCx6KX1pZihOKWZvcih2YXIgVj1mdW5jdGlvbihlKXt2YXIgdD1TLmZpbmQoKGZ1bmN0aW9uKHQpe3ZhciBuPU8uZ2V0KHQpO2lmKG4pcmV0dXJuIG4uc2xpY2UoMCxlKS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9KSk7aWYodClyZXR1cm4gTT10LCJicmVhayJ9LFU9VD8zOjE7VT4wO1UtLSl7aWYoImJyZWFrIj09PVYoVSkpYnJlYWt9dC5wbGFjZW1lbnQhPT1NJiYodC5tb2RpZmllcnNEYXRhW3VdLl9za2lwPSEwLHQucGxhY2VtZW50PU0sdC5yZXNldD0hMCl9fSxyZXF1aXJlc0lmRXhpc3RzOlsib2Zmc2V0Il0sZGF0YTp7X3NraXA6ITF9fTtmdW5jdGlvbiB4ZShlLHQsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPXt4OjAseTowfSkse3RvcDplLnRvcC10LmhlaWdodC1uLnkscmlnaHQ6ZS5yaWdodC10LndpZHRoK24ueCxib3R0b206ZS5ib3R0b20tdC5oZWlnaHQrbi55LGxlZnQ6ZS5sZWZ0LXQud2lkdGgtbi54fX1mdW5jdGlvbiBfZShlKXtyZXR1cm5baSxvLHIsc10uc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF0+PTB9KSl9dmFyIHdlPXtuYW1lOiJoaWRlIixlbmFibGVkOiEwLHBoYXNlOiJtYWluIixyZXF1aXJlc0lmRXhpc3RzOlsicHJldmVudE92ZXJmbG93Il0sZm46ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGF0ZSxuPWUubmFtZSxpPXQucmVjdHMucmVmZXJlbmNlLHI9dC5yZWN0cy5wb3BwZXIsbz10Lm1vZGlmaWVyc0RhdGEucHJldmVudE92ZXJmbG93LHM9eWUodCx7ZWxlbWVudENvbnRleHQ6InJlZmVyZW5jZSJ9KSxhPXllKHQse2FsdEJvdW5kYXJ5OiEwfSksbD14ZShzLGkpLGM9eGUoYSxyLG8pLHU9X2UobCksZj1fZShjKTt0Lm1vZGlmaWVyc0RhdGFbbl09e3JlZmVyZW5jZUNsaXBwaW5nT2Zmc2V0czpsLHBvcHBlckVzY2FwZU9mZnNldHM6Yyxpc1JlZmVyZW5jZUhpZGRlbjp1LGhhc1BvcHBlckVzY2FwZWQ6Zn0sdC5hdHRyaWJ1dGVzLnBvcHBlcj1PYmplY3QuYXNzaWduKHt9LHQuYXR0cmlidXRlcy5wb3BwZXIseyJkYXRhLXBvcHBlci1yZWZlcmVuY2UtaGlkZGVuIjp1LCJkYXRhLXBvcHBlci1lc2NhcGVkIjpmfSl9fTt2YXIgVGU9e25hbWU6Im9mZnNldCIsZW5hYmxlZDohMCxwaGFzZToibWFpbiIscmVxdWlyZXM6WyJwb3BwZXJPZmZzZXRzIl0sZm46ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGF0ZSxuPWUub3B0aW9ucyxyPWUubmFtZSxhPW4ub2Zmc2V0LGw9dm9pZCAwPT09YT9bMCwwXTphLGM9bS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGVbbl09ZnVuY3Rpb24oZSx0LG4pe3ZhciByPUwoZSksYT1bcyxpXS5pbmRleE9mKHIpPj0wPy0xOjEsbD0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uKE9iamVjdC5hc3NpZ24oe30sdCx7cGxhY2VtZW50OmV9KSk6bixjPWxbMF0sdT1sWzFdO3JldHVybiBjPWN8fDAsdT0odXx8MCkqYSxbcyxvXS5pbmRleE9mKHIpPj0wP3t4OnUseTpjfTp7eDpjLHk6dX19KG4sdC5yZWN0cyxsKSxlfSkse30pLHU9Y1t0LnBsYWNlbWVudF0sZj11LngsZD11Lnk7bnVsbCE9dC5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMmJih0Lm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cy54Kz1mLHQubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzLnkrPWQpLHQubW9kaWZpZXJzRGF0YVtyXT1jfX07dmFyIENlPXtuYW1lOiJwb3BwZXJPZmZzZXRzIixlbmFibGVkOiEwLHBoYXNlOiJyZWFkIixmbjpmdW5jdGlvbihlKXt2YXIgdD1lLnN0YXRlLG49ZS5uYW1lO3QubW9kaWZpZXJzRGF0YVtuXT12ZSh7cmVmZXJlbmNlOnQucmVjdHMucmVmZXJlbmNlLGVsZW1lbnQ6dC5yZWN0cy5wb3BwZXIsc3RyYXRlZ3k6ImFic29sdXRlIixwbGFjZW1lbnQ6dC5wbGFjZW1lbnR9KX0sZGF0YTp7fX07dmFyIEVlPXtuYW1lOiJwcmV2ZW50T3ZlcmZsb3ciLGVuYWJsZWQ6ITAscGhhc2U6Im1haW4iLGZuOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhdGUsbj1lLm9wdGlvbnMsYT1lLm5hbWUsbD1uLm1haW5BeGlzLHU9dm9pZCAwPT09bHx8bCxmPW4uYWx0QXhpcyxkPXZvaWQgMCE9PWYmJmYscD1uLmJvdW5kYXJ5LGg9bi5yb290Qm91bmRhcnksZz1uLmFsdEJvdW5kYXJ5LG09bi5wYWRkaW5nLHY9bi50ZXRoZXIseT12b2lkIDA9PT12fHx2LGI9bi50ZXRoZXJPZmZzZXQseD12b2lkIDA9PT1iPzA6YixfPXllKHQse2JvdW5kYXJ5OnAscm9vdEJvdW5kYXJ5OmgscGFkZGluZzptLGFsdEJvdW5kYXJ5Omd9KSx3PUwodC5wbGFjZW1lbnQpLFQ9Wih0LnBsYWNlbWVudCksQz0hVCxFPVkodyksQT0ieCI9PT1FPyJ5IjoieCIsaz10Lm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cyxTPXQucmVjdHMucmVmZXJlbmNlLEQ9dC5yZWN0cy5wb3BwZXIsaj0iZnVuY3Rpb24iPT10eXBlb2YgeD94KE9iamVjdC5hc3NpZ24oe30sdC5yZWN0cyx7cGxhY2VtZW50OnQucGxhY2VtZW50fSkpOngsTz0ibnVtYmVyIj09dHlwZW9mIGo/e21haW5BeGlzOmosYWx0QXhpczpqfTpPYmplY3QuYXNzaWduKHttYWluQXhpczowLGFsdEF4aXM6MH0saiksTj10Lm1vZGlmaWVyc0RhdGEub2Zmc2V0P3QubW9kaWZpZXJzRGF0YS5vZmZzZXRbdC5wbGFjZW1lbnRdOm51bGwsJD17eDowLHk6MH07aWYoayl7aWYodSl7dmFyIHEsSD0ieSI9PT1FP2k6cyxJPSJ5Ij09PUU/cjpvLEY9InkiPT09RT8iaGVpZ2h0Ijoid2lkdGgiLFc9a1tFXSxCPVcrX1tIXSx6PVctX1tJXSxWPXk/LURbRl0vMjowLFU9VD09PWM/U1tGXTpEW0ZdLEo9VD09PWM/LURbRl06LVNbRl0sSz10LmVsZW1lbnRzLmFycm93LEc9eSYmSz9SKEspOnt3aWR0aDowLGhlaWdodDowfSxlZT10Lm1vZGlmaWVyc0RhdGFbImFycm93I3BlcnNpc3RlbnQiXT90Lm1vZGlmaWVyc0RhdGFbImFycm93I3BlcnNpc3RlbnQiXS5wYWRkaW5nOnt0b3A6MCxyaWdodDowLGJvdHRvbTowLGxlZnQ6MH0sdGU9ZWVbSF0sbmU9ZWVbSV0saWU9WCgwLFNbRl0sR1tGXSkscmU9Qz9TW0ZdLzItVi1pZS10ZS1PLm1haW5BeGlzOlUtaWUtdGUtTy5tYWluQXhpcyxvZT1DPy1TW0ZdLzIrVitpZStuZStPLm1haW5BeGlzOkoraWUrbmUrTy5tYWluQXhpcyxzZT10LmVsZW1lbnRzLmFycm93JiZRKHQuZWxlbWVudHMuYXJyb3cpLGFlPXNlPyJ5Ij09PUU/c2UuY2xpZW50VG9wfHwwOnNlLmNsaWVudExlZnR8fDA6MCxsZT1udWxsIT0ocT1udWxsPT1OP3ZvaWQgMDpOW0VdKT9xOjAsY2U9VytvZS1sZSx1ZT1YKHk/UChCLFcrcmUtbGUtYWUpOkIsVyx5P00oeixjZSk6eik7a1tFXT11ZSwkW0VdPXVlLVd9aWYoZCl7dmFyIGZlLGRlPSJ4Ij09PUU/aTpzLHBlPSJ4Ij09PUU/cjpvLGhlPWtbQV0sZ2U9InkiPT09QT8iaGVpZ2h0Ijoid2lkdGgiLG1lPWhlK19bZGVdLHZlPWhlLV9bcGVdLGJlPS0xIT09W2ksc10uaW5kZXhPZih3KSx4ZT1udWxsIT0oZmU9bnVsbD09Tj92b2lkIDA6TltBXSk/ZmU6MCxfZT1iZT9tZTpoZS1TW2dlXS1EW2dlXS14ZStPLmFsdEF4aXMsd2U9YmU/aGUrU1tnZV0rRFtnZV0teGUtTy5hbHRBeGlzOnZlLFRlPXkmJmJlP2Z1bmN0aW9uKGUsdCxuKXt2YXIgaT1YKGUsdCxuKTtyZXR1cm4gaT5uP246aX0oX2UsaGUsd2UpOlgoeT9fZTptZSxoZSx5P3dlOnZlKTtrW0FdPVRlLCRbQV09VGUtaGV9dC5tb2RpZmllcnNEYXRhW2FdPSR9fSxyZXF1aXJlc0lmRXhpc3RzOlsib2Zmc2V0Il19O2Z1bmN0aW9uIEFlKGUsdCxuKXt2b2lkIDA9PT1uJiYobj0hMSk7dmFyIGkscixvPWoodCkscz1qKHQpJiZmdW5jdGlvbihlKXt2YXIgdD1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49JCh0LndpZHRoKS9lLm9mZnNldFdpZHRofHwxLGk9JCh0LmhlaWdodCkvZS5vZmZzZXRIZWlnaHR8fDE7cmV0dXJuIDEhPT1ufHwxIT09aX0odCksYT16KHQpLGw9SShlLHMsbiksYz17c2Nyb2xsTGVmdDowLHNjcm9sbFRvcDowfSx1PXt4OjAseTowfTtyZXR1cm4ob3x8IW8mJiFuKSYmKCgiYm9keSIhPT1rKHQpfHxmZShhKSkmJihjPShpPXQpIT09UyhpKSYmaihpKT97c2Nyb2xsTGVmdDoocj1pKS5zY3JvbGxMZWZ0LHNjcm9sbFRvcDpyLnNjcm9sbFRvcH06Y2UoaSkpLGoodCk/KCh1PUkodCwhMCkpLngrPXQuY2xpZW50TGVmdCx1LnkrPXQuY2xpZW50VG9wKTphJiYodS54PXVlKGEpKSkse3g6bC5sZWZ0K2Muc2Nyb2xsTGVmdC11LngseTpsLnRvcCtjLnNjcm9sbFRvcC11Lnksd2lkdGg6bC53aWR0aCxoZWlnaHQ6bC5oZWlnaHR9fWZ1bmN0aW9uIGtlKGUpe3ZhciB0PW5ldyBNYXAsbj1uZXcgU2V0LGk9W107ZnVuY3Rpb24gcihlKXtuLmFkZChlLm5hbWUpLFtdLmNvbmNhdChlLnJlcXVpcmVzfHxbXSxlLnJlcXVpcmVzSWZFeGlzdHN8fFtdKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZighbi5oYXMoZSkpe3ZhciBpPXQuZ2V0KGUpO2kmJnIoaSl9fSkpLGkucHVzaChlKX1yZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnNldChlLm5hbWUsZSl9KSksZS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmhhcyhlLm5hbWUpfHxyKGUpfSkpLGl9dmFyIFNlPXtwbGFjZW1lbnQ6ImJvdHRvbSIsbW9kaWZpZXJzOltdLHN0cmF0ZWd5OiJhYnNvbHV0ZSJ9O2Z1bmN0aW9uIERlKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIXQuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIShlJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpfSkpfWZ1bmN0aW9uIGplKGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgdD1lLG49dC5kZWZhdWx0TW9kaWZpZXJzLGk9dm9pZCAwPT09bj9bXTpuLHI9dC5kZWZhdWx0T3B0aW9ucyxvPXZvaWQgMD09PXI/U2U6cjtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PW4mJihuPW8pO3ZhciByLHMsYT17cGxhY2VtZW50OiJib3R0b20iLG9yZGVyZWRNb2RpZmllcnM6W10sb3B0aW9uczpPYmplY3QuYXNzaWduKHt9LFNlLG8pLG1vZGlmaWVyc0RhdGE6e30sZWxlbWVudHM6e3JlZmVyZW5jZTplLHBvcHBlcjp0fSxhdHRyaWJ1dGVzOnt9LHN0eWxlczp7fX0sbD1bXSxjPSExLHU9e3N0YXRlOmEsc2V0T3B0aW9uczpmdW5jdGlvbihuKXt2YXIgcj0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uKGEub3B0aW9ucyk6bjtmKCksYS5vcHRpb25zPU9iamVjdC5hc3NpZ24oe30sbyxhLm9wdGlvbnMsciksYS5zY3JvbGxQYXJlbnRzPXtyZWZlcmVuY2U6RChlKT9wZShlKTplLmNvbnRleHRFbGVtZW50P3BlKGUuY29udGV4dEVsZW1lbnQpOltdLHBvcHBlcjpwZSh0KX07dmFyIHM9ZnVuY3Rpb24oZSl7dmFyIHQ9a2UoZSk7cmV0dXJuIEEucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiBlLmNvbmNhdCh0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGhhc2U9PT1ufSkpKX0pLFtdKX0oZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZVt0Lm5hbWVdO3JldHVybiBlW3QubmFtZV09bj9PYmplY3QuYXNzaWduKHt9LG4sdCx7b3B0aW9uczpPYmplY3QuYXNzaWduKHt9LG4ub3B0aW9ucyx0Lm9wdGlvbnMpLGRhdGE6T2JqZWN0LmFzc2lnbih7fSxuLmRhdGEsdC5kYXRhKX0pOnQsZX0pLHt9KTtyZXR1cm4gT2JqZWN0LmtleXModCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKX0oW10uY29uY2F0KGksYS5vcHRpb25zLm1vZGlmaWVycykpKTtyZXR1cm4gYS5vcmRlcmVkTW9kaWZpZXJzPXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5lbmFibGVkfSkpLGEub3JkZXJlZE1vZGlmaWVycy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lLm5hbWUsbj1lLm9wdGlvbnMsaT12b2lkIDA9PT1uP3t9Om4scj1lLmVmZmVjdDtpZigiZnVuY3Rpb24iPT10eXBlb2Ygcil7dmFyIG89cih7c3RhdGU6YSxuYW1lOnQsaW5zdGFuY2U6dSxvcHRpb25zOml9KSxzPWZ1bmN0aW9uKCl7fTtsLnB1c2gob3x8cyl9fSkpLHUudXBkYXRlKCl9LGZvcmNlVXBkYXRlOmZ1bmN0aW9uKCl7aWYoIWMpe3ZhciBlPWEuZWxlbWVudHMsdD1lLnJlZmVyZW5jZSxuPWUucG9wcGVyO2lmKERlKHQsbikpe2EucmVjdHM9e3JlZmVyZW5jZTpBZSh0LFEobiksImZpeGVkIj09PWEub3B0aW9ucy5zdHJhdGVneSkscG9wcGVyOlIobil9LGEucmVzZXQ9ITEsYS5wbGFjZW1lbnQ9YS5vcHRpb25zLnBsYWNlbWVudCxhLm9yZGVyZWRNb2RpZmllcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGEubW9kaWZpZXJzRGF0YVtlLm5hbWVdPU9iamVjdC5hc3NpZ24oe30sZS5kYXRhKX0pKTtmb3IodmFyIGk9MDtpPGEub3JkZXJlZE1vZGlmaWVycy5sZW5ndGg7aSsrKWlmKCEwIT09YS5yZXNldCl7dmFyIHI9YS5vcmRlcmVkTW9kaWZpZXJzW2ldLG89ci5mbixzPXIub3B0aW9ucyxsPXZvaWQgMD09PXM/e306cyxmPXIubmFtZTsiZnVuY3Rpb24iPT10eXBlb2YgbyYmKGE9byh7c3RhdGU6YSxvcHRpb25zOmwsbmFtZTpmLGluc3RhbmNlOnV9KXx8YSl9ZWxzZSBhLnJlc2V0PSExLGk9LTF9fX0sdXBkYXRlOihyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXt1LmZvcmNlVXBkYXRlKCksZShhKX0pKX0sZnVuY3Rpb24oKXtyZXR1cm4gc3x8KHM9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe1Byb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cz12b2lkIDAsZShyKCkpfSkpfSkpKSxzfSksZGVzdHJveTpmdW5jdGlvbigpe2YoKSxjPSEwfX07aWYoIURlKGUsdCkpcmV0dXJuIHU7ZnVuY3Rpb24gZigpe2wuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0pKSxsPVtdfXJldHVybiB1LnNldE9wdGlvbnMobikudGhlbigoZnVuY3Rpb24oZSl7IWMmJm4ub25GaXJzdFVwZGF0ZSYmbi5vbkZpcnN0VXBkYXRlKGUpfSkpLHV9fXZhciBPZT1qZSgpLE5lPWplKHtkZWZhdWx0TW9kaWZpZXJzOltyZSxDZSxuZSxOLFRlLGJlLEVlLEcsd2VdfSksTGU9amUoe2RlZmF1bHRNb2RpZmllcnM6W3JlLENlLG5lLE5dfSl9LDU2OTU6ZnVuY3Rpb24oZSx0LG4pewovKiEKICAqIEJvb3RzdHJhcCBiYXNlLWNvbXBvbmVudC5qcyB2NS4yLjMgKGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS8pCiAgKiBDb3B5cmlnaHQgMjAxMS0yMDIyIFRoZSBCb290c3RyYXAgQXV0aG9ycyAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2dyYXBocy9jb250cmlidXRvcnMpCiAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSkKICAqLwplLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4saSl7InVzZSBzdHJpY3QiO2NvbnN0IHI9ZT0+ZSYmIm9iamVjdCI9PXR5cGVvZiBlJiYiZGVmYXVsdCJpbiBlP2U6e2RlZmF1bHQ6ZX0sbz1yKGUpLHM9cihuKSxhPXIoaSksbD0iNS4yLjMiO2NsYXNzIGMgZXh0ZW5kcyBhLmRlZmF1bHR7Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpLChlPXQuZ2V0RWxlbWVudChlKSkmJih0aGlzLl9lbGVtZW50PWUsdGhpcy5fY29uZmlnPXRoaXMuX2dldENvbmZpZyhuKSxvLmRlZmF1bHQuc2V0KHRoaXMuX2VsZW1lbnQsdGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWSx0aGlzKSl9ZGlzcG9zZSgpe28uZGVmYXVsdC5yZW1vdmUodGhpcy5fZWxlbWVudCx0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZKSxzLmRlZmF1bHQub2ZmKHRoaXMuX2VsZW1lbnQsdGhpcy5jb25zdHJ1Y3Rvci5FVkVOVF9LRVkpO2Zvcihjb25zdCBlIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKXRoaXNbZV09bnVsbH1fcXVldWVDYWxsYmFjayhlLG4saT0hMCl7dC5leGVjdXRlQWZ0ZXJUcmFuc2l0aW9uKGUsbixpKX1fZ2V0Q29uZmlnKGUpe3JldHVybiBlPXRoaXMuX21lcmdlQ29uZmlnT2JqKGUsdGhpcy5fZWxlbWVudCksZT10aGlzLl9jb25maWdBZnRlck1lcmdlKGUpLHRoaXMuX3R5cGVDaGVja0NvbmZpZyhlKSxlfXN0YXRpYyBnZXRJbnN0YW5jZShlKXtyZXR1cm4gby5kZWZhdWx0LmdldCh0LmdldEVsZW1lbnQoZSksdGhpcy5EQVRBX0tFWSl9c3RhdGljIGdldE9yQ3JlYXRlSW5zdGFuY2UoZSx0PXt9KXtyZXR1cm4gdGhpcy5nZXRJbnN0YW5jZShlKXx8bmV3IHRoaXMoZSwib2JqZWN0Ij09dHlwZW9mIHQ/dDpudWxsKX1zdGF0aWMgZ2V0IFZFUlNJT04oKXtyZXR1cm4gbH1zdGF0aWMgZ2V0IERBVEFfS0VZKCl7cmV0dXJuYGJzLiR7dGhpcy5OQU1FfWB9c3RhdGljIGdldCBFVkVOVF9LRVkoKXtyZXR1cm5gLiR7dGhpcy5EQVRBX0tFWX1gfXN0YXRpYyBldmVudE5hbWUoZSl7cmV0dXJuYCR7ZX0ke3RoaXMuRVZFTlRfS0VZfWB9fXJldHVybiBjfShuKDQ5Myksbig0MDcyKSxuKDkyODYpLG4oNDcwNSkpfSw5MzMxOmZ1bmN0aW9uKGUsdCxuKXsKLyohCiAgKiBCb290c3RyYXAgYnV0dG9uLmpzIHY1LjIuMyAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tLykKICAqIENvcHlyaWdodCAyMDExLTIwMjIgVGhlIEJvb3RzdHJhcCBBdXRob3JzIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvZ3JhcGhzL2NvbnRyaWJ1dG9ycykKICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKQogICovCmUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2NvbnN0IGk9ZT0+ZSYmIm9iamVjdCI9PXR5cGVvZiBlJiYiZGVmYXVsdCJpbiBlP2U6e2RlZmF1bHQ6ZX0scj1pKHQpLG89aShuKSxzPSJidXR0b24iLGE9ImFjdGl2ZSIsbD0nW2RhdGEtYnMtdG9nZ2xlPSJidXR0b24iXScsYz0iY2xpY2suYnMuYnV0dG9uLmRhdGEtYXBpIjtjbGFzcyB1IGV4dGVuZHMgby5kZWZhdWx0e3N0YXRpYyBnZXQgTkFNRSgpe3JldHVybiBzfXRvZ2dsZSgpe3RoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCJhcmlhLXByZXNzZWQiLHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShhKSl9c3RhdGljIGpRdWVyeUludGVyZmFjZShlKXtyZXR1cm4gdGhpcy5lYWNoKChmdW5jdGlvbigpe2NvbnN0IHQ9dS5nZXRPckNyZWF0ZUluc3RhbmNlKHRoaXMpOyJ0b2dnbGUiPT09ZSYmdFtlXSgpfSkpfX1yZXR1cm4gci5kZWZhdWx0Lm9uKGRvY3VtZW50LGMsbCwoZT0+e2UucHJldmVudERlZmF1bHQoKTtjb25zdCB0PWUudGFyZ2V0LmNsb3Nlc3QobCk7dS5nZXRPckNyZWF0ZUluc3RhbmNlKHQpLnRvZ2dsZSgpfSkpLGUuZGVmaW5lSlF1ZXJ5UGx1Z2luKHUpLHV9KG4oNDA3Miksbig5Mjg2KSxuKDU2OTUpKX0sMzg2MzpmdW5jdGlvbihlLHQsbil7Ci8qIQogICogQm9vdHN0cmFwIGNvbGxhcHNlLmpzIHY1LjIuMyAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tLykKICAqIENvcHlyaWdodCAyMDExLTIwMjIgVGhlIEJvb3RzdHJhcCBBdXRob3JzIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvZ3JhcGhzL2NvbnRyaWJ1dG9ycykKICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKQogICovCmUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixpKXsidXNlIHN0cmljdCI7Y29uc3Qgcj1lPT5lJiYib2JqZWN0Ij09dHlwZW9mIGUmJiJkZWZhdWx0ImluIGU/ZTp7ZGVmYXVsdDplfSxvPXIodCkscz1yKG4pLGE9cihpKSxsPSJjb2xsYXBzZSIsYz0iLmJzLmNvbGxhcHNlIix1PWBzaG93JHtjfWAsZj1gc2hvd24ke2N9YCxkPWBoaWRlJHtjfWAscD1gaGlkZGVuJHtjfWAsaD1gY2xpY2ske2N9LmRhdGEtYXBpYCxnPSJzaG93IixtPSJjb2xsYXBzZSIsdj0iY29sbGFwc2luZyIseT0iY29sbGFwc2VkIixiPWA6c2NvcGUgLiR7bX0gLiR7bX1gLHg9ImNvbGxhcHNlLWhvcml6b250YWwiLF89IndpZHRoIix3PSJoZWlnaHQiLFQ9Ii5jb2xsYXBzZS5zaG93LCAuY29sbGFwc2UuY29sbGFwc2luZyIsQz0nW2RhdGEtYnMtdG9nZ2xlPSJjb2xsYXBzZSJdJyxFPXtwYXJlbnQ6bnVsbCx0b2dnbGU6ITB9LEE9e3BhcmVudDoiKG51bGx8ZWxlbWVudCkiLHRvZ2dsZToiYm9vbGVhbiJ9O2NsYXNzIGsgZXh0ZW5kcyBhLmRlZmF1bHR7Y29uc3RydWN0b3IodCxuKXtzdXBlcih0LG4pLHRoaXMuX2lzVHJhbnNpdGlvbmluZz0hMSx0aGlzLl90cmlnZ2VyQXJyYXk9W107Y29uc3QgaT1zLmRlZmF1bHQuZmluZChDKTtmb3IoY29uc3QgdCBvZiBpKXtjb25zdCBuPWUuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0KSxpPXMuZGVmYXVsdC5maW5kKG4pLmZpbHRlcigoZT0+ZT09PXRoaXMuX2VsZW1lbnQpKTtudWxsIT09biYmaS5sZW5ndGgmJnRoaXMuX3RyaWdnZXJBcnJheS5wdXNoKHQpfXRoaXMuX2luaXRpYWxpemVDaGlsZHJlbigpLHRoaXMuX2NvbmZpZy5wYXJlbnR8fHRoaXMuX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLl90cmlnZ2VyQXJyYXksdGhpcy5faXNTaG93bigpKSx0aGlzLl9jb25maWcudG9nZ2xlJiZ0aGlzLnRvZ2dsZSgpfXN0YXRpYyBnZXQgRGVmYXVsdCgpe3JldHVybiBFfXN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKXtyZXR1cm4gQX1zdGF0aWMgZ2V0IE5BTUUoKXtyZXR1cm4gbH10b2dnbGUoKXt0aGlzLl9pc1Nob3duKCk/dGhpcy5oaWRlKCk6dGhpcy5zaG93KCl9c2hvdygpe2lmKHRoaXMuX2lzVHJhbnNpdGlvbmluZ3x8dGhpcy5faXNTaG93bigpKXJldHVybjtsZXQgZT1bXTtpZih0aGlzLl9jb25maWcucGFyZW50JiYoZT10aGlzLl9nZXRGaXJzdExldmVsQ2hpbGRyZW4oVCkuZmlsdGVyKChlPT5lIT09dGhpcy5fZWxlbWVudCkpLm1hcCgoZT0+ay5nZXRPckNyZWF0ZUluc3RhbmNlKGUse3RvZ2dsZTohMX0pKSkpLGUubGVuZ3RoJiZlWzBdLl9pc1RyYW5zaXRpb25pbmcpcmV0dXJuO2lmKG8uZGVmYXVsdC50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsdSkuZGVmYXVsdFByZXZlbnRlZClyZXR1cm47Zm9yKGNvbnN0IHQgb2YgZSl0LmhpZGUoKTtjb25zdCB0PXRoaXMuX2dldERpbWVuc2lvbigpO3RoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShtKSx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQodiksdGhpcy5fZWxlbWVudC5zdHlsZVt0XT0wLHRoaXMuX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLl90cmlnZ2VyQXJyYXksITApLHRoaXMuX2lzVHJhbnNpdGlvbmluZz0hMDtjb25zdCBuPSgpPT57dGhpcy5faXNUcmFuc2l0aW9uaW5nPSExLHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh2KSx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQobSxnKSx0aGlzLl9lbGVtZW50LnN0eWxlW3RdPSIiLG8uZGVmYXVsdC50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsZil9LGk9YHNjcm9sbCR7dFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSl9YDt0aGlzLl9xdWV1ZUNhbGxiYWNrKG4sdGhpcy5fZWxlbWVudCwhMCksdGhpcy5fZWxlbWVudC5zdHlsZVt0XT1gJHt0aGlzLl9lbGVtZW50W2ldfXB4YH1oaWRlKCl7aWYodGhpcy5faXNUcmFuc2l0aW9uaW5nfHwhdGhpcy5faXNTaG93bigpKXJldHVybjtpZihvLmRlZmF1bHQudHJpZ2dlcih0aGlzLl9lbGVtZW50LGQpLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fZ2V0RGltZW5zaW9uKCk7dGhpcy5fZWxlbWVudC5zdHlsZVt0XT1gJHt0aGlzLl9lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3RdfXB4YCxlLnJlZmxvdyh0aGlzLl9lbGVtZW50KSx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQodiksdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKG0sZyk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fdHJpZ2dlckFycmF5KXtjb25zdCBuPWUuZ2V0RWxlbWVudEZyb21TZWxlY3Rvcih0KTtuJiYhdGhpcy5faXNTaG93bihuKSYmdGhpcy5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKFt0XSwhMSl9dGhpcy5faXNUcmFuc2l0aW9uaW5nPSEwO2NvbnN0IG49KCk9Pnt0aGlzLl9pc1RyYW5zaXRpb25pbmc9ITEsdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHYpLHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChtKSxvLmRlZmF1bHQudHJpZ2dlcih0aGlzLl9lbGVtZW50LHApfTt0aGlzLl9lbGVtZW50LnN0eWxlW3RdPSIiLHRoaXMuX3F1ZXVlQ2FsbGJhY2sobix0aGlzLl9lbGVtZW50LCEwKX1faXNTaG93bihlPXRoaXMuX2VsZW1lbnQpe3JldHVybiBlLmNsYXNzTGlzdC5jb250YWlucyhnKX1fY29uZmlnQWZ0ZXJNZXJnZSh0KXtyZXR1cm4gdC50b2dnbGU9Qm9vbGVhbih0LnRvZ2dsZSksdC5wYXJlbnQ9ZS5nZXRFbGVtZW50KHQucGFyZW50KSx0fV9nZXREaW1lbnNpb24oKXtyZXR1cm4gdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoeCk/Xzp3fV9pbml0aWFsaXplQ2hpbGRyZW4oKXtpZighdGhpcy5fY29uZmlnLnBhcmVudClyZXR1cm47Y29uc3QgdD10aGlzLl9nZXRGaXJzdExldmVsQ2hpbGRyZW4oQyk7Zm9yKGNvbnN0IG4gb2YgdCl7Y29uc3QgdD1lLmdldEVsZW1lbnRGcm9tU2VsZWN0b3Iobik7dCYmdGhpcy5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKFtuXSx0aGlzLl9pc1Nob3duKHQpKX19X2dldEZpcnN0TGV2ZWxDaGlsZHJlbihlKXtjb25zdCB0PXMuZGVmYXVsdC5maW5kKGIsdGhpcy5fY29uZmlnLnBhcmVudCk7cmV0dXJuIHMuZGVmYXVsdC5maW5kKGUsdGhpcy5fY29uZmlnLnBhcmVudCkuZmlsdGVyKChlPT4hdC5pbmNsdWRlcyhlKSkpfV9hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MoZSx0KXtpZihlLmxlbmd0aClmb3IoY29uc3QgbiBvZiBlKW4uY2xhc3NMaXN0LnRvZ2dsZSh5LCF0KSxuLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsdCl9c3RhdGljIGpRdWVyeUludGVyZmFjZShlKXtjb25zdCB0PXt9O3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmL3Nob3d8aGlkZS8udGVzdChlKSYmKHQudG9nZ2xlPSExKSx0aGlzLmVhY2goKGZ1bmN0aW9uKCl7Y29uc3Qgbj1rLmdldE9yQ3JlYXRlSW5zdGFuY2UodGhpcyx0KTtpZigic3RyaW5nIj09dHlwZW9mIGUpe2lmKHZvaWQgMD09PW5bZV0pdGhyb3cgbmV3IFR5cGVFcnJvcihgTm8gbWV0aG9kIG5hbWVkICIke2V9ImApO25bZV0oKX19KSl9fXJldHVybiBvLmRlZmF1bHQub24oZG9jdW1lbnQsaCxDLChmdW5jdGlvbih0KXsoIkEiPT09dC50YXJnZXQudGFnTmFtZXx8dC5kZWxlZ2F0ZVRhcmdldCYmIkEiPT09dC5kZWxlZ2F0ZVRhcmdldC50YWdOYW1lKSYmdC5wcmV2ZW50RGVmYXVsdCgpO2NvbnN0IG49ZS5nZXRTZWxlY3RvckZyb21FbGVtZW50KHRoaXMpLGk9cy5kZWZhdWx0LmZpbmQobik7Zm9yKGNvbnN0IGUgb2YgaSlrLmdldE9yQ3JlYXRlSW5zdGFuY2UoZSx7dG9nZ2xlOiExfSkudG9nZ2xlKCl9KSksZS5kZWZpbmVKUXVlcnlQbHVnaW4oayksa30obig0MDcyKSxuKDkyODYpLG4oODczNyksbig1Njk1KSl9LDQ5MzpmdW5jdGlvbihlKXsKLyohCiAgKiBCb290c3RyYXAgZGF0YS5qcyB2NS4yLjMgKGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS8pCiAgKiBDb3B5cmlnaHQgMjAxMS0yMDIyIFRoZSBCb290c3RyYXAgQXV0aG9ycyAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2dyYXBocy9jb250cmlidXRvcnMpCiAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSkKICAqLwplLmV4cG9ydHM9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y29uc3QgZT1uZXcgTWFwO3JldHVybntzZXQodCxuLGkpe2UuaGFzKHQpfHxlLnNldCh0LG5ldyBNYXApO2NvbnN0IHI9ZS5nZXQodCk7ci5oYXMobil8fDA9PT1yLnNpemU/ci5zZXQobixpKTpjb25zb2xlLmVycm9yKGBCb290c3RyYXAgZG9lc24ndCBhbGxvdyBtb3JlIHRoYW4gb25lIGluc3RhbmNlIHBlciBlbGVtZW50LiBCb3VuZCBpbnN0YW5jZTogJHtBcnJheS5mcm9tKHIua2V5cygpKVswXX0uYCl9LGdldCh0LG4pe3JldHVybiBlLmhhcyh0KSYmZS5nZXQodCkuZ2V0KG4pfHxudWxsfSxyZW1vdmUodCxuKXtpZighZS5oYXModCkpcmV0dXJuO2NvbnN0IGk9ZS5nZXQodCk7aS5kZWxldGUobiksMD09PWkuc2l6ZSYmZS5kZWxldGUodCl9fX0oKX0sOTI4NjpmdW5jdGlvbihlLHQsbil7Ci8qIQogICogQm9vdHN0cmFwIGV2ZW50LWhhbmRsZXIuanMgdjUuMi4zIChodHRwczovL2dldGJvb3RzdHJhcC5jb20vKQogICogQ29weXJpZ2h0IDIwMTEtMjAyMiBUaGUgQm9vdHN0cmFwIEF1dGhvcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ncmFwaHMvY29udHJpYnV0b3JzKQogICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpCiAgKi8KZS5leHBvcnRzPWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijtjb25zdCB0PS9bXi5dKig/PVwuLiopXC58LiovLG49L1wuLiovLGk9Lzo6XGQrJC8scj17fTtsZXQgbz0xO2NvbnN0IHM9e21vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQifSxhPW5ldyBTZXQoWyJjbGljayIsImRibGNsaWNrIiwibW91c2V1cCIsIm1vdXNlZG93biIsImNvbnRleHRtZW51IiwibW91c2V3aGVlbCIsIkRPTU1vdXNlU2Nyb2xsIiwibW91c2VvdmVyIiwibW91c2VvdXQiLCJtb3VzZW1vdmUiLCJzZWxlY3RzdGFydCIsInNlbGVjdGVuZCIsImtleWRvd24iLCJrZXlwcmVzcyIsImtleXVwIiwib3JpZW50YXRpb25jaGFuZ2UiLCJ0b3VjaHN0YXJ0IiwidG91Y2htb3ZlIiwidG91Y2hlbmQiLCJ0b3VjaGNhbmNlbCIsInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVybGVhdmUiLCJwb2ludGVyY2FuY2VsIiwiZ2VzdHVyZXN0YXJ0IiwiZ2VzdHVyZWNoYW5nZSIsImdlc3R1cmVlbmQiLCJmb2N1cyIsImJsdXIiLCJjaGFuZ2UiLCJyZXNldCIsInNlbGVjdCIsInN1Ym1pdCIsImZvY3VzaW4iLCJmb2N1c291dCIsImxvYWQiLCJ1bmxvYWQiLCJiZWZvcmV1bmxvYWQiLCJyZXNpemUiLCJtb3ZlIiwiRE9NQ29udGVudExvYWRlZCIsInJlYWR5c3RhdGVjaGFuZ2UiLCJlcnJvciIsImFib3J0Iiwic2Nyb2xsIl0pO2Z1bmN0aW9uIGwoZSx0KXtyZXR1cm4gdCYmYCR7dH06OiR7bysrfWB8fGUudWlkRXZlbnR8fG8rK31mdW5jdGlvbiBjKGUpe2NvbnN0IHQ9bChlKTtyZXR1cm4gZS51aWRFdmVudD10LHJbdF09clt0XXx8e30sclt0XX1mdW5jdGlvbiB1KGUsdCl7cmV0dXJuIGZ1bmN0aW9uIG4oaSl7cmV0dXJuIGIoaSx7ZGVsZWdhdGVUYXJnZXQ6ZX0pLG4ub25lT2ZmJiZ5Lm9mZihlLGkudHlwZSx0KSx0LmFwcGx5KGUsW2ldKX19ZnVuY3Rpb24gZihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uIGkocil7Y29uc3Qgbz1lLnF1ZXJ5U2VsZWN0b3JBbGwodCk7Zm9yKGxldHt0YXJnZXQ6c309cjtzJiZzIT09dGhpcztzPXMucGFyZW50Tm9kZSlmb3IoY29uc3QgYSBvZiBvKWlmKGE9PT1zKXJldHVybiBiKHIse2RlbGVnYXRlVGFyZ2V0OnN9KSxpLm9uZU9mZiYmeS5vZmYoZSxyLnR5cGUsdCxuKSxuLmFwcGx5KHMsW3JdKX19ZnVuY3Rpb24gZChlLHQsbj1udWxsKXtyZXR1cm4gT2JqZWN0LnZhbHVlcyhlKS5maW5kKChlPT5lLmNhbGxhYmxlPT09dCYmZS5kZWxlZ2F0aW9uU2VsZWN0b3I9PT1uKSl9ZnVuY3Rpb24gcChlLHQsbil7Y29uc3QgaT0ic3RyaW5nIj09dHlwZW9mIHQscj1pP246dHx8bjtsZXQgbz12KGUpO3JldHVybiBhLmhhcyhvKXx8KG89ZSksW2kscixvXX1mdW5jdGlvbiBoKGUsbixpLHIsbyl7aWYoInN0cmluZyIhPXR5cGVvZiBufHwhZSlyZXR1cm47bGV0W2EsaCxnXT1wKG4saSxyKTtpZihuIGluIHMpe2NvbnN0IGU9ZT0+ZnVuY3Rpb24odCl7aWYoIXQucmVsYXRlZFRhcmdldHx8dC5yZWxhdGVkVGFyZ2V0IT09dC5kZWxlZ2F0ZVRhcmdldCYmIXQuZGVsZWdhdGVUYXJnZXQuY29udGFpbnModC5yZWxhdGVkVGFyZ2V0KSlyZXR1cm4gZS5jYWxsKHRoaXMsdCl9O2g9ZShoKX1jb25zdCBtPWMoZSksdj1tW2ddfHwobVtnXT17fSkseT1kKHYsaCxhP2k6bnVsbCk7aWYoeSlyZXR1cm4gdm9pZCh5Lm9uZU9mZj15Lm9uZU9mZiYmbyk7Y29uc3QgYj1sKGgsbi5yZXBsYWNlKHQsIiIpKSx4PWE/ZihlLGksaCk6dShlLGgpO3guZGVsZWdhdGlvblNlbGVjdG9yPWE/aTpudWxsLHguY2FsbGFibGU9aCx4Lm9uZU9mZj1vLHgudWlkRXZlbnQ9Yix2W2JdPXgsZS5hZGRFdmVudExpc3RlbmVyKGcseCxhKX1mdW5jdGlvbiBnKGUsdCxuLGkscil7Y29uc3Qgbz1kKHRbbl0saSxyKTtvJiYoZS5yZW1vdmVFdmVudExpc3RlbmVyKG4sbyxCb29sZWFuKHIpKSxkZWxldGUgdFtuXVtvLnVpZEV2ZW50XSl9ZnVuY3Rpb24gbShlLHQsbixpKXtjb25zdCByPXRbbl18fHt9O2Zvcihjb25zdCBvIG9mIE9iamVjdC5rZXlzKHIpKWlmKG8uaW5jbHVkZXMoaSkpe2NvbnN0IGk9cltvXTtnKGUsdCxuLGkuY2FsbGFibGUsaS5kZWxlZ2F0aW9uU2VsZWN0b3IpfX1mdW5jdGlvbiB2KGUpe3JldHVybiBlPWUucmVwbGFjZShuLCIiKSxzW2VdfHxlfWNvbnN0IHk9e29uKGUsdCxuLGkpe2goZSx0LG4saSwhMSl9LG9uZShlLHQsbixpKXtoKGUsdCxuLGksITApfSxvZmYoZSx0LG4scil7aWYoInN0cmluZyIhPXR5cGVvZiB0fHwhZSlyZXR1cm47Y29uc3RbbyxzLGFdPXAodCxuLHIpLGw9YSE9PXQsdT1jKGUpLGY9dVthXXx8e30sZD10LnN0YXJ0c1dpdGgoIi4iKTtpZih2b2lkIDA9PT1zKXtpZihkKWZvcihjb25zdCBuIG9mIE9iamVjdC5rZXlzKHUpKW0oZSx1LG4sdC5zbGljZSgxKSk7Zm9yKGNvbnN0IG4gb2YgT2JqZWN0LmtleXMoZikpe2NvbnN0IHI9bi5yZXBsYWNlKGksIiIpO2lmKCFsfHx0LmluY2x1ZGVzKHIpKXtjb25zdCB0PWZbbl07ZyhlLHUsYSx0LmNhbGxhYmxlLHQuZGVsZWdhdGlvblNlbGVjdG9yKX19fWVsc2V7aWYoIU9iamVjdC5rZXlzKGYpLmxlbmd0aClyZXR1cm47ZyhlLHUsYSxzLG8/bjpudWxsKX19LHRyaWdnZXIodCxuLGkpe2lmKCJzdHJpbmciIT10eXBlb2Ygbnx8IXQpcmV0dXJuIG51bGw7Y29uc3Qgcj1lLmdldGpRdWVyeSgpO2xldCBvPW51bGwscz0hMCxhPSEwLGw9ITE7biE9PXYobikmJnImJihvPXIuRXZlbnQobixpKSxyKHQpLnRyaWdnZXIobykscz0hby5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpLGE9IW8uaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSxsPW8uaXNEZWZhdWx0UHJldmVudGVkKCkpO2xldCBjPW5ldyBFdmVudChuLHtidWJibGVzOnMsY2FuY2VsYWJsZTohMH0pO3JldHVybiBjPWIoYyxpKSxsJiZjLnByZXZlbnREZWZhdWx0KCksYSYmdC5kaXNwYXRjaEV2ZW50KGMpLGMuZGVmYXVsdFByZXZlbnRlZCYmbyYmby5wcmV2ZW50RGVmYXVsdCgpLGN9fTtmdW5jdGlvbiBiKGUsdCl7Zm9yKGNvbnN0W24saV1vZiBPYmplY3QuZW50cmllcyh0fHx7fSkpdHJ5e2Vbbl09aX1jYXRjaCh0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtjb25maWd1cmFibGU6ITAsZ2V0KCl7cmV0dXJuIGl9fSl9cmV0dXJuIGV9cmV0dXJuIHl9KG4oNDA3MikpfSwzMTc1OmZ1bmN0aW9uKGUpewovKiEKICAqIEJvb3RzdHJhcCBtYW5pcHVsYXRvci5qcyB2NS4yLjMgKGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS8pCiAgKiBDb3B5cmlnaHQgMjAxMS0yMDIyIFRoZSBCb290c3RyYXAgQXV0aG9ycyAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2dyYXBocy9jb250cmlidXRvcnMpCiAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSkKICAqLwplLmV4cG9ydHM9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZShlKXtpZigidHJ1ZSI9PT1lKXJldHVybiEwO2lmKCJmYWxzZSI9PT1lKXJldHVybiExO2lmKGU9PT1OdW1iZXIoZSkudG9TdHJpbmcoKSlyZXR1cm4gTnVtYmVyKGUpO2lmKCIiPT09ZXx8Im51bGwiPT09ZSlyZXR1cm4gbnVsbDtpZigic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIGU7dHJ5e3JldHVybiBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChlKSl9Y2F0Y2godCl7cmV0dXJuIGV9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIGUucmVwbGFjZSgvW0EtWl0vZywoZT0+YC0ke2UudG9Mb3dlckNhc2UoKX1gKSl9cmV0dXJue3NldERhdGFBdHRyaWJ1dGUoZSxuLGkpe2Uuc2V0QXR0cmlidXRlKGBkYXRhLWJzLSR7dChuKX1gLGkpfSxyZW1vdmVEYXRhQXR0cmlidXRlKGUsbil7ZS5yZW1vdmVBdHRyaWJ1dGUoYGRhdGEtYnMtJHt0KG4pfWApfSxnZXREYXRhQXR0cmlidXRlcyh0KXtpZighdClyZXR1cm57fTtjb25zdCBuPXt9LGk9T2JqZWN0LmtleXModC5kYXRhc2V0KS5maWx0ZXIoKGU9PmUuc3RhcnRzV2l0aCgiYnMiKSYmIWUuc3RhcnRzV2l0aCgiYnNDb25maWciKSkpO2Zvcihjb25zdCByIG9mIGkpe2xldCBpPXIucmVwbGFjZSgvXmJzLywiIik7aT1pLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK2kuc2xpY2UoMSxpLmxlbmd0aCksbltpXT1lKHQuZGF0YXNldFtyXSl9cmV0dXJuIG59LGdldERhdGFBdHRyaWJ1dGUobixpKXtyZXR1cm4gZShuLmdldEF0dHJpYnV0ZShgZGF0YS1icy0ke3QoaSl9YCkpfX19KCl9LDg3Mzc6ZnVuY3Rpb24oZSx0LG4pewovKiEKICAqIEJvb3RzdHJhcCBzZWxlY3Rvci1lbmdpbmUuanMgdjUuMi4zIChodHRwczovL2dldGJvb3RzdHJhcC5jb20vKQogICogQ29weXJpZ2h0IDIwMTEtMjAyMiBUaGUgQm9vdHN0cmFwIEF1dGhvcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ncmFwaHMvY29udHJpYnV0b3JzKQogICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpCiAgKi8KZS5leHBvcnRzPWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtyZXR1cm57ZmluZChlLHQ9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KXtyZXR1cm5bXS5jb25jYXQoLi4uRWxlbWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbC5jYWxsKHQsZSkpfSxmaW5kT25lKGUsdD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpe3JldHVybiBFbGVtZW50LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yLmNhbGwodCxlKX0sY2hpbGRyZW4oZSx0KXtyZXR1cm5bXS5jb25jYXQoLi4uZS5jaGlsZHJlbikuZmlsdGVyKChlPT5lLm1hdGNoZXModCkpKX0scGFyZW50cyhlLHQpe2NvbnN0IG49W107bGV0IGk9ZS5wYXJlbnROb2RlLmNsb3Nlc3QodCk7Zm9yKDtpOyluLnB1c2goaSksaT1pLnBhcmVudE5vZGUuY2xvc2VzdCh0KTtyZXR1cm4gbn0scHJldihlLHQpe2xldCBuPWUucHJldmlvdXNFbGVtZW50U2libGluZztmb3IoO247KXtpZihuLm1hdGNoZXModCkpcmV0dXJuW25dO249bi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nfXJldHVybltdfSxuZXh0KGUsdCl7bGV0IG49ZS5uZXh0RWxlbWVudFNpYmxpbmc7Zm9yKDtuOyl7aWYobi5tYXRjaGVzKHQpKXJldHVybltuXTtuPW4ubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybltdfSxmb2N1c2FibGVDaGlsZHJlbih0KXtjb25zdCBuPVsiYSIsImJ1dHRvbiIsImlucHV0IiwidGV4dGFyZWEiLCJzZWxlY3QiLCJkZXRhaWxzIiwiW3RhYmluZGV4XSIsJ1tjb250ZW50ZWRpdGFibGU9InRydWUiXSddLm1hcCgoZT0+YCR7ZX06bm90KFt0YWJpbmRleF49Ii0iXSlgKSkuam9pbigiLCIpO3JldHVybiB0aGlzLmZpbmQobix0KS5maWx0ZXIoKHQ9PiFlLmlzRGlzYWJsZWQodCkmJmUuaXNWaXNpYmxlKHQpKSl9fX0obig0MDcyKSl9LDc0MjQ6ZnVuY3Rpb24oZSx0LG4pewovKiEKICAqIEJvb3RzdHJhcCBtb2RhbC5qcyB2NS4yLjMgKGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS8pCiAgKiBDb3B5cmlnaHQgMjAxMS0yMDIyIFRoZSBCb290c3RyYXAgQXV0aG9ycyAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2dyYXBocy9jb250cmlidXRvcnMpCiAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSkKICAqLwplLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4saSxyLG8scyxhKXsidXNlIHN0cmljdCI7Y29uc3QgbD1lPT5lJiYib2JqZWN0Ij09dHlwZW9mIGUmJiJkZWZhdWx0ImluIGU/ZTp7ZGVmYXVsdDplfSxjPWwodCksdT1sKG4pLGY9bChpKSxkPWwocikscD1sKG8pLGg9bChzKSxnPSJtb2RhbCIsbT0iLmJzLm1vZGFsIix2PSJFc2NhcGUiLHk9YGhpZGUke219YCxiPWBoaWRlUHJldmVudGVkJHttfWAseD1gaGlkZGVuJHttfWAsXz1gc2hvdyR7bX1gLHc9YHNob3duJHttfWAsVD1gcmVzaXplJHttfWAsQz1gY2xpY2suZGlzbWlzcyR7bX1gLEU9YG1vdXNlZG93bi5kaXNtaXNzJHttfWAsQT1ga2V5ZG93bi5kaXNtaXNzJHttfWAsaz1gY2xpY2ske219LmRhdGEtYXBpYCxTPSJtb2RhbC1vcGVuIixEPSJmYWRlIixqPSJzaG93IixPPSJtb2RhbC1zdGF0aWMiLE49Ii5tb2RhbC5zaG93IixMPSIubW9kYWwtZGlhbG9nIixNPSIubW9kYWwtYm9keSIsUD0nW2RhdGEtYnMtdG9nZ2xlPSJtb2RhbCJdJywkPXtiYWNrZHJvcDohMCxmb2N1czohMCxrZXlib2FyZDohMH0scT17YmFja2Ryb3A6Iihib29sZWFufHN0cmluZykiLGZvY3VzOiJib29sZWFuIixrZXlib2FyZDoiYm9vbGVhbiJ9O2NsYXNzIEggZXh0ZW5kcyBkLmRlZmF1bHR7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuX2RpYWxvZz11LmRlZmF1bHQuZmluZE9uZShMLHRoaXMuX2VsZW1lbnQpLHRoaXMuX2JhY2tkcm9wPXRoaXMuX2luaXRpYWxpemVCYWNrRHJvcCgpLHRoaXMuX2ZvY3VzdHJhcD10aGlzLl9pbml0aWFsaXplRm9jdXNUcmFwKCksdGhpcy5faXNTaG93bj0hMSx0aGlzLl9pc1RyYW5zaXRpb25pbmc9ITEsdGhpcy5fc2Nyb2xsQmFyPW5ldyBmLmRlZmF1bHQsdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKX1zdGF0aWMgZ2V0IERlZmF1bHQoKXtyZXR1cm4gJH1zdGF0aWMgZ2V0IERlZmF1bHRUeXBlKCl7cmV0dXJuIHF9c3RhdGljIGdldCBOQU1FKCl7cmV0dXJuIGd9dG9nZ2xlKGUpe3JldHVybiB0aGlzLl9pc1Nob3duP3RoaXMuaGlkZSgpOnRoaXMuc2hvdyhlKX1zaG93KGUpe3RoaXMuX2lzU2hvd258fHRoaXMuX2lzVHJhbnNpdGlvbmluZ3x8Yy5kZWZhdWx0LnRyaWdnZXIodGhpcy5fZWxlbWVudCxfLHtyZWxhdGVkVGFyZ2V0OmV9KS5kZWZhdWx0UHJldmVudGVkfHwodGhpcy5faXNTaG93bj0hMCx0aGlzLl9pc1RyYW5zaXRpb25pbmc9ITAsdGhpcy5fc2Nyb2xsQmFyLmhpZGUoKSxkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoUyksdGhpcy5fYWRqdXN0RGlhbG9nKCksdGhpcy5fYmFja2Ryb3Auc2hvdygoKCk9PnRoaXMuX3Nob3dFbGVtZW50KGUpKSkpfWhpZGUoKXt0aGlzLl9pc1Nob3duJiYhdGhpcy5faXNUcmFuc2l0aW9uaW5nJiYoYy5kZWZhdWx0LnRyaWdnZXIodGhpcy5fZWxlbWVudCx5KS5kZWZhdWx0UHJldmVudGVkfHwodGhpcy5faXNTaG93bj0hMSx0aGlzLl9pc1RyYW5zaXRpb25pbmc9ITAsdGhpcy5fZm9jdXN0cmFwLmRlYWN0aXZhdGUoKSx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoaiksdGhpcy5fcXVldWVDYWxsYmFjaygoKCk9PnRoaXMuX2hpZGVNb2RhbCgpKSx0aGlzLl9lbGVtZW50LHRoaXMuX2lzQW5pbWF0ZWQoKSkpKX1kaXNwb3NlKCl7Zm9yKGNvbnN0IGUgb2Zbd2luZG93LHRoaXMuX2RpYWxvZ10pYy5kZWZhdWx0Lm9mZihlLG0pO3RoaXMuX2JhY2tkcm9wLmRpc3Bvc2UoKSx0aGlzLl9mb2N1c3RyYXAuZGVhY3RpdmF0ZSgpLHN1cGVyLmRpc3Bvc2UoKX1oYW5kbGVVcGRhdGUoKXt0aGlzLl9hZGp1c3REaWFsb2coKX1faW5pdGlhbGl6ZUJhY2tEcm9wKCl7cmV0dXJuIG5ldyBwLmRlZmF1bHQoe2lzVmlzaWJsZTpCb29sZWFuKHRoaXMuX2NvbmZpZy5iYWNrZHJvcCksaXNBbmltYXRlZDp0aGlzLl9pc0FuaW1hdGVkKCl9KX1faW5pdGlhbGl6ZUZvY3VzVHJhcCgpe3JldHVybiBuZXcgaC5kZWZhdWx0KHt0cmFwRWxlbWVudDp0aGlzLl9lbGVtZW50fSl9X3Nob3dFbGVtZW50KHQpe2RvY3VtZW50LmJvZHkuY29udGFpbnModGhpcy5fZWxlbWVudCl8fGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMuX2VsZW1lbnQpLHRoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheT0iYmxvY2siLHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCJhcmlhLWhpZGRlbiIpLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCJhcmlhLW1vZGFsIiwhMCksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoInJvbGUiLCJkaWFsb2ciKSx0aGlzLl9lbGVtZW50LnNjcm9sbFRvcD0wO2NvbnN0IG49dS5kZWZhdWx0LmZpbmRPbmUoTSx0aGlzLl9kaWFsb2cpO24mJihuLnNjcm9sbFRvcD0wKSxlLnJlZmxvdyh0aGlzLl9lbGVtZW50KSx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoaik7Y29uc3QgaT0oKT0+e3RoaXMuX2NvbmZpZy5mb2N1cyYmdGhpcy5fZm9jdXN0cmFwLmFjdGl2YXRlKCksdGhpcy5faXNUcmFuc2l0aW9uaW5nPSExLGMuZGVmYXVsdC50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsdyx7cmVsYXRlZFRhcmdldDp0fSl9O3RoaXMuX3F1ZXVlQ2FsbGJhY2soaSx0aGlzLl9kaWFsb2csdGhpcy5faXNBbmltYXRlZCgpKX1fYWRkRXZlbnRMaXN0ZW5lcnMoKXtjLmRlZmF1bHQub24odGhpcy5fZWxlbWVudCxBLChlPT57aWYoZS5rZXk9PT12KXJldHVybiB0aGlzLl9jb25maWcua2V5Ym9hcmQ/KGUucHJldmVudERlZmF1bHQoKSx2b2lkIHRoaXMuaGlkZSgpKTp2b2lkIHRoaXMuX3RyaWdnZXJCYWNrZHJvcFRyYW5zaXRpb24oKX0pKSxjLmRlZmF1bHQub24od2luZG93LFQsKCgpPT57dGhpcy5faXNTaG93biYmIXRoaXMuX2lzVHJhbnNpdGlvbmluZyYmdGhpcy5fYWRqdXN0RGlhbG9nKCl9KSksYy5kZWZhdWx0Lm9uKHRoaXMuX2VsZW1lbnQsRSwoZT0+e2MuZGVmYXVsdC5vbmUodGhpcy5fZWxlbWVudCxDLCh0PT57dGhpcy5fZWxlbWVudD09PWUudGFyZ2V0JiZ0aGlzLl9lbGVtZW50PT09dC50YXJnZXQmJigic3RhdGljIiE9PXRoaXMuX2NvbmZpZy5iYWNrZHJvcD90aGlzLl9jb25maWcuYmFja2Ryb3AmJnRoaXMuaGlkZSgpOnRoaXMuX3RyaWdnZXJCYWNrZHJvcFRyYW5zaXRpb24oKSl9KSl9KSl9X2hpZGVNb2RhbCgpe3RoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwhMCksdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoImFyaWEtbW9kYWwiKSx0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgicm9sZSIpLHRoaXMuX2lzVHJhbnNpdGlvbmluZz0hMSx0aGlzLl9iYWNrZHJvcC5oaWRlKCgoKT0+e2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShTKSx0aGlzLl9yZXNldEFkanVzdG1lbnRzKCksdGhpcy5fc2Nyb2xsQmFyLnJlc2V0KCksYy5kZWZhdWx0LnRyaWdnZXIodGhpcy5fZWxlbWVudCx4KX0pKX1faXNBbmltYXRlZCgpe3JldHVybiB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhEKX1fdHJpZ2dlckJhY2tkcm9wVHJhbnNpdGlvbigpe2lmKGMuZGVmYXVsdC50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsYikuZGVmYXVsdFByZXZlbnRlZClyZXR1cm47Y29uc3QgZT10aGlzLl9lbGVtZW50LnNjcm9sbEhlaWdodD5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LHQ9dGhpcy5fZWxlbWVudC5zdHlsZS5vdmVyZmxvd1k7ImhpZGRlbiI9PT10fHx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhPKXx8KGV8fCh0aGlzLl9lbGVtZW50LnN0eWxlLm92ZXJmbG93WT0iaGlkZGVuIiksdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKE8pLHRoaXMuX3F1ZXVlQ2FsbGJhY2soKCgpPT57dGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKE8pLHRoaXMuX3F1ZXVlQ2FsbGJhY2soKCgpPT57dGhpcy5fZWxlbWVudC5zdHlsZS5vdmVyZmxvd1k9dH0pLHRoaXMuX2RpYWxvZyl9KSx0aGlzLl9kaWFsb2cpLHRoaXMuX2VsZW1lbnQuZm9jdXMoKSl9X2FkanVzdERpYWxvZygpe2NvbnN0IHQ9dGhpcy5fZWxlbWVudC5zY3JvbGxIZWlnaHQ+ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxuPXRoaXMuX3Njcm9sbEJhci5nZXRXaWR0aCgpLGk9bj4wO2lmKGkmJiF0KXtjb25zdCB0PWUuaXNSVEwoKT8icGFkZGluZ0xlZnQiOiJwYWRkaW5nUmlnaHQiO3RoaXMuX2VsZW1lbnQuc3R5bGVbdF09YCR7bn1weGB9aWYoIWkmJnQpe2NvbnN0IHQ9ZS5pc1JUTCgpPyJwYWRkaW5nUmlnaHQiOiJwYWRkaW5nTGVmdCI7dGhpcy5fZWxlbWVudC5zdHlsZVt0XT1gJHtufXB4YH19X3Jlc2V0QWRqdXN0bWVudHMoKXt0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdMZWZ0PSIiLHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0PSIifXN0YXRpYyBqUXVlcnlJbnRlcmZhY2UoZSx0KXtyZXR1cm4gdGhpcy5lYWNoKChmdW5jdGlvbigpe2NvbnN0IG49SC5nZXRPckNyZWF0ZUluc3RhbmNlKHRoaXMsZSk7aWYoInN0cmluZyI9PXR5cGVvZiBlKXtpZih2b2lkIDA9PT1uW2VdKXRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldGhvZCBuYW1lZCAiJHtlfSJgKTtuW2VdKHQpfX0pKX19cmV0dXJuIGMuZGVmYXVsdC5vbihkb2N1bWVudCxrLFAsKGZ1bmN0aW9uKHQpe2NvbnN0IG49ZS5nZXRFbGVtZW50RnJvbVNlbGVjdG9yKHRoaXMpO1siQSIsIkFSRUEiXS5pbmNsdWRlcyh0aGlzLnRhZ05hbWUpJiZ0LnByZXZlbnREZWZhdWx0KCksYy5kZWZhdWx0Lm9uZShuLF8sKHQ9Pnt0LmRlZmF1bHRQcmV2ZW50ZWR8fGMuZGVmYXVsdC5vbmUobix4LCgoKT0+e2UuaXNWaXNpYmxlKHRoaXMpJiZ0aGlzLmZvY3VzKCl9KSl9KSk7Y29uc3QgaT11LmRlZmF1bHQuZmluZE9uZShOKTtpJiZILmdldEluc3RhbmNlKGkpLmhpZGUoKSxILmdldE9yQ3JlYXRlSW5zdGFuY2UobikudG9nZ2xlKHRoaXMpfSkpLGEuZW5hYmxlRGlzbWlzc1RyaWdnZXIoSCksZS5kZWZpbmVKUXVlcnlQbHVnaW4oSCksSH0obig0MDcyKSxuKDkyODYpLG4oODczNyksbigxODEwKSxuKDU2OTUpLG4oMTM1OCksbig3NDQpLG4oMTEyNykpfSw2MTAxOmZ1bmN0aW9uKGUsdCxuKXsKLyohCiAgKiBCb290c3RyYXAgcG9wb3Zlci5qcyB2NS4yLjMgKGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS8pCiAgKiBDb3B5cmlnaHQgMjAxMS0yMDIyIFRoZSBCb290c3RyYXAgQXV0aG9ycyAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2dyYXBocy9jb250cmlidXRvcnMpCiAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSkKICAqLwplLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7Y29uc3Qgbj0oZT0+ZSYmIm9iamVjdCI9PXR5cGVvZiBlJiYiZGVmYXVsdCJpbiBlP2U6e2RlZmF1bHQ6ZX0pKHQpLGk9InBvcG92ZXIiLHI9Ii5wb3BvdmVyLWhlYWRlciIsbz0iLnBvcG92ZXItYm9keSIscz17Li4ubi5kZWZhdWx0LkRlZmF1bHQsY29udGVudDoiIixvZmZzZXQ6WzAsOF0scGxhY2VtZW50OiJyaWdodCIsdGVtcGxhdGU6JzxkaXYgY2xhc3M9InBvcG92ZXIiIHJvbGU9InRvb2x0aXAiPjxkaXYgY2xhc3M9InBvcG92ZXItYXJyb3ciPjwvZGl2PjxoMyBjbGFzcz0icG9wb3Zlci1oZWFkZXIiPjwvaDM+PGRpdiBjbGFzcz0icG9wb3Zlci1ib2R5Ij48L2Rpdj48L2Rpdj4nLHRyaWdnZXI6ImNsaWNrIn0sYT17Li4ubi5kZWZhdWx0LkRlZmF1bHRUeXBlLGNvbnRlbnQ6IihudWxsfHN0cmluZ3xlbGVtZW50fGZ1bmN0aW9uKSJ9O2NsYXNzIGwgZXh0ZW5kcyBuLmRlZmF1bHR7c3RhdGljIGdldCBEZWZhdWx0KCl7cmV0dXJuIHN9c3RhdGljIGdldCBEZWZhdWx0VHlwZSgpe3JldHVybiBhfXN0YXRpYyBnZXQgTkFNRSgpe3JldHVybiBpfV9pc1dpdGhDb250ZW50KCl7cmV0dXJuIHRoaXMuX2dldFRpdGxlKCl8fHRoaXMuX2dldENvbnRlbnQoKX1fZ2V0Q29udGVudEZvclRlbXBsYXRlKCl7cmV0dXJue1tyXTp0aGlzLl9nZXRUaXRsZSgpLFtvXTp0aGlzLl9nZXRDb250ZW50KCl9fV9nZXRDb250ZW50KCl7cmV0dXJuIHRoaXMuX3Jlc29sdmVQb3NzaWJsZUZ1bmN0aW9uKHRoaXMuX2NvbmZpZy5jb250ZW50KX1zdGF0aWMgalF1ZXJ5SW50ZXJmYWNlKGUpe3JldHVybiB0aGlzLmVhY2goKGZ1bmN0aW9uKCl7Y29uc3QgdD1sLmdldE9yQ3JlYXRlSW5zdGFuY2UodGhpcyxlKTtpZigic3RyaW5nIj09dHlwZW9mIGUpe2lmKHZvaWQgMD09PXRbZV0pdGhyb3cgbmV3IFR5cGVFcnJvcihgTm8gbWV0aG9kIG5hbWVkICIke2V9ImApO3RbZV0oKX19KSl9fXJldHVybiBlLmRlZmluZUpRdWVyeVBsdWdpbihsKSxsfShuKDQwNzIpLG4oMzgyNCkpfSw2MzY5OmZ1bmN0aW9uKGUsdCxuKXsKLyohCiAgKiBCb290c3RyYXAgc2Nyb2xsc3B5LmpzIHY1LjIuMyAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tLykKICAqIENvcHlyaWdodCAyMDExLTIwMjIgVGhlIEJvb3RzdHJhcCBBdXRob3JzIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvZ3JhcGhzL2NvbnRyaWJ1dG9ycykKICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKQogICovCmUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixpKXsidXNlIHN0cmljdCI7Y29uc3Qgcj1lPT5lJiYib2JqZWN0Ij09dHlwZW9mIGUmJiJkZWZhdWx0ImluIGU/ZTp7ZGVmYXVsdDplfSxvPXIodCkscz1yKG4pLGE9cihpKSxsPSJzY3JvbGxzcHkiLGM9Ii5icy5zY3JvbGxzcHkiLHU9YGFjdGl2YXRlJHtjfWAsZj1gY2xpY2ske2N9YCxkPWBsb2FkJHtjfS5kYXRhLWFwaWAscD0iZHJvcGRvd24taXRlbSIsaD0iYWN0aXZlIixnPSdbZGF0YS1icy1zcHk9InNjcm9sbCJdJyxtPSJbaHJlZl0iLHY9Ii5uYXYsIC5saXN0LWdyb3VwIix5PSIubmF2LWxpbmsiLGI9YCR7eX0sIC5uYXYtaXRlbSA+ICR7eX0sIC5saXN0LWdyb3VwLWl0ZW1gLHg9Ii5kcm9wZG93biIsXz0iLmRyb3Bkb3duLXRvZ2dsZSIsdz17b2Zmc2V0Om51bGwscm9vdE1hcmdpbjoiMHB4IDBweCAtMjUlIixzbW9vdGhTY3JvbGw6ITEsdGFyZ2V0Om51bGwsdGhyZXNob2xkOlsuMSwuNSwxXX0sVD17b2Zmc2V0OiIobnVtYmVyfG51bGwpIixyb290TWFyZ2luOiJzdHJpbmciLHNtb290aFNjcm9sbDoiYm9vbGVhbiIsdGFyZ2V0OiJlbGVtZW50Iix0aHJlc2hvbGQ6ImFycmF5In07Y2xhc3MgQyBleHRlbmRzIGEuZGVmYXVsdHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5fdGFyZ2V0TGlua3M9bmV3IE1hcCx0aGlzLl9vYnNlcnZhYmxlU2VjdGlvbnM9bmV3IE1hcCx0aGlzLl9yb290RWxlbWVudD0idmlzaWJsZSI9PT1nZXRDb21wdXRlZFN0eWxlKHRoaXMuX2VsZW1lbnQpLm92ZXJmbG93WT9udWxsOnRoaXMuX2VsZW1lbnQsdGhpcy5fYWN0aXZlVGFyZ2V0PW51bGwsdGhpcy5fb2JzZXJ2ZXI9bnVsbCx0aGlzLl9wcmV2aW91c1Njcm9sbERhdGE9e3Zpc2libGVFbnRyeVRvcDowLHBhcmVudFNjcm9sbFRvcDowfSx0aGlzLnJlZnJlc2goKX1zdGF0aWMgZ2V0IERlZmF1bHQoKXtyZXR1cm4gd31zdGF0aWMgZ2V0IERlZmF1bHRUeXBlKCl7cmV0dXJuIFR9c3RhdGljIGdldCBOQU1FKCl7cmV0dXJuIGx9cmVmcmVzaCgpe3RoaXMuX2luaXRpYWxpemVUYXJnZXRzQW5kT2JzZXJ2YWJsZXMoKSx0aGlzLl9tYXliZUVuYWJsZVNtb290aFNjcm9sbCgpLHRoaXMuX29ic2VydmVyP3RoaXMuX29ic2VydmVyLmRpc2Nvbm5lY3QoKTp0aGlzLl9vYnNlcnZlcj10aGlzLl9nZXROZXdPYnNlcnZlcigpO2Zvcihjb25zdCBlIG9mIHRoaXMuX29ic2VydmFibGVTZWN0aW9ucy52YWx1ZXMoKSl0aGlzLl9vYnNlcnZlci5vYnNlcnZlKGUpfWRpc3Bvc2UoKXt0aGlzLl9vYnNlcnZlci5kaXNjb25uZWN0KCksc3VwZXIuZGlzcG9zZSgpfV9jb25maWdBZnRlck1lcmdlKHQpe3JldHVybiB0LnRhcmdldD1lLmdldEVsZW1lbnQodC50YXJnZXQpfHxkb2N1bWVudC5ib2R5LHQucm9vdE1hcmdpbj10Lm9mZnNldD9gJHt0Lm9mZnNldH1weCAwcHggLTMwJWA6dC5yb290TWFyZ2luLCJzdHJpbmciPT10eXBlb2YgdC50aHJlc2hvbGQmJih0LnRocmVzaG9sZD10LnRocmVzaG9sZC5zcGxpdCgiLCIpLm1hcCgoZT0+TnVtYmVyLnBhcnNlRmxvYXQoZSkpKSksdH1fbWF5YmVFbmFibGVTbW9vdGhTY3JvbGwoKXt0aGlzLl9jb25maWcuc21vb3RoU2Nyb2xsJiYoby5kZWZhdWx0Lm9mZih0aGlzLl9jb25maWcudGFyZ2V0LGYpLG8uZGVmYXVsdC5vbih0aGlzLl9jb25maWcudGFyZ2V0LGYsbSwoZT0+e2NvbnN0IHQ9dGhpcy5fb2JzZXJ2YWJsZVNlY3Rpb25zLmdldChlLnRhcmdldC5oYXNoKTtpZih0KXtlLnByZXZlbnREZWZhdWx0KCk7Y29uc3Qgbj10aGlzLl9yb290RWxlbWVudHx8d2luZG93LGk9dC5vZmZzZXRUb3AtdGhpcy5fZWxlbWVudC5vZmZzZXRUb3A7aWYobi5zY3JvbGxUbylyZXR1cm4gdm9pZCBuLnNjcm9sbFRvKHt0b3A6aSxiZWhhdmlvcjoic21vb3RoIn0pO24uc2Nyb2xsVG9wPWl9fSkpKX1fZ2V0TmV3T2JzZXJ2ZXIoKXtjb25zdCBlPXtyb290OnRoaXMuX3Jvb3RFbGVtZW50LHRocmVzaG9sZDp0aGlzLl9jb25maWcudGhyZXNob2xkLHJvb3RNYXJnaW46dGhpcy5fY29uZmlnLnJvb3RNYXJnaW59O3JldHVybiBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGU9PnRoaXMuX29ic2VydmVyQ2FsbGJhY2soZSkpLGUpfV9vYnNlcnZlckNhbGxiYWNrKGUpe2NvbnN0IHQ9ZT0+dGhpcy5fdGFyZ2V0TGlua3MuZ2V0KGAjJHtlLnRhcmdldC5pZH1gKSxuPWU9Pnt0aGlzLl9wcmV2aW91c1Njcm9sbERhdGEudmlzaWJsZUVudHJ5VG9wPWUudGFyZ2V0Lm9mZnNldFRvcCx0aGlzLl9wcm9jZXNzKHQoZSkpfSxpPSh0aGlzLl9yb290RWxlbWVudHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5zY3JvbGxUb3Ascj1pPj10aGlzLl9wcmV2aW91c1Njcm9sbERhdGEucGFyZW50U2Nyb2xsVG9wO3RoaXMuX3ByZXZpb3VzU2Nyb2xsRGF0YS5wYXJlbnRTY3JvbGxUb3A9aTtmb3IoY29uc3QgbyBvZiBlKXtpZighby5pc0ludGVyc2VjdGluZyl7dGhpcy5fYWN0aXZlVGFyZ2V0PW51bGwsdGhpcy5fY2xlYXJBY3RpdmVDbGFzcyh0KG8pKTtjb250aW51ZX1jb25zdCBlPW8udGFyZ2V0Lm9mZnNldFRvcD49dGhpcy5fcHJldmlvdXNTY3JvbGxEYXRhLnZpc2libGVFbnRyeVRvcDtpZihyJiZlKXtpZihuKG8pLCFpKXJldHVybn1lbHNlIHJ8fGV8fG4obyl9fV9pbml0aWFsaXplVGFyZ2V0c0FuZE9ic2VydmFibGVzKCl7dGhpcy5fdGFyZ2V0TGlua3M9bmV3IE1hcCx0aGlzLl9vYnNlcnZhYmxlU2VjdGlvbnM9bmV3IE1hcDtjb25zdCB0PXMuZGVmYXVsdC5maW5kKG0sdGhpcy5fY29uZmlnLnRhcmdldCk7Zm9yKGNvbnN0IG4gb2YgdCl7aWYoIW4uaGFzaHx8ZS5pc0Rpc2FibGVkKG4pKWNvbnRpbnVlO2NvbnN0IHQ9cy5kZWZhdWx0LmZpbmRPbmUobi5oYXNoLHRoaXMuX2VsZW1lbnQpO2UuaXNWaXNpYmxlKHQpJiYodGhpcy5fdGFyZ2V0TGlua3Muc2V0KG4uaGFzaCxuKSx0aGlzLl9vYnNlcnZhYmxlU2VjdGlvbnMuc2V0KG4uaGFzaCx0KSl9fV9wcm9jZXNzKGUpe3RoaXMuX2FjdGl2ZVRhcmdldCE9PWUmJih0aGlzLl9jbGVhckFjdGl2ZUNsYXNzKHRoaXMuX2NvbmZpZy50YXJnZXQpLHRoaXMuX2FjdGl2ZVRhcmdldD1lLGUuY2xhc3NMaXN0LmFkZChoKSx0aGlzLl9hY3RpdmF0ZVBhcmVudHMoZSksby5kZWZhdWx0LnRyaWdnZXIodGhpcy5fZWxlbWVudCx1LHtyZWxhdGVkVGFyZ2V0OmV9KSl9X2FjdGl2YXRlUGFyZW50cyhlKXtpZihlLmNsYXNzTGlzdC5jb250YWlucyhwKSlzLmRlZmF1bHQuZmluZE9uZShfLGUuY2xvc2VzdCh4KSkuY2xhc3NMaXN0LmFkZChoKTtlbHNlIGZvcihjb25zdCB0IG9mIHMuZGVmYXVsdC5wYXJlbnRzKGUsdikpZm9yKGNvbnN0IGUgb2Ygcy5kZWZhdWx0LnByZXYodCxiKSllLmNsYXNzTGlzdC5hZGQoaCl9X2NsZWFyQWN0aXZlQ2xhc3MoZSl7ZS5jbGFzc0xpc3QucmVtb3ZlKGgpO2NvbnN0IHQ9cy5kZWZhdWx0LmZpbmQoYCR7bX0uJHtofWAsZSk7Zm9yKGNvbnN0IGUgb2YgdCllLmNsYXNzTGlzdC5yZW1vdmUoaCl9c3RhdGljIGpRdWVyeUludGVyZmFjZShlKXtyZXR1cm4gdGhpcy5lYWNoKChmdW5jdGlvbigpe2NvbnN0IHQ9Qy5nZXRPckNyZWF0ZUluc3RhbmNlKHRoaXMsZSk7aWYoInN0cmluZyI9PXR5cGVvZiBlKXtpZih2b2lkIDA9PT10W2VdfHxlLnN0YXJ0c1dpdGgoIl8iKXx8ImNvbnN0cnVjdG9yIj09PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihgTm8gbWV0aG9kIG5hbWVkICIke2V9ImApO3RbZV0oKX19KSl9fXJldHVybiBvLmRlZmF1bHQub24od2luZG93LGQsKCgpPT57Zm9yKGNvbnN0IGUgb2Ygcy5kZWZhdWx0LmZpbmQoZykpQy5nZXRPckNyZWF0ZUluc3RhbmNlKGUpfSkpLGUuZGVmaW5lSlF1ZXJ5UGx1Z2luKEMpLEN9KG4oNDA3Miksbig5Mjg2KSxuKDg3MzcpLG4oNTY5NSkpfSw4NDcxOmZ1bmN0aW9uKGUsdCxuKXsKLyohCiAgKiBCb290c3RyYXAgdGFiLmpzIHY1LjIuMyAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tLykKICAqIENvcHlyaWdodCAyMDExLTIwMjIgVGhlIEJvb3RzdHJhcCBBdXRob3JzIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvZ3JhcGhzL2NvbnRyaWJ1dG9ycykKICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKQogICovCmUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixpKXsidXNlIHN0cmljdCI7Y29uc3Qgcj1lPT5lJiYib2JqZWN0Ij09dHlwZW9mIGUmJiJkZWZhdWx0ImluIGU/ZTp7ZGVmYXVsdDplfSxvPXIodCkscz1yKG4pLGE9cihpKSxsPSJ0YWIiLGM9Ii5icy50YWIiLHU9YGhpZGUke2N9YCxmPWBoaWRkZW4ke2N9YCxkPWBzaG93JHtjfWAscD1gc2hvd24ke2N9YCxoPWBjbGljayR7Y31gLGc9YGtleWRvd24ke2N9YCxtPWBsb2FkJHtjfWAsdj0iQXJyb3dMZWZ0Iix5PSJBcnJvd1JpZ2h0IixiPSJBcnJvd1VwIix4PSJBcnJvd0Rvd24iLF89ImFjdGl2ZSIsdz0iZmFkZSIsVD0ic2hvdyIsQz0iZHJvcGRvd24iLEU9Ii5kcm9wZG93bi10b2dnbGUiLEE9Ii5kcm9wZG93bi1tZW51IixrPSI6bm90KC5kcm9wZG93bi10b2dnbGUpIixTPScubGlzdC1ncm91cCwgLm5hdiwgW3JvbGU9InRhYmxpc3QiXScsRD0iLm5hdi1pdGVtLCAubGlzdC1ncm91cC1pdGVtIixqPSdbZGF0YS1icy10b2dnbGU9InRhYiJdLCBbZGF0YS1icy10b2dnbGU9InBpbGwiXSwgW2RhdGEtYnMtdG9nZ2xlPSJsaXN0Il0nLE89YC5uYXYtbGluayR7a30sIC5saXN0LWdyb3VwLWl0ZW0ke2t9LCBbcm9sZT0idGFiIl0ke2t9LCAke2p9YCxOPWAuJHtffVtkYXRhLWJzLXRvZ2dsZT0idGFiIl0sIC4ke199W2RhdGEtYnMtdG9nZ2xlPSJwaWxsIl0sIC4ke199W2RhdGEtYnMtdG9nZ2xlPSJsaXN0Il1gO2NsYXNzIEwgZXh0ZW5kcyBhLmRlZmF1bHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fcGFyZW50PXRoaXMuX2VsZW1lbnQuY2xvc2VzdChTKSx0aGlzLl9wYXJlbnQmJih0aGlzLl9zZXRJbml0aWFsQXR0cmlidXRlcyh0aGlzLl9wYXJlbnQsdGhpcy5fZ2V0Q2hpbGRyZW4oKSksby5kZWZhdWx0Lm9uKHRoaXMuX2VsZW1lbnQsZywoZT0+dGhpcy5fa2V5ZG93bihlKSkpKX1zdGF0aWMgZ2V0IE5BTUUoKXtyZXR1cm4gbH1zaG93KCl7Y29uc3QgZT10aGlzLl9lbGVtZW50O2lmKHRoaXMuX2VsZW1Jc0FjdGl2ZShlKSlyZXR1cm47Y29uc3QgdD10aGlzLl9nZXRBY3RpdmVFbGVtKCksbj10P28uZGVmYXVsdC50cmlnZ2VyKHQsdSx7cmVsYXRlZFRhcmdldDplfSk6bnVsbDtvLmRlZmF1bHQudHJpZ2dlcihlLGQse3JlbGF0ZWRUYXJnZXQ6dH0pLmRlZmF1bHRQcmV2ZW50ZWR8fG4mJm4uZGVmYXVsdFByZXZlbnRlZHx8KHRoaXMuX2RlYWN0aXZhdGUodCxlKSx0aGlzLl9hY3RpdmF0ZShlLHQpKX1fYWN0aXZhdGUodCxuKXtpZighdClyZXR1cm47dC5jbGFzc0xpc3QuYWRkKF8pLHRoaXMuX2FjdGl2YXRlKGUuZ2V0RWxlbWVudEZyb21TZWxlY3Rvcih0KSk7Y29uc3QgaT0oKT0+eyJ0YWIiPT09dC5nZXRBdHRyaWJ1dGUoInJvbGUiKT8odC5yZW1vdmVBdHRyaWJ1dGUoInRhYmluZGV4IiksdC5zZXRBdHRyaWJ1dGUoImFyaWEtc2VsZWN0ZWQiLCEwKSx0aGlzLl90b2dnbGVEcm9wRG93bih0LCEwKSxvLmRlZmF1bHQudHJpZ2dlcih0LHAse3JlbGF0ZWRUYXJnZXQ6bn0pKTp0LmNsYXNzTGlzdC5hZGQoVCl9O3RoaXMuX3F1ZXVlQ2FsbGJhY2soaSx0LHQuY2xhc3NMaXN0LmNvbnRhaW5zKHcpKX1fZGVhY3RpdmF0ZSh0LG4pe2lmKCF0KXJldHVybjt0LmNsYXNzTGlzdC5yZW1vdmUoXyksdC5ibHVyKCksdGhpcy5fZGVhY3RpdmF0ZShlLmdldEVsZW1lbnRGcm9tU2VsZWN0b3IodCkpO2NvbnN0IGk9KCk9PnsidGFiIj09PXQuZ2V0QXR0cmlidXRlKCJyb2xlIik/KHQuc2V0QXR0cmlidXRlKCJhcmlhLXNlbGVjdGVkIiwhMSksdC5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKSx0aGlzLl90b2dnbGVEcm9wRG93bih0LCExKSxvLmRlZmF1bHQudHJpZ2dlcih0LGYse3JlbGF0ZWRUYXJnZXQ6bn0pKTp0LmNsYXNzTGlzdC5yZW1vdmUoVCl9O3RoaXMuX3F1ZXVlQ2FsbGJhY2soaSx0LHQuY2xhc3NMaXN0LmNvbnRhaW5zKHcpKX1fa2V5ZG93bih0KXtpZighW3YseSxiLHhdLmluY2x1ZGVzKHQua2V5KSlyZXR1cm47dC5zdG9wUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCk7Y29uc3Qgbj1beSx4XS5pbmNsdWRlcyh0LmtleSksaT1lLmdldE5leHRBY3RpdmVFbGVtZW50KHRoaXMuX2dldENoaWxkcmVuKCkuZmlsdGVyKCh0PT4hZS5pc0Rpc2FibGVkKHQpKSksdC50YXJnZXQsbiwhMCk7aSYmKGkuZm9jdXMoe3ByZXZlbnRTY3JvbGw6ITB9KSxMLmdldE9yQ3JlYXRlSW5zdGFuY2UoaSkuc2hvdygpKX1fZ2V0Q2hpbGRyZW4oKXtyZXR1cm4gcy5kZWZhdWx0LmZpbmQoTyx0aGlzLl9wYXJlbnQpfV9nZXRBY3RpdmVFbGVtKCl7cmV0dXJuIHRoaXMuX2dldENoaWxkcmVuKCkuZmluZCgoZT0+dGhpcy5fZWxlbUlzQWN0aXZlKGUpKSl8fG51bGx9X3NldEluaXRpYWxBdHRyaWJ1dGVzKGUsdCl7dGhpcy5fc2V0QXR0cmlidXRlSWZOb3RFeGlzdHMoZSwicm9sZSIsInRhYmxpc3QiKTtmb3IoY29uc3QgZSBvZiB0KXRoaXMuX3NldEluaXRpYWxBdHRyaWJ1dGVzT25DaGlsZChlKX1fc2V0SW5pdGlhbEF0dHJpYnV0ZXNPbkNoaWxkKGUpe2U9dGhpcy5fZ2V0SW5uZXJFbGVtZW50KGUpO2NvbnN0IHQ9dGhpcy5fZWxlbUlzQWN0aXZlKGUpLG49dGhpcy5fZ2V0T3V0ZXJFbGVtZW50KGUpO2Uuc2V0QXR0cmlidXRlKCJhcmlhLXNlbGVjdGVkIix0KSxuIT09ZSYmdGhpcy5fc2V0QXR0cmlidXRlSWZOb3RFeGlzdHMobiwicm9sZSIsInByZXNlbnRhdGlvbiIpLHR8fGUuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIiksdGhpcy5fc2V0QXR0cmlidXRlSWZOb3RFeGlzdHMoZSwicm9sZSIsInRhYiIpLHRoaXMuX3NldEluaXRpYWxBdHRyaWJ1dGVzT25UYXJnZXRQYW5lbChlKX1fc2V0SW5pdGlhbEF0dHJpYnV0ZXNPblRhcmdldFBhbmVsKHQpe2NvbnN0IG49ZS5nZXRFbGVtZW50RnJvbVNlbGVjdG9yKHQpO24mJih0aGlzLl9zZXRBdHRyaWJ1dGVJZk5vdEV4aXN0cyhuLCJyb2xlIiwidGFicGFuZWwiKSx0LmlkJiZ0aGlzLl9zZXRBdHRyaWJ1dGVJZk5vdEV4aXN0cyhuLCJhcmlhLWxhYmVsbGVkYnkiLGAjJHt0LmlkfWApKX1fdG9nZ2xlRHJvcERvd24oZSx0KXtjb25zdCBuPXRoaXMuX2dldE91dGVyRWxlbWVudChlKTtpZighbi5jbGFzc0xpc3QuY29udGFpbnMoQykpcmV0dXJuO2NvbnN0IGk9KGUsaSk9Pntjb25zdCByPXMuZGVmYXVsdC5maW5kT25lKGUsbik7ciYmci5jbGFzc0xpc3QudG9nZ2xlKGksdCl9O2koRSxfKSxpKEEsVCksbi5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLHQpfV9zZXRBdHRyaWJ1dGVJZk5vdEV4aXN0cyhlLHQsbil7ZS5oYXNBdHRyaWJ1dGUodCl8fGUuc2V0QXR0cmlidXRlKHQsbil9X2VsZW1Jc0FjdGl2ZShlKXtyZXR1cm4gZS5jbGFzc0xpc3QuY29udGFpbnMoXyl9X2dldElubmVyRWxlbWVudChlKXtyZXR1cm4gZS5tYXRjaGVzKE8pP2U6cy5kZWZhdWx0LmZpbmRPbmUoTyxlKX1fZ2V0T3V0ZXJFbGVtZW50KGUpe3JldHVybiBlLmNsb3Nlc3QoRCl8fGV9c3RhdGljIGpRdWVyeUludGVyZmFjZShlKXtyZXR1cm4gdGhpcy5lYWNoKChmdW5jdGlvbigpe2NvbnN0IHQ9TC5nZXRPckNyZWF0ZUluc3RhbmNlKHRoaXMpO2lmKCJzdHJpbmciPT10eXBlb2YgZSl7aWYodm9pZCAwPT09dFtlXXx8ZS5zdGFydHNXaXRoKCJfIil8fCJjb25zdHJ1Y3RvciI9PT1lKXRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldGhvZCBuYW1lZCAiJHtlfSJgKTt0W2VdKCl9fSkpfX1yZXR1cm4gby5kZWZhdWx0Lm9uKGRvY3VtZW50LGgsaiwoZnVuY3Rpb24odCl7WyJBIiwiQVJFQSJdLmluY2x1ZGVzKHRoaXMudGFnTmFtZSkmJnQucHJldmVudERlZmF1bHQoKSxlLmlzRGlzYWJsZWQodGhpcyl8fEwuZ2V0T3JDcmVhdGVJbnN0YW5jZSh0aGlzKS5zaG93KCl9KSksby5kZWZhdWx0Lm9uKHdpbmRvdyxtLCgoKT0+e2Zvcihjb25zdCBlIG9mIHMuZGVmYXVsdC5maW5kKE4pKUwuZ2V0T3JDcmVhdGVJbnN0YW5jZShlKX0pKSxlLmRlZmluZUpRdWVyeVBsdWdpbihMKSxMfShuKDQwNzIpLG4oOTI4Niksbig4NzM3KSxuKDU2OTUpKX0sMzgyNDpmdW5jdGlvbihlLHQsbil7Ci8qIQogICogQm9vdHN0cmFwIHRvb2x0aXAuanMgdjUuMi4zIChodHRwczovL2dldGJvb3RzdHJhcC5jb20vKQogICogQ29weXJpZ2h0IDIwMTEtMjAyMiBUaGUgQm9vdHN0cmFwIEF1dGhvcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ncmFwaHMvY29udHJpYnV0b3JzKQogICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpCiAgKi8KZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLGkscixvLHMpeyJ1c2Ugc3RyaWN0Ijtjb25zdCBhPWU9PmUmJiJvYmplY3QiPT10eXBlb2YgZSYmImRlZmF1bHQiaW4gZT9lOntkZWZhdWx0OmV9O2Z1bmN0aW9uIGwoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO2NvbnN0IHQ9T2JqZWN0LmNyZWF0ZShudWxsLHtbU3ltYm9sLnRvU3RyaW5nVGFnXTp7dmFsdWU6Ik1vZHVsZSJ9fSk7aWYoZSlmb3IoY29uc3QgbiBpbiBlKWlmKCJkZWZhdWx0IiE9PW4pe2NvbnN0IGk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4saS5nZXQ/aTp7ZW51bWVyYWJsZTohMCxnZXQ6KCk9PmVbbl19KX1yZXR1cm4gdC5kZWZhdWx0PWUsT2JqZWN0LmZyZWV6ZSh0KX1jb25zdCBjPWwoZSksdT1hKGkpLGY9YShyKSxkPWEobykscD1hKHMpLGg9InRvb2x0aXAiLGc9bmV3IFNldChbInNhbml0aXplIiwiYWxsb3dMaXN0Iiwic2FuaXRpemVGbiJdKSxtPSJmYWRlIix2PSJzaG93Iix5PSIudG9vbHRpcC1pbm5lciIsYj0iLm1vZGFsIix4PSJoaWRlLmJzLm1vZGFsIixfPSJob3ZlciIsdz0iZm9jdXMiLFQ9ImNsaWNrIixDPSJtYW51YWwiLEU9ImhpZGUiLEE9ImhpZGRlbiIsaz0ic2hvdyIsUz0ic2hvd24iLEQ9Imluc2VydGVkIixqPSJjbGljayIsTz0iZm9jdXNpbiIsTj0iZm9jdXNvdXQiLEw9Im1vdXNlZW50ZXIiLE09Im1vdXNlbGVhdmUiLFA9e0FVVE86ImF1dG8iLFRPUDoidG9wIixSSUdIVDp0LmlzUlRMKCk/ImxlZnQiOiJyaWdodCIsQk9UVE9NOiJib3R0b20iLExFRlQ6dC5pc1JUTCgpPyJyaWdodCI6ImxlZnQifSwkPXthbGxvd0xpc3Q6bi5EZWZhdWx0QWxsb3dsaXN0LGFuaW1hdGlvbjohMCxib3VuZGFyeToiY2xpcHBpbmdQYXJlbnRzIixjb250YWluZXI6ITEsY3VzdG9tQ2xhc3M6IiIsZGVsYXk6MCxmYWxsYmFja1BsYWNlbWVudHM6WyJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiXSxodG1sOiExLG9mZnNldDpbMCwwXSxwbGFjZW1lbnQ6InRvcCIscG9wcGVyQ29uZmlnOm51bGwsc2FuaXRpemU6ITAsc2FuaXRpemVGbjpudWxsLHNlbGVjdG9yOiExLHRlbXBsYXRlOic8ZGl2IGNsYXNzPSJ0b29sdGlwIiByb2xlPSJ0b29sdGlwIj48ZGl2IGNsYXNzPSJ0b29sdGlwLWFycm93Ij48L2Rpdj48ZGl2IGNsYXNzPSJ0b29sdGlwLWlubmVyIj48L2Rpdj48L2Rpdj4nLHRpdGxlOiIiLHRyaWdnZXI6ImhvdmVyIGZvY3VzIn0scT17YWxsb3dMaXN0OiJvYmplY3QiLGFuaW1hdGlvbjoiYm9vbGVhbiIsYm91bmRhcnk6IihzdHJpbmd8ZWxlbWVudCkiLGNvbnRhaW5lcjoiKHN0cmluZ3xlbGVtZW50fGJvb2xlYW4pIixjdXN0b21DbGFzczoiKHN0cmluZ3xmdW5jdGlvbikiLGRlbGF5OiIobnVtYmVyfG9iamVjdCkiLGZhbGxiYWNrUGxhY2VtZW50czoiYXJyYXkiLGh0bWw6ImJvb2xlYW4iLG9mZnNldDoiKGFycmF5fHN0cmluZ3xmdW5jdGlvbikiLHBsYWNlbWVudDoiKHN0cmluZ3xmdW5jdGlvbikiLHBvcHBlckNvbmZpZzoiKG51bGx8b2JqZWN0fGZ1bmN0aW9uKSIsc2FuaXRpemU6ImJvb2xlYW4iLHNhbml0aXplRm46IihudWxsfGZ1bmN0aW9uKSIsc2VsZWN0b3I6IihzdHJpbmd8Ym9vbGVhbikiLHRlbXBsYXRlOiJzdHJpbmciLHRpdGxlOiIoc3RyaW5nfGVsZW1lbnR8ZnVuY3Rpb24pIix0cmlnZ2VyOiJzdHJpbmcifTtjbGFzcyBIIGV4dGVuZHMgZC5kZWZhdWx0e2NvbnN0cnVjdG9yKGUsdCl7aWYodm9pZCAwPT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKCJCb290c3RyYXAncyB0b29sdGlwcyByZXF1aXJlIFBvcHBlciAoaHR0cHM6Ly9wb3BwZXIuanMub3JnKSIpO3N1cGVyKGUsdCksdGhpcy5faXNFbmFibGVkPSEwLHRoaXMuX3RpbWVvdXQ9MCx0aGlzLl9pc0hvdmVyZWQ9bnVsbCx0aGlzLl9hY3RpdmVUcmlnZ2VyPXt9LHRoaXMuX3BvcHBlcj1udWxsLHRoaXMuX3RlbXBsYXRlRmFjdG9yeT1udWxsLHRoaXMuX25ld0NvbnRlbnQ9bnVsbCx0aGlzLnRpcD1udWxsLHRoaXMuX3NldExpc3RlbmVycygpLHRoaXMuX2NvbmZpZy5zZWxlY3Rvcnx8dGhpcy5fZml4VGl0bGUoKX1zdGF0aWMgZ2V0IERlZmF1bHQoKXtyZXR1cm4gJH1zdGF0aWMgZ2V0IERlZmF1bHRUeXBlKCl7cmV0dXJuIHF9c3RhdGljIGdldCBOQU1FKCl7cmV0dXJuIGh9ZW5hYmxlKCl7dGhpcy5faXNFbmFibGVkPSEwfWRpc2FibGUoKXt0aGlzLl9pc0VuYWJsZWQ9ITF9dG9nZ2xlRW5hYmxlZCgpe3RoaXMuX2lzRW5hYmxlZD0hdGhpcy5faXNFbmFibGVkfXRvZ2dsZSgpe3RoaXMuX2lzRW5hYmxlZCYmKHRoaXMuX2FjdGl2ZVRyaWdnZXIuY2xpY2s9IXRoaXMuX2FjdGl2ZVRyaWdnZXIuY2xpY2ssdGhpcy5faXNTaG93bigpP3RoaXMuX2xlYXZlKCk6dGhpcy5fZW50ZXIoKSl9ZGlzcG9zZSgpe2NsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KSx1LmRlZmF1bHQub2ZmKHRoaXMuX2VsZW1lbnQuY2xvc2VzdChiKSx4LHRoaXMuX2hpZGVNb2RhbEhhbmRsZXIpLHRoaXMuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKCJkYXRhLWJzLW9yaWdpbmFsLXRpdGxlIikmJnRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCJ0aXRsZSIsdGhpcy5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoImRhdGEtYnMtb3JpZ2luYWwtdGl0bGUiKSksdGhpcy5fZGlzcG9zZVBvcHBlcigpLHN1cGVyLmRpc3Bvc2UoKX1zaG93KCl7aWYoIm5vbmUiPT09dGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5KXRocm93IG5ldyBFcnJvcigiUGxlYXNlIHVzZSBzaG93IG9uIHZpc2libGUgZWxlbWVudHMiKTtpZighdGhpcy5faXNXaXRoQ29udGVudCgpfHwhdGhpcy5faXNFbmFibGVkKXJldHVybjtjb25zdCBlPXUuZGVmYXVsdC50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsdGhpcy5jb25zdHJ1Y3Rvci5ldmVudE5hbWUoaykpLG49KHQuZmluZFNoYWRvd1Jvb3QodGhpcy5fZWxlbWVudCl8fHRoaXMuX2VsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmNvbnRhaW5zKHRoaXMuX2VsZW1lbnQpO2lmKGUuZGVmYXVsdFByZXZlbnRlZHx8IW4pcmV0dXJuO3RoaXMuX2Rpc3Bvc2VQb3BwZXIoKTtjb25zdCBpPXRoaXMuX2dldFRpcEVsZW1lbnQoKTt0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgiYXJpYS1kZXNjcmliZWRieSIsaS5nZXRBdHRyaWJ1dGUoImlkIikpO2NvbnN0e2NvbnRhaW5lcjpyfT10aGlzLl9jb25maWc7aWYodGhpcy5fZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyh0aGlzLnRpcCl8fChyLmFwcGVuZChpKSx1LmRlZmF1bHQudHJpZ2dlcih0aGlzLl9lbGVtZW50LHRoaXMuY29uc3RydWN0b3IuZXZlbnROYW1lKEQpKSksdGhpcy5fcG9wcGVyPXRoaXMuX2NyZWF0ZVBvcHBlcihpKSxpLmNsYXNzTGlzdC5hZGQodiksIm9udG91Y2hzdGFydCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpZm9yKGNvbnN0IGUgb2ZbXS5jb25jYXQoLi4uZG9jdW1lbnQuYm9keS5jaGlsZHJlbikpdS5kZWZhdWx0Lm9uKGUsIm1vdXNlb3ZlciIsdC5ub29wKTtjb25zdCBvPSgpPT57dS5kZWZhdWx0LnRyaWdnZXIodGhpcy5fZWxlbWVudCx0aGlzLmNvbnN0cnVjdG9yLmV2ZW50TmFtZShTKSksITE9PT10aGlzLl9pc0hvdmVyZWQmJnRoaXMuX2xlYXZlKCksdGhpcy5faXNIb3ZlcmVkPSExfTt0aGlzLl9xdWV1ZUNhbGxiYWNrKG8sdGhpcy50aXAsdGhpcy5faXNBbmltYXRlZCgpKX1oaWRlKCl7aWYoIXRoaXMuX2lzU2hvd24oKSlyZXR1cm47aWYodS5kZWZhdWx0LnRyaWdnZXIodGhpcy5fZWxlbWVudCx0aGlzLmNvbnN0cnVjdG9yLmV2ZW50TmFtZShFKSkuZGVmYXVsdFByZXZlbnRlZClyZXR1cm47aWYodGhpcy5fZ2V0VGlwRWxlbWVudCgpLmNsYXNzTGlzdC5yZW1vdmUodiksIm9udG91Y2hzdGFydCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpZm9yKGNvbnN0IGUgb2ZbXS5jb25jYXQoLi4uZG9jdW1lbnQuYm9keS5jaGlsZHJlbikpdS5kZWZhdWx0Lm9mZihlLCJtb3VzZW92ZXIiLHQubm9vcCk7dGhpcy5fYWN0aXZlVHJpZ2dlcltUXT0hMSx0aGlzLl9hY3RpdmVUcmlnZ2VyW3ddPSExLHRoaXMuX2FjdGl2ZVRyaWdnZXJbX109ITEsdGhpcy5faXNIb3ZlcmVkPW51bGw7Y29uc3QgZT0oKT0+e3RoaXMuX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKXx8KHRoaXMuX2lzSG92ZXJlZHx8dGhpcy5fZGlzcG9zZVBvcHBlcigpLHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCJhcmlhLWRlc2NyaWJlZGJ5IiksdS5kZWZhdWx0LnRyaWdnZXIodGhpcy5fZWxlbWVudCx0aGlzLmNvbnN0cnVjdG9yLmV2ZW50TmFtZShBKSkpfTt0aGlzLl9xdWV1ZUNhbGxiYWNrKGUsdGhpcy50aXAsdGhpcy5faXNBbmltYXRlZCgpKX11cGRhdGUoKXt0aGlzLl9wb3BwZXImJnRoaXMuX3BvcHBlci51cGRhdGUoKX1faXNXaXRoQ29udGVudCgpe3JldHVybiBCb29sZWFuKHRoaXMuX2dldFRpdGxlKCkpfV9nZXRUaXBFbGVtZW50KCl7cmV0dXJuIHRoaXMudGlwfHwodGhpcy50aXA9dGhpcy5fY3JlYXRlVGlwRWxlbWVudCh0aGlzLl9uZXdDb250ZW50fHx0aGlzLl9nZXRDb250ZW50Rm9yVGVtcGxhdGUoKSkpLHRoaXMudGlwfV9jcmVhdGVUaXBFbGVtZW50KGUpe2NvbnN0IG49dGhpcy5fZ2V0VGVtcGxhdGVGYWN0b3J5KGUpLnRvSHRtbCgpO2lmKCFuKXJldHVybiBudWxsO24uY2xhc3NMaXN0LnJlbW92ZShtLHYpLG4uY2xhc3NMaXN0LmFkZChgYnMtJHt0aGlzLmNvbnN0cnVjdG9yLk5BTUV9LWF1dG9gKTtjb25zdCBpPXQuZ2V0VUlEKHRoaXMuY29uc3RydWN0b3IuTkFNRSkudG9TdHJpbmcoKTtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUoImlkIixpKSx0aGlzLl9pc0FuaW1hdGVkKCkmJm4uY2xhc3NMaXN0LmFkZChtKSxufXNldENvbnRlbnQoZSl7dGhpcy5fbmV3Q29udGVudD1lLHRoaXMuX2lzU2hvd24oKSYmKHRoaXMuX2Rpc3Bvc2VQb3BwZXIoKSx0aGlzLnNob3coKSl9X2dldFRlbXBsYXRlRmFjdG9yeShlKXtyZXR1cm4gdGhpcy5fdGVtcGxhdGVGYWN0b3J5P3RoaXMuX3RlbXBsYXRlRmFjdG9yeS5jaGFuZ2VDb250ZW50KGUpOnRoaXMuX3RlbXBsYXRlRmFjdG9yeT1uZXcgcC5kZWZhdWx0KHsuLi50aGlzLl9jb25maWcsY29udGVudDplLGV4dHJhQ2xhc3M6dGhpcy5fcmVzb2x2ZVBvc3NpYmxlRnVuY3Rpb24odGhpcy5fY29uZmlnLmN1c3RvbUNsYXNzKX0pLHRoaXMuX3RlbXBsYXRlRmFjdG9yeX1fZ2V0Q29udGVudEZvclRlbXBsYXRlKCl7cmV0dXJue1t5XTp0aGlzLl9nZXRUaXRsZSgpfX1fZ2V0VGl0bGUoKXtyZXR1cm4gdGhpcy5fcmVzb2x2ZVBvc3NpYmxlRnVuY3Rpb24odGhpcy5fY29uZmlnLnRpdGxlKXx8dGhpcy5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoImRhdGEtYnMtb3JpZ2luYWwtdGl0bGUiKX1faW5pdGlhbGl6ZU9uRGVsZWdhdGVkVGFyZ2V0KGUpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLmdldE9yQ3JlYXRlSW5zdGFuY2UoZS5kZWxlZ2F0ZVRhcmdldCx0aGlzLl9nZXREZWxlZ2F0ZUNvbmZpZygpKX1faXNBbmltYXRlZCgpe3JldHVybiB0aGlzLl9jb25maWcuYW5pbWF0aW9ufHx0aGlzLnRpcCYmdGhpcy50aXAuY2xhc3NMaXN0LmNvbnRhaW5zKG0pfV9pc1Nob3duKCl7cmV0dXJuIHRoaXMudGlwJiZ0aGlzLnRpcC5jbGFzc0xpc3QuY29udGFpbnModil9X2NyZWF0ZVBvcHBlcihlKXtjb25zdCB0PSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLl9jb25maWcucGxhY2VtZW50P3RoaXMuX2NvbmZpZy5wbGFjZW1lbnQuY2FsbCh0aGlzLGUsdGhpcy5fZWxlbWVudCk6dGhpcy5fY29uZmlnLnBsYWNlbWVudCxuPVBbdC50b1VwcGVyQ2FzZSgpXTtyZXR1cm4gYy5jcmVhdGVQb3BwZXIodGhpcy5fZWxlbWVudCxlLHRoaXMuX2dldFBvcHBlckNvbmZpZyhuKSl9X2dldE9mZnNldCgpe2NvbnN0e29mZnNldDplfT10aGlzLl9jb25maWc7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP2Uuc3BsaXQoIiwiKS5tYXAoKGU9Pk51bWJlci5wYXJzZUludChlLDEwKSkpOiJmdW5jdGlvbiI9PXR5cGVvZiBlP3Q9PmUodCx0aGlzLl9lbGVtZW50KTplfV9yZXNvbHZlUG9zc2libGVGdW5jdGlvbihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT9lLmNhbGwodGhpcy5fZWxlbWVudCk6ZX1fZ2V0UG9wcGVyQ29uZmlnKGUpe2NvbnN0IHQ9e3BsYWNlbWVudDplLG1vZGlmaWVyczpbe25hbWU6ImZsaXAiLG9wdGlvbnM6e2ZhbGxiYWNrUGxhY2VtZW50czp0aGlzLl9jb25maWcuZmFsbGJhY2tQbGFjZW1lbnRzfX0se25hbWU6Im9mZnNldCIsb3B0aW9uczp7b2Zmc2V0OnRoaXMuX2dldE9mZnNldCgpfX0se25hbWU6InByZXZlbnRPdmVyZmxvdyIsb3B0aW9uczp7Ym91bmRhcnk6dGhpcy5fY29uZmlnLmJvdW5kYXJ5fX0se25hbWU6ImFycm93IixvcHRpb25zOntlbGVtZW50OmAuJHt0aGlzLmNvbnN0cnVjdG9yLk5BTUV9LWFycm93YH19LHtuYW1lOiJwcmVTZXRQbGFjZW1lbnQiLGVuYWJsZWQ6ITAscGhhc2U6ImJlZm9yZU1haW4iLGZuOmU9Pnt0aGlzLl9nZXRUaXBFbGVtZW50KCkuc2V0QXR0cmlidXRlKCJkYXRhLXBvcHBlci1wbGFjZW1lbnQiLGUuc3RhdGUucGxhY2VtZW50KX19XX07cmV0dXJuey4uLnQsLi4uImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuX2NvbmZpZy5wb3BwZXJDb25maWc/dGhpcy5fY29uZmlnLnBvcHBlckNvbmZpZyh0KTp0aGlzLl9jb25maWcucG9wcGVyQ29uZmlnfX1fc2V0TGlzdGVuZXJzKCl7Y29uc3QgZT10aGlzLl9jb25maWcudHJpZ2dlci5zcGxpdCgiICIpO2Zvcihjb25zdCB0IG9mIGUpaWYoImNsaWNrIj09PXQpdS5kZWZhdWx0Lm9uKHRoaXMuX2VsZW1lbnQsdGhpcy5jb25zdHJ1Y3Rvci5ldmVudE5hbWUoaiksdGhpcy5fY29uZmlnLnNlbGVjdG9yLChlPT57dGhpcy5faW5pdGlhbGl6ZU9uRGVsZWdhdGVkVGFyZ2V0KGUpLnRvZ2dsZSgpfSkpO2Vsc2UgaWYodCE9PUMpe2NvbnN0IGU9dD09PV8/dGhpcy5jb25zdHJ1Y3Rvci5ldmVudE5hbWUoTCk6dGhpcy5jb25zdHJ1Y3Rvci5ldmVudE5hbWUoTyksbj10PT09Xz90aGlzLmNvbnN0cnVjdG9yLmV2ZW50TmFtZShNKTp0aGlzLmNvbnN0cnVjdG9yLmV2ZW50TmFtZShOKTt1LmRlZmF1bHQub24odGhpcy5fZWxlbWVudCxlLHRoaXMuX2NvbmZpZy5zZWxlY3RvciwoZT0+e2NvbnN0IHQ9dGhpcy5faW5pdGlhbGl6ZU9uRGVsZWdhdGVkVGFyZ2V0KGUpO3QuX2FjdGl2ZVRyaWdnZXJbImZvY3VzaW4iPT09ZS50eXBlP3c6X109ITAsdC5fZW50ZXIoKX0pKSx1LmRlZmF1bHQub24odGhpcy5fZWxlbWVudCxuLHRoaXMuX2NvbmZpZy5zZWxlY3RvciwoZT0+e2NvbnN0IHQ9dGhpcy5faW5pdGlhbGl6ZU9uRGVsZWdhdGVkVGFyZ2V0KGUpO3QuX2FjdGl2ZVRyaWdnZXJbImZvY3Vzb3V0Ij09PWUudHlwZT93Ol9dPXQuX2VsZW1lbnQuY29udGFpbnMoZS5yZWxhdGVkVGFyZ2V0KSx0Ll9sZWF2ZSgpfSkpfXRoaXMuX2hpZGVNb2RhbEhhbmRsZXI9KCk9Pnt0aGlzLl9lbGVtZW50JiZ0aGlzLmhpZGUoKX0sdS5kZWZhdWx0Lm9uKHRoaXMuX2VsZW1lbnQuY2xvc2VzdChiKSx4LHRoaXMuX2hpZGVNb2RhbEhhbmRsZXIpfV9maXhUaXRsZSgpe2NvbnN0IGU9dGhpcy5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoInRpdGxlIik7ZSYmKHRoaXMuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIil8fHRoaXMuX2VsZW1lbnQudGV4dENvbnRlbnQudHJpbSgpfHx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsZSksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoImRhdGEtYnMtb3JpZ2luYWwtdGl0bGUiLGUpLHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCJ0aXRsZSIpKX1fZW50ZXIoKXt0aGlzLl9pc1Nob3duKCl8fHRoaXMuX2lzSG92ZXJlZD90aGlzLl9pc0hvdmVyZWQ9ITA6KHRoaXMuX2lzSG92ZXJlZD0hMCx0aGlzLl9zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2lzSG92ZXJlZCYmdGhpcy5zaG93KCl9KSx0aGlzLl9jb25maWcuZGVsYXkuc2hvdykpfV9sZWF2ZSgpe3RoaXMuX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKXx8KHRoaXMuX2lzSG92ZXJlZD0hMSx0aGlzLl9zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2lzSG92ZXJlZHx8dGhpcy5oaWRlKCl9KSx0aGlzLl9jb25maWcuZGVsYXkuaGlkZSkpfV9zZXRUaW1lb3V0KGUsdCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpLHRoaXMuX3RpbWVvdXQ9c2V0VGltZW91dChlLHQpfV9pc1dpdGhBY3RpdmVUcmlnZ2VyKCl7cmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5fYWN0aXZlVHJpZ2dlcikuaW5jbHVkZXMoITApfV9nZXRDb25maWcoZSl7Y29uc3QgdD1mLmRlZmF1bHQuZ2V0RGF0YUF0dHJpYnV0ZXModGhpcy5fZWxlbWVudCk7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModCkpZy5oYXMoZSkmJmRlbGV0ZSB0W2VdO3JldHVybiBlPXsuLi50LC4uLiJvYmplY3QiPT10eXBlb2YgZSYmZT9lOnt9fSxlPXRoaXMuX21lcmdlQ29uZmlnT2JqKGUpLGU9dGhpcy5fY29uZmlnQWZ0ZXJNZXJnZShlKSx0aGlzLl90eXBlQ2hlY2tDb25maWcoZSksZX1fY29uZmlnQWZ0ZXJNZXJnZShlKXtyZXR1cm4gZS5jb250YWluZXI9ITE9PT1lLmNvbnRhaW5lcj9kb2N1bWVudC5ib2R5OnQuZ2V0RWxlbWVudChlLmNvbnRhaW5lciksIm51bWJlciI9PXR5cGVvZiBlLmRlbGF5JiYoZS5kZWxheT17c2hvdzplLmRlbGF5LGhpZGU6ZS5kZWxheX0pLCJudW1iZXIiPT10eXBlb2YgZS50aXRsZSYmKGUudGl0bGU9ZS50aXRsZS50b1N0cmluZygpKSwibnVtYmVyIj09dHlwZW9mIGUuY29udGVudCYmKGUuY29udGVudD1lLmNvbnRlbnQudG9TdHJpbmcoKSksZX1fZ2V0RGVsZWdhdGVDb25maWcoKXtjb25zdCBlPXt9O2Zvcihjb25zdCB0IGluIHRoaXMuX2NvbmZpZyl0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHRbdF0hPT10aGlzLl9jb25maWdbdF0mJihlW3RdPXRoaXMuX2NvbmZpZ1t0XSk7cmV0dXJuIGUuc2VsZWN0b3I9ITEsZS50cmlnZ2VyPSJtYW51YWwiLGV9X2Rpc3Bvc2VQb3BwZXIoKXt0aGlzLl9wb3BwZXImJih0aGlzLl9wb3BwZXIuZGVzdHJveSgpLHRoaXMuX3BvcHBlcj1udWxsKSx0aGlzLnRpcCYmKHRoaXMudGlwLnJlbW92ZSgpLHRoaXMudGlwPW51bGwpfXN0YXRpYyBqUXVlcnlJbnRlcmZhY2UoZSl7cmV0dXJuIHRoaXMuZWFjaCgoZnVuY3Rpb24oKXtjb25zdCB0PUguZ2V0T3JDcmVhdGVJbnN0YW5jZSh0aGlzLGUpO2lmKCJzdHJpbmciPT10eXBlb2YgZSl7aWYodm9pZCAwPT09dFtlXSl0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBtZXRob2QgbmFtZWQgIiR7ZX0iYCk7dFtlXSgpfX0pKX19cmV0dXJuIHQuZGVmaW5lSlF1ZXJ5UGx1Z2luKEgpLEh9KG4oOTQ5Miksbig0MDcyKSxuKDE1NTEpLG4oOTI4NiksbigzMTc1KSxuKDU2OTUpLG4oOTY4KSl9LDEzNTg6ZnVuY3Rpb24oZSx0LG4pewovKiEKICAqIEJvb3RzdHJhcCBiYWNrZHJvcC5qcyB2NS4yLjMgKGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS8pCiAgKiBDb3B5cmlnaHQgMjAxMS0yMDIyIFRoZSBCb290c3RyYXAgQXV0aG9ycyAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2dyYXBocy9jb250cmlidXRvcnMpCiAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSkKICAqLwplLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijtjb25zdCBpPWU9PmUmJiJvYmplY3QiPT10eXBlb2YgZSYmImRlZmF1bHQiaW4gZT9lOntkZWZhdWx0OmV9LHI9aShlKSxvPWkobikscz0iYmFja2Ryb3AiLGE9ImZhZGUiLGw9InNob3ciLGM9YG1vdXNlZG93bi5icy4ke3N9YCx1PXtjbGFzc05hbWU6Im1vZGFsLWJhY2tkcm9wIixjbGlja0NhbGxiYWNrOm51bGwsaXNBbmltYXRlZDohMSxpc1Zpc2libGU6ITAscm9vdEVsZW1lbnQ6ImJvZHkifSxmPXtjbGFzc05hbWU6InN0cmluZyIsY2xpY2tDYWxsYmFjazoiKGZ1bmN0aW9ufG51bGwpIixpc0FuaW1hdGVkOiJib29sZWFuIixpc1Zpc2libGU6ImJvb2xlYW4iLHJvb3RFbGVtZW50OiIoZWxlbWVudHxzdHJpbmcpIn07Y2xhc3MgZCBleHRlbmRzIG8uZGVmYXVsdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX2NvbmZpZz10aGlzLl9nZXRDb25maWcoZSksdGhpcy5faXNBcHBlbmRlZD0hMSx0aGlzLl9lbGVtZW50PW51bGx9c3RhdGljIGdldCBEZWZhdWx0KCl7cmV0dXJuIHV9c3RhdGljIGdldCBEZWZhdWx0VHlwZSgpe3JldHVybiBmfXN0YXRpYyBnZXQgTkFNRSgpe3JldHVybiBzfXNob3coZSl7aWYoIXRoaXMuX2NvbmZpZy5pc1Zpc2libGUpcmV0dXJuIHZvaWQgdC5leGVjdXRlKGUpO3RoaXMuX2FwcGVuZCgpO2NvbnN0IG49dGhpcy5fZ2V0RWxlbWVudCgpO3RoaXMuX2NvbmZpZy5pc0FuaW1hdGVkJiZ0LnJlZmxvdyhuKSxuLmNsYXNzTGlzdC5hZGQobCksdGhpcy5fZW11bGF0ZUFuaW1hdGlvbigoKCk9Pnt0LmV4ZWN1dGUoZSl9KSl9aGlkZShlKXt0aGlzLl9jb25maWcuaXNWaXNpYmxlPyh0aGlzLl9nZXRFbGVtZW50KCkuY2xhc3NMaXN0LnJlbW92ZShsKSx0aGlzLl9lbXVsYXRlQW5pbWF0aW9uKCgoKT0+e3RoaXMuZGlzcG9zZSgpLHQuZXhlY3V0ZShlKX0pKSk6dC5leGVjdXRlKGUpfWRpc3Bvc2UoKXt0aGlzLl9pc0FwcGVuZGVkJiYoci5kZWZhdWx0Lm9mZih0aGlzLl9lbGVtZW50LGMpLHRoaXMuX2VsZW1lbnQucmVtb3ZlKCksdGhpcy5faXNBcHBlbmRlZD0hMSl9X2dldEVsZW1lbnQoKXtpZighdGhpcy5fZWxlbWVudCl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLmNsYXNzTmFtZT10aGlzLl9jb25maWcuY2xhc3NOYW1lLHRoaXMuX2NvbmZpZy5pc0FuaW1hdGVkJiZlLmNsYXNzTGlzdC5hZGQoYSksdGhpcy5fZWxlbWVudD1lfXJldHVybiB0aGlzLl9lbGVtZW50fV9jb25maWdBZnRlck1lcmdlKGUpe3JldHVybiBlLnJvb3RFbGVtZW50PXQuZ2V0RWxlbWVudChlLnJvb3RFbGVtZW50KSxlfV9hcHBlbmQoKXtpZih0aGlzLl9pc0FwcGVuZGVkKXJldHVybjtjb25zdCBlPXRoaXMuX2dldEVsZW1lbnQoKTt0aGlzLl9jb25maWcucm9vdEVsZW1lbnQuYXBwZW5kKGUpLHIuZGVmYXVsdC5vbihlLGMsKCgpPT57dC5leGVjdXRlKHRoaXMuX2NvbmZpZy5jbGlja0NhbGxiYWNrKX0pKSx0aGlzLl9pc0FwcGVuZGVkPSEwfV9lbXVsYXRlQW5pbWF0aW9uKGUpe3QuZXhlY3V0ZUFmdGVyVHJhbnNpdGlvbihlLHRoaXMuX2dldEVsZW1lbnQoKSx0aGlzLl9jb25maWcuaXNBbmltYXRlZCl9fXJldHVybiBkfShuKDkyODYpLG4oNDA3Miksbig0NzA1KSl9LDExMjc6ZnVuY3Rpb24oZSx0LG4pewovKiEKICAqIEJvb3RzdHJhcCBjb21wb25lbnQtZnVuY3Rpb25zLmpzIHY1LjIuMyAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tLykKICAqIENvcHlyaWdodCAyMDExLTIwMjIgVGhlIEJvb3RzdHJhcCBBdXRob3JzIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvZ3JhcGhzL2NvbnRyaWJ1dG9ycykKICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKQogICovCiFmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2NvbnN0IGk9KGU9PmUmJiJvYmplY3QiPT10eXBlb2YgZSYmImRlZmF1bHQiaW4gZT9lOntkZWZhdWx0OmV9KSh0KSxyPShlLHQ9ImhpZGUiKT0+e2NvbnN0IHI9YGNsaWNrLmRpc21pc3Mke2UuRVZFTlRfS0VZfWAsbz1lLk5BTUU7aS5kZWZhdWx0Lm9uKGRvY3VtZW50LHIsYFtkYXRhLWJzLWRpc21pc3M9IiR7b30iXWAsKGZ1bmN0aW9uKGkpe2lmKFsiQSIsIkFSRUEiXS5pbmNsdWRlcyh0aGlzLnRhZ05hbWUpJiZpLnByZXZlbnREZWZhdWx0KCksbi5pc0Rpc2FibGVkKHRoaXMpKXJldHVybjtjb25zdCByPW4uZ2V0RWxlbWVudEZyb21TZWxlY3Rvcih0aGlzKXx8dGhpcy5jbG9zZXN0KGAuJHtvfWApO2UuZ2V0T3JDcmVhdGVJbnN0YW5jZShyKVt0XSgpfSkpfTtlLmVuYWJsZURpc21pc3NUcmlnZ2VyPXIsT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSx7X19lc01vZHVsZTp7dmFsdWU6ITB9LFtTeW1ib2wudG9TdHJpbmdUYWddOnt2YWx1ZToiTW9kdWxlIn19KX0odCxuKDkyODYpLG4oNDA3MikpfSw0NzA1OmZ1bmN0aW9uKGUsdCxuKXsKLyohCiAgKiBCb290c3RyYXAgY29uZmlnLmpzIHY1LjIuMyAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tLykKICAqIENvcHlyaWdodCAyMDExLTIwMjIgVGhlIEJvb3RzdHJhcCBBdXRob3JzIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvZ3JhcGhzL2NvbnRyaWJ1dG9ycykKICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKQogICovCmUuZXhwb3J0cz1mdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijtjb25zdCBuPShlPT5lJiYib2JqZWN0Ij09dHlwZW9mIGUmJiJkZWZhdWx0ImluIGU/ZTp7ZGVmYXVsdDplfSkodCk7Y2xhc3MgaXtzdGF0aWMgZ2V0IERlZmF1bHQoKXtyZXR1cm57fX1zdGF0aWMgZ2V0IERlZmF1bHRUeXBlKCl7cmV0dXJue319c3RhdGljIGdldCBOQU1FKCl7dGhyb3cgbmV3IEVycm9yKCdZb3UgaGF2ZSB0byBpbXBsZW1lbnQgdGhlIHN0YXRpYyBtZXRob2QgIk5BTUUiLCBmb3IgZWFjaCBjb21wb25lbnQhJyl9X2dldENvbmZpZyhlKXtyZXR1cm4gZT10aGlzLl9tZXJnZUNvbmZpZ09iaihlKSxlPXRoaXMuX2NvbmZpZ0FmdGVyTWVyZ2UoZSksdGhpcy5fdHlwZUNoZWNrQ29uZmlnKGUpLGV9X2NvbmZpZ0FmdGVyTWVyZ2UoZSl7cmV0dXJuIGV9X21lcmdlQ29uZmlnT2JqKHQsaSl7Y29uc3Qgcj1lLmlzRWxlbWVudChpKT9uLmRlZmF1bHQuZ2V0RGF0YUF0dHJpYnV0ZShpLCJjb25maWciKTp7fTtyZXR1cm57Li4udGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0LC4uLiJvYmplY3QiPT10eXBlb2Ygcj9yOnt9LC4uLmUuaXNFbGVtZW50KGkpP24uZGVmYXVsdC5nZXREYXRhQXR0cmlidXRlcyhpKTp7fSwuLi4ib2JqZWN0Ij09dHlwZW9mIHQ/dDp7fX19X3R5cGVDaGVja0NvbmZpZyh0LG49dGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0VHlwZSl7Zm9yKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMobikpe2NvbnN0IHI9bltpXSxvPXRbaV0scz1lLmlzRWxlbWVudChvKT8iZWxlbWVudCI6ZS50b1R5cGUobyk7aWYoIW5ldyBSZWdFeHAocikudGVzdChzKSl0aHJvdyBuZXcgVHlwZUVycm9yKGAke3RoaXMuY29uc3RydWN0b3IuTkFNRS50b1VwcGVyQ2FzZSgpfTogT3B0aW9uICIke2l9IiBwcm92aWRlZCB0eXBlICIke3N9IiBidXQgZXhwZWN0ZWQgdHlwZSAiJHtyfSIuYCl9fX1yZXR1cm4gaX0obig0MDcyKSxuKDMxNzUpKX0sNzQ0OmZ1bmN0aW9uKGUsdCxuKXsKLyohCiAgKiBCb290c3RyYXAgZm9jdXN0cmFwLmpzIHY1LjIuMyAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tLykKICAqIENvcHlyaWdodCAyMDExLTIwMjIgVGhlIEJvb3RzdHJhcCBBdXRob3JzIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvZ3JhcGhzL2NvbnRyaWJ1dG9ycykKICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKQogICovCmUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2NvbnN0IGk9ZT0+ZSYmIm9iamVjdCI9PXR5cGVvZiBlJiYiZGVmYXVsdCJpbiBlP2U6e2RlZmF1bHQ6ZX0scj1pKGUpLG89aSh0KSxzPWkobiksYT0iZm9jdXN0cmFwIixsPSIuYnMuZm9jdXN0cmFwIixjPWBmb2N1c2luJHtsfWAsdT1ga2V5ZG93bi50YWIke2x9YCxmPSJUYWIiLGQ9ImZvcndhcmQiLHA9ImJhY2t3YXJkIixoPXthdXRvZm9jdXM6ITAsdHJhcEVsZW1lbnQ6bnVsbH0sZz17YXV0b2ZvY3VzOiJib29sZWFuIix0cmFwRWxlbWVudDoiZWxlbWVudCJ9O2NsYXNzIG0gZXh0ZW5kcyBzLmRlZmF1bHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKGUpLHRoaXMuX2lzQWN0aXZlPSExLHRoaXMuX2xhc3RUYWJOYXZEaXJlY3Rpb249bnVsbH1zdGF0aWMgZ2V0IERlZmF1bHQoKXtyZXR1cm4gaH1zdGF0aWMgZ2V0IERlZmF1bHRUeXBlKCl7cmV0dXJuIGd9c3RhdGljIGdldCBOQU1FKCl7cmV0dXJuIGF9YWN0aXZhdGUoKXt0aGlzLl9pc0FjdGl2ZXx8KHRoaXMuX2NvbmZpZy5hdXRvZm9jdXMmJnRoaXMuX2NvbmZpZy50cmFwRWxlbWVudC5mb2N1cygpLHIuZGVmYXVsdC5vZmYoZG9jdW1lbnQsbCksci5kZWZhdWx0Lm9uKGRvY3VtZW50LGMsKGU9PnRoaXMuX2hhbmRsZUZvY3VzaW4oZSkpKSxyLmRlZmF1bHQub24oZG9jdW1lbnQsdSwoZT0+dGhpcy5faGFuZGxlS2V5ZG93bihlKSkpLHRoaXMuX2lzQWN0aXZlPSEwKX1kZWFjdGl2YXRlKCl7dGhpcy5faXNBY3RpdmUmJih0aGlzLl9pc0FjdGl2ZT0hMSxyLmRlZmF1bHQub2ZmKGRvY3VtZW50LGwpKX1faGFuZGxlRm9jdXNpbihlKXtjb25zdHt0cmFwRWxlbWVudDp0fT10aGlzLl9jb25maWc7aWYoZS50YXJnZXQ9PT1kb2N1bWVudHx8ZS50YXJnZXQ9PT10fHx0LmNvbnRhaW5zKGUudGFyZ2V0KSlyZXR1cm47Y29uc3Qgbj1vLmRlZmF1bHQuZm9jdXNhYmxlQ2hpbGRyZW4odCk7MD09PW4ubGVuZ3RoP3QuZm9jdXMoKTp0aGlzLl9sYXN0VGFiTmF2RGlyZWN0aW9uPT09cD9uW24ubGVuZ3RoLTFdLmZvY3VzKCk6blswXS5mb2N1cygpfV9oYW5kbGVLZXlkb3duKGUpe2Uua2V5PT09ZiYmKHRoaXMuX2xhc3RUYWJOYXZEaXJlY3Rpb249ZS5zaGlmdEtleT9wOmQpfX1yZXR1cm4gbX0obig5Mjg2KSxuKDg3MzcpLG4oNDcwNSkpfSw0MDcyOmZ1bmN0aW9uKGUsdCl7Ci8qIQogICogQm9vdHN0cmFwIGluZGV4LmpzIHY1LjIuMyAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tLykKICAqIENvcHlyaWdodCAyMDExLTIwMjIgVGhlIEJvb3RzdHJhcCBBdXRob3JzIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvZ3JhcGhzL2NvbnRyaWJ1dG9ycykKICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKQogICovCiFmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7Y29uc3QgdD0xZTYsbj0xZTMsaT0idHJhbnNpdGlvbmVuZCIscj1lPT5udWxsPT1lP2Ake2V9YDpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkubWF0Y2goL1xzKFthLXpdKykvaSlbMV0udG9Mb3dlckNhc2UoKSxvPWU9Pntkb3tlKz1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdCl9d2hpbGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkpO3JldHVybiBlfSxzPWU9PntsZXQgdD1lLmdldEF0dHJpYnV0ZSgiZGF0YS1icy10YXJnZXQiKTtpZighdHx8IiMiPT09dCl7bGV0IG49ZS5nZXRBdHRyaWJ1dGUoImhyZWYiKTtpZighbnx8IW4uaW5jbHVkZXMoIiMiKSYmIW4uc3RhcnRzV2l0aCgiLiIpKXJldHVybiBudWxsO24uaW5jbHVkZXMoIiMiKSYmIW4uc3RhcnRzV2l0aCgiIyIpJiYobj1gIyR7bi5zcGxpdCgiIyIpWzFdfWApLHQ9biYmIiMiIT09bj9uLnRyaW0oKTpudWxsfXJldHVybiB0fSxhPWU9Pntjb25zdCB0PXMoZSk7cmV0dXJuIHQmJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCk/dDpudWxsfSxsPWU9Pntjb25zdCB0PXMoZSk7cmV0dXJuIHQ/ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KTpudWxsfSxjPWU9PntpZighZSlyZXR1cm4gMDtsZXR7dHJhbnNpdGlvbkR1cmF0aW9uOnQsdHJhbnNpdGlvbkRlbGF5Oml9PXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUpO2NvbnN0IHI9TnVtYmVyLnBhcnNlRmxvYXQodCksbz1OdW1iZXIucGFyc2VGbG9hdChpKTtyZXR1cm4gcnx8bz8odD10LnNwbGl0KCIsIilbMF0saT1pLnNwbGl0KCIsIilbMF0sKE51bWJlci5wYXJzZUZsb2F0KHQpK051bWJlci5wYXJzZUZsb2F0KGkpKSpuKTowfSx1PWU9PntlLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KGkpKX0sZj1lPT4hKCFlfHwib2JqZWN0IiE9dHlwZW9mIGUpJiYodm9pZCAwIT09ZS5qcXVlcnkmJihlPWVbMF0pLHZvaWQgMCE9PWUubm9kZVR5cGUpLGQ9ZT0+ZihlKT9lLmpxdWVyeT9lWzBdOmU6InN0cmluZyI9PXR5cGVvZiBlJiZlLmxlbmd0aD4wP2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZSk6bnVsbCxwPWU9PntpZighZihlKXx8MD09PWUuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpcmV0dXJuITE7Y29uc3QgdD0idmlzaWJsZSI9PT1nZXRDb21wdXRlZFN0eWxlKGUpLmdldFByb3BlcnR5VmFsdWUoInZpc2liaWxpdHkiKSxuPWUuY2xvc2VzdCgiZGV0YWlsczpub3QoW29wZW5dKSIpO2lmKCFuKXJldHVybiB0O2lmKG4hPT1lKXtjb25zdCB0PWUuY2xvc2VzdCgic3VtbWFyeSIpO2lmKHQmJnQucGFyZW50Tm9kZSE9PW4pcmV0dXJuITE7aWYobnVsbD09PXQpcmV0dXJuITF9cmV0dXJuIHR9LGg9ZT0+IWV8fGUubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERXx8ISFlLmNsYXNzTGlzdC5jb250YWlucygiZGlzYWJsZWQiKXx8KHZvaWQgMCE9PWUuZGlzYWJsZWQ/ZS5kaXNhYmxlZDplLmhhc0F0dHJpYnV0ZSgiZGlzYWJsZWQiKSYmImZhbHNlIiE9PWUuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpKSxnPWU9PntpZighZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmF0dGFjaFNoYWRvdylyZXR1cm4gbnVsbDtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRSb290Tm9kZSl7Y29uc3QgdD1lLmdldFJvb3ROb2RlKCk7cmV0dXJuIHQgaW5zdGFuY2VvZiBTaGFkb3dSb290P3Q6bnVsbH1yZXR1cm4gZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3Q/ZTplLnBhcmVudE5vZGU/ZyhlLnBhcmVudE5vZGUpOm51bGx9LG09KCk9Pnt9LHY9ZT0+e2Uub2Zmc2V0SGVpZ2h0fSx5PSgpPT53aW5kb3cualF1ZXJ5JiYhZG9jdW1lbnQuYm9keS5oYXNBdHRyaWJ1dGUoImRhdGEtYnMtbm8tanF1ZXJ5Iik/d2luZG93LmpRdWVyeTpudWxsLGI9W10seD1lPT57ImxvYWRpbmciPT09ZG9jdW1lbnQucmVhZHlTdGF0ZT8oYi5sZW5ndGh8fGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCgoKT0+e2Zvcihjb25zdCBlIG9mIGIpZSgpfSkpLGIucHVzaChlKSk6ZSgpfSxfPSgpPT4icnRsIj09PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kaXIsdz1lPT57eCgoKCk9Pntjb25zdCB0PXkoKTtpZih0KXtjb25zdCBuPWUuTkFNRSxpPXQuZm5bbl07dC5mbltuXT1lLmpRdWVyeUludGVyZmFjZSx0LmZuW25dLkNvbnN0cnVjdG9yPWUsdC5mbltuXS5ub0NvbmZsaWN0PSgpPT4odC5mbltuXT1pLGUualF1ZXJ5SW50ZXJmYWNlKX19KSl9LFQ9ZT0+eyJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlKCl9LEM9KGUsdCxuPSEwKT0+e2lmKCFuKXJldHVybiB2b2lkIFQoZSk7Y29uc3Qgcj01LG89Yyh0KStyO2xldCBzPSExO2NvbnN0IGE9KHt0YXJnZXQ6bn0pPT57bj09PXQmJihzPSEwLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLGEpLFQoZSkpfTt0LmFkZEV2ZW50TGlzdGVuZXIoaSxhKSxzZXRUaW1lb3V0KCgoKT0+e3N8fHUodCl9KSxvKX0sRT0oZSx0LG4saSk9Pntjb25zdCByPWUubGVuZ3RoO2xldCBvPWUuaW5kZXhPZih0KTtyZXR1cm4tMT09PW8/IW4mJmk/ZVtyLTFdOmVbMF06KG8rPW4/MTotMSxpJiYobz0obytyKSVyKSxlW01hdGgubWF4KDAsTWF0aC5taW4obyxyLTEpKV0pfTtlLmRlZmluZUpRdWVyeVBsdWdpbj13LGUuZXhlY3V0ZT1ULGUuZXhlY3V0ZUFmdGVyVHJhbnNpdGlvbj1DLGUuZmluZFNoYWRvd1Jvb3Q9ZyxlLmdldEVsZW1lbnQ9ZCxlLmdldEVsZW1lbnRGcm9tU2VsZWN0b3I9bCxlLmdldE5leHRBY3RpdmVFbGVtZW50PUUsZS5nZXRTZWxlY3RvckZyb21FbGVtZW50PWEsZS5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudD1jLGUuZ2V0VUlEPW8sZS5nZXRqUXVlcnk9eSxlLmlzRGlzYWJsZWQ9aCxlLmlzRWxlbWVudD1mLGUuaXNSVEw9XyxlLmlzVmlzaWJsZT1wLGUubm9vcD1tLGUub25ET01Db250ZW50TG9hZGVkPXgsZS5yZWZsb3c9dixlLnRvVHlwZT1yLGUudHJpZ2dlclRyYW5zaXRpb25FbmQ9dSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtfX2VzTW9kdWxlOnt2YWx1ZTohMH0sW1N5bWJvbC50b1N0cmluZ1RhZ106e3ZhbHVlOiJNb2R1bGUifX0pfSh0KX0sMTU1MTpmdW5jdGlvbihlLHQpewovKiEKICAqIEJvb3RzdHJhcCBzYW5pdGl6ZXIuanMgdjUuMi4zIChodHRwczovL2dldGJvb3RzdHJhcC5jb20vKQogICogQ29weXJpZ2h0IDIwMTEtMjAyMiBUaGUgQm9vdHN0cmFwIEF1dGhvcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ncmFwaHMvY29udHJpYnV0b3JzKQogICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpCiAgKi8KIWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijtjb25zdCB0PW5ldyBTZXQoWyJiYWNrZ3JvdW5kIiwiY2l0ZSIsImhyZWYiLCJpdGVtdHlwZSIsImxvbmdkZXNjIiwicG9zdGVyIiwic3JjIiwieGxpbms6aHJlZiJdKSxuPS9eKD86KD86aHR0cHM/fG1haWx0b3xmdHB8dGVsfGZpbGV8c21zKTp8W14jJi86P10qKD86WyMvP118JCkpL2ksaT0vXmRhdGE6KD86aW1hZ2VcLyg/OmJtcHxnaWZ8anBlZ3xqcGd8cG5nfHRpZmZ8d2VicCl8dmlkZW9cLyg/Om1wZWd8bXA0fG9nZ3x3ZWJtKXxhdWRpb1wvKD86bXAzfG9nYXxvZ2d8b3B1cykpO2Jhc2U2NCxbXGQrL2Etel0rPSokL2kscj0oZSxyKT0+e2NvbnN0IG89ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiByLmluY2x1ZGVzKG8pPyF0LmhhcyhvKXx8Qm9vbGVhbihuLnRlc3QoZS5ub2RlVmFsdWUpfHxpLnRlc3QoZS5ub2RlVmFsdWUpKTpyLmZpbHRlcigoZT0+ZSBpbnN0YW5jZW9mIFJlZ0V4cCkpLnNvbWUoKGU9PmUudGVzdChvKSkpfSxvPXsiKiI6WyJjbGFzcyIsImRpciIsImlkIiwibGFuZyIsInJvbGUiLC9eYXJpYS1bXHctXSokL2ldLGE6WyJ0YXJnZXQiLCJocmVmIiwidGl0bGUiLCJyZWwiXSxhcmVhOltdLGI6W10sYnI6W10sY29sOltdLGNvZGU6W10sZGl2OltdLGVtOltdLGhyOltdLGgxOltdLGgyOltdLGgzOltdLGg0OltdLGg1OltdLGg2OltdLGk6W10saW1nOlsic3JjIiwic3Jjc2V0IiwiYWx0IiwidGl0bGUiLCJ3aWR0aCIsImhlaWdodCJdLGxpOltdLG9sOltdLHA6W10scHJlOltdLHM6W10sc21hbGw6W10sc3BhbjpbXSxzdWI6W10sc3VwOltdLHN0cm9uZzpbXSx1OltdLHVsOltdfTtmdW5jdGlvbiBzKGUsdCxuKXtpZighZS5sZW5ndGgpcmV0dXJuIGU7aWYobiYmImZ1bmN0aW9uIj09dHlwZW9mIG4pcmV0dXJuIG4oZSk7Y29uc3QgaT0obmV3IHdpbmRvdy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L2h0bWwiKSxvPVtdLmNvbmNhdCguLi5pLmJvZHkucXVlcnlTZWxlY3RvckFsbCgiKiIpKTtmb3IoY29uc3QgZSBvZiBvKXtjb25zdCBuPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZighT2JqZWN0LmtleXModCkuaW5jbHVkZXMobikpe2UucmVtb3ZlKCk7Y29udGludWV9Y29uc3QgaT1bXS5jb25jYXQoLi4uZS5hdHRyaWJ1dGVzKSxvPVtdLmNvbmNhdCh0WyIqIl18fFtdLHRbbl18fFtdKTtmb3IoY29uc3QgdCBvZiBpKXIodCxvKXx8ZS5yZW1vdmVBdHRyaWJ1dGUodC5ub2RlTmFtZSl9cmV0dXJuIGkuYm9keS5pbm5lckhUTUx9ZS5EZWZhdWx0QWxsb3dsaXN0PW8sZS5zYW5pdGl6ZUh0bWw9cyxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtfX2VzTW9kdWxlOnt2YWx1ZTohMH0sW1N5bWJvbC50b1N0cmluZ1RhZ106e3ZhbHVlOiJNb2R1bGUifX0pfSh0KX0sMTgxMDpmdW5jdGlvbihlLHQsbil7Ci8qIQogICogQm9vdHN0cmFwIHNjcm9sbGJhci5qcyB2NS4yLjMgKGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS8pCiAgKiBDb3B5cmlnaHQgMjAxMS0yMDIyIFRoZSBCb290c3RyYXAgQXV0aG9ycyAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2dyYXBocy9jb250cmlidXRvcnMpCiAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSkKICAqLwplLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijtjb25zdCBpPWU9PmUmJiJvYmplY3QiPT10eXBlb2YgZSYmImRlZmF1bHQiaW4gZT9lOntkZWZhdWx0OmV9LHI9aShlKSxvPWkodCkscz0iLmZpeGVkLXRvcCwgLmZpeGVkLWJvdHRvbSwgLmlzLWZpeGVkLCAuc3RpY2t5LXRvcCIsYT0iLnN0aWNreS10b3AiLGw9InBhZGRpbmctcmlnaHQiLGM9Im1hcmdpbi1yaWdodCI7Y2xhc3MgdXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2VsZW1lbnQ9ZG9jdW1lbnQuYm9keX1nZXRXaWR0aCgpe2NvbnN0IGU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO3JldHVybiBNYXRoLmFicyh3aW5kb3cuaW5uZXJXaWR0aC1lKX1oaWRlKCl7Y29uc3QgZT10aGlzLmdldFdpZHRoKCk7dGhpcy5fZGlzYWJsZU92ZXJGbG93KCksdGhpcy5fc2V0RWxlbWVudEF0dHJpYnV0ZXModGhpcy5fZWxlbWVudCxsLCh0PT50K2UpKSx0aGlzLl9zZXRFbGVtZW50QXR0cmlidXRlcyhzLGwsKHQ9PnQrZSkpLHRoaXMuX3NldEVsZW1lbnRBdHRyaWJ1dGVzKGEsYywodD0+dC1lKSl9cmVzZXQoKXt0aGlzLl9yZXNldEVsZW1lbnRBdHRyaWJ1dGVzKHRoaXMuX2VsZW1lbnQsIm92ZXJmbG93IiksdGhpcy5fcmVzZXRFbGVtZW50QXR0cmlidXRlcyh0aGlzLl9lbGVtZW50LGwpLHRoaXMuX3Jlc2V0RWxlbWVudEF0dHJpYnV0ZXMocyxsKSx0aGlzLl9yZXNldEVsZW1lbnRBdHRyaWJ1dGVzKGEsYyl9aXNPdmVyZmxvd2luZygpe3JldHVybiB0aGlzLmdldFdpZHRoKCk+MH1fZGlzYWJsZU92ZXJGbG93KCl7dGhpcy5fc2F2ZUluaXRpYWxBdHRyaWJ1dGUodGhpcy5fZWxlbWVudCwib3ZlcmZsb3ciKSx0aGlzLl9lbGVtZW50LnN0eWxlLm92ZXJmbG93PSJoaWRkZW4ifV9zZXRFbGVtZW50QXR0cmlidXRlcyhlLHQsbil7Y29uc3QgaT10aGlzLmdldFdpZHRoKCkscj1lPT57aWYoZSE9PXRoaXMuX2VsZW1lbnQmJndpbmRvdy5pbm5lcldpZHRoPmUuY2xpZW50V2lkdGgraSlyZXR1cm47dGhpcy5fc2F2ZUluaXRpYWxBdHRyaWJ1dGUoZSx0KTtjb25zdCByPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUpLmdldFByb3BlcnR5VmFsdWUodCk7ZS5zdHlsZS5zZXRQcm9wZXJ0eSh0LGAke24oTnVtYmVyLnBhcnNlRmxvYXQocikpfXB4YCl9O3RoaXMuX2FwcGx5TWFuaXB1bGF0aW9uQ2FsbGJhY2soZSxyKX1fc2F2ZUluaXRpYWxBdHRyaWJ1dGUoZSx0KXtjb25zdCBuPWUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSh0KTtuJiZvLmRlZmF1bHQuc2V0RGF0YUF0dHJpYnV0ZShlLHQsbil9X3Jlc2V0RWxlbWVudEF0dHJpYnV0ZXMoZSx0KXtjb25zdCBuPWU9Pntjb25zdCBuPW8uZGVmYXVsdC5nZXREYXRhQXR0cmlidXRlKGUsdCk7bnVsbCE9PW4/KG8uZGVmYXVsdC5yZW1vdmVEYXRhQXR0cmlidXRlKGUsdCksZS5zdHlsZS5zZXRQcm9wZXJ0eSh0LG4pKTplLnN0eWxlLnJlbW92ZVByb3BlcnR5KHQpfTt0aGlzLl9hcHBseU1hbmlwdWxhdGlvbkNhbGxiYWNrKGUsbil9X2FwcGx5TWFuaXB1bGF0aW9uQ2FsbGJhY2soZSx0KXtpZihuLmlzRWxlbWVudChlKSl0KGUpO2Vsc2UgZm9yKGNvbnN0IG4gb2Ygci5kZWZhdWx0LmZpbmQoZSx0aGlzLl9lbGVtZW50KSl0KG4pfX1yZXR1cm4gdX0obig4NzM3KSxuKDMxNzUpLG4oNDA3MikpfSw5Njg6ZnVuY3Rpb24oZSx0LG4pewovKiEKICAqIEJvb3RzdHJhcCB0ZW1wbGF0ZS1mYWN0b3J5LmpzIHY1LjIuMyAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tLykKICAqIENvcHlyaWdodCAyMDExLTIwMjIgVGhlIEJvb3RzdHJhcCBBdXRob3JzIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvZ3JhcGhzL2NvbnRyaWJ1dG9ycykKICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKQogICovCmUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixpKXsidXNlIHN0cmljdCI7Y29uc3Qgcj1lPT5lJiYib2JqZWN0Ij09dHlwZW9mIGUmJiJkZWZhdWx0ImluIGU/ZTp7ZGVmYXVsdDplfSxvPXIobikscz1yKGkpLGE9IlRlbXBsYXRlRmFjdG9yeSIsbD17YWxsb3dMaXN0OmUuRGVmYXVsdEFsbG93bGlzdCxjb250ZW50Ont9LGV4dHJhQ2xhc3M6IiIsaHRtbDohMSxzYW5pdGl6ZTohMCxzYW5pdGl6ZUZuOm51bGwsdGVtcGxhdGU6IjxkaXY+PC9kaXY+In0sYz17YWxsb3dMaXN0OiJvYmplY3QiLGNvbnRlbnQ6Im9iamVjdCIsZXh0cmFDbGFzczoiKHN0cmluZ3xmdW5jdGlvbikiLGh0bWw6ImJvb2xlYW4iLHNhbml0aXplOiJib29sZWFuIixzYW5pdGl6ZUZuOiIobnVsbHxmdW5jdGlvbikiLHRlbXBsYXRlOiJzdHJpbmcifSx1PXtlbnRyeToiKHN0cmluZ3xlbGVtZW50fGZ1bmN0aW9ufG51bGwpIixzZWxlY3RvcjoiKHN0cmluZ3xlbGVtZW50KSJ9O2NsYXNzIGYgZXh0ZW5kcyBzLmRlZmF1bHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKGUpfXN0YXRpYyBnZXQgRGVmYXVsdCgpe3JldHVybiBsfXN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKXtyZXR1cm4gY31zdGF0aWMgZ2V0IE5BTUUoKXtyZXR1cm4gYX1nZXRDb250ZW50KCl7cmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5fY29uZmlnLmNvbnRlbnQpLm1hcCgoZT0+dGhpcy5fcmVzb2x2ZVBvc3NpYmxlRnVuY3Rpb24oZSkpKS5maWx0ZXIoQm9vbGVhbil9aGFzQ29udGVudCgpe3JldHVybiB0aGlzLmdldENvbnRlbnQoKS5sZW5ndGg+MH1jaGFuZ2VDb250ZW50KGUpe3JldHVybiB0aGlzLl9jaGVja0NvbnRlbnQoZSksdGhpcy5fY29uZmlnLmNvbnRlbnQ9ey4uLnRoaXMuX2NvbmZpZy5jb250ZW50LC4uLmV9LHRoaXN9dG9IdG1sKCl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLmlubmVySFRNTD10aGlzLl9tYXliZVNhbml0aXplKHRoaXMuX2NvbmZpZy50ZW1wbGF0ZSk7Zm9yKGNvbnN0W3Qsbl1vZiBPYmplY3QuZW50cmllcyh0aGlzLl9jb25maWcuY29udGVudCkpdGhpcy5fc2V0Q29udGVudChlLG4sdCk7Y29uc3QgdD1lLmNoaWxkcmVuWzBdLG49dGhpcy5fcmVzb2x2ZVBvc3NpYmxlRnVuY3Rpb24odGhpcy5fY29uZmlnLmV4dHJhQ2xhc3MpO3JldHVybiBuJiZ0LmNsYXNzTGlzdC5hZGQoLi4ubi5zcGxpdCgiICIpKSx0fV90eXBlQ2hlY2tDb25maWcoZSl7c3VwZXIuX3R5cGVDaGVja0NvbmZpZyhlKSx0aGlzLl9jaGVja0NvbnRlbnQoZS5jb250ZW50KX1fY2hlY2tDb250ZW50KGUpe2Zvcihjb25zdFt0LG5db2YgT2JqZWN0LmVudHJpZXMoZSkpc3VwZXIuX3R5cGVDaGVja0NvbmZpZyh7c2VsZWN0b3I6dCxlbnRyeTpufSx1KX1fc2V0Q29udGVudChlLG4saSl7Y29uc3Qgcj1vLmRlZmF1bHQuZmluZE9uZShpLGUpO3ImJigobj10aGlzLl9yZXNvbHZlUG9zc2libGVGdW5jdGlvbihuKSk/dC5pc0VsZW1lbnQobik/dGhpcy5fcHV0RWxlbWVudEluVGVtcGxhdGUodC5nZXRFbGVtZW50KG4pLHIpOnRoaXMuX2NvbmZpZy5odG1sP3IuaW5uZXJIVE1MPXRoaXMuX21heWJlU2FuaXRpemUobik6ci50ZXh0Q29udGVudD1uOnIucmVtb3ZlKCkpfV9tYXliZVNhbml0aXplKHQpe3JldHVybiB0aGlzLl9jb25maWcuc2FuaXRpemU/ZS5zYW5pdGl6ZUh0bWwodCx0aGlzLl9jb25maWcuYWxsb3dMaXN0LHRoaXMuX2NvbmZpZy5zYW5pdGl6ZUZuKTp0fV9yZXNvbHZlUG9zc2libGVGdW5jdGlvbihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT9lKHRoaXMpOmV9X3B1dEVsZW1lbnRJblRlbXBsYXRlKGUsdCl7aWYodGhpcy5fY29uZmlnLmh0bWwpcmV0dXJuIHQuaW5uZXJIVE1MPSIiLHZvaWQgdC5hcHBlbmQoZSk7dC50ZXh0Q29udGVudD1lLnRleHRDb250ZW50fX1yZXR1cm4gZn0obigxNTUxKSxuKDQwNzIpLG4oODczNyksbig0NzA1KSl9LDk3NTU6ZnVuY3Rpb24oZSx0KXt2YXIgbjsKLyohCiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjMuNi4yCiAqIGh0dHBzOi8vanF1ZXJ5LmNvbS8KICoKICogSW5jbHVkZXMgU2l6emxlLmpzCiAqIGh0dHBzOi8vc2l6emxlanMuY29tLwogKgogKiBDb3B5cmlnaHQgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UKICogaHR0cHM6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogRGF0ZTogMjAyMi0xMi0xM1QxNDo1NloKICovIWZ1bmN0aW9uKHQsbil7InVzZSBzdHJpY3QiOyJvYmplY3QiPT10eXBlb2YgZS5leHBvcnRzP2UuZXhwb3J0cz10LmRvY3VtZW50P24odCwhMCk6ZnVuY3Rpb24oZSl7aWYoIWUuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50Iik7cmV0dXJuIG4oZSl9Om4odCl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLChmdW5jdGlvbihpLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1bXSxzPU9iamVjdC5nZXRQcm90b3R5cGVPZixhPW8uc2xpY2UsbD1vLmZsYXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIG8uZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gby5jb25jYXQuYXBwbHkoW10sZSl9LGM9by5wdXNoLHU9by5pbmRleE9mLGY9e30sZD1mLnRvU3RyaW5nLHA9Zi5oYXNPd25Qcm9wZXJ0eSxoPXAudG9TdHJpbmcsZz1oLmNhbGwoT2JqZWN0KSxtPXt9LHY9ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZS5ub2RlVHlwZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuaXRlbX0seT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxiPWkuZG9jdW1lbnQseD17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIF8oZSx0LG4pe3ZhciBpLHIsbz0obj1ufHxiKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihpIGluIHgpKHI9dFtpXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKGkpKSYmby5zZXRBdHRyaWJ1dGUoaSxyKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9mW2QuY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBUPSIzLjYuMiIsQz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgQy5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIEUoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hdihlKSYmIXkoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmdD4wJiZ0LTEgaW4gZSl9Qy5mbj1DLnByb3RvdHlwZT17anF1ZXJ5OlQsY29uc3RydWN0b3I6QyxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIGEuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP2EuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Qy5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIEMuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKEMubWFwKHRoaXMsKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuY2FsbCh0LG4sdCl9KSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhhLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGV2ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soQy5ncmVwKHRoaXMsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQrMSklMn0pKSl9LG9kZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhDLmdyZXAodGhpcywoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCUyfSkpKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4+PTAmJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6Yyxzb3J0Om8uc29ydCxzcGxpY2U6by5zcGxpY2V9LEMuZXh0ZW5kPUMuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGkscixvLHM9YXJndW1lbnRzWzBdfHx7fSxhPTEsbD1hcmd1bWVudHMubGVuZ3RoLGM9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIHMmJihjPXMscz1hcmd1bWVudHNbYV18fHt9LGErKyksIm9iamVjdCI9PXR5cGVvZiBzfHx2KHMpfHwocz17fSksYT09PWwmJihzPXRoaXMsYS0tKTthPGw7YSsrKWlmKG51bGwhPShlPWFyZ3VtZW50c1thXSkpZm9yKHQgaW4gZSlpPWVbdF0sIl9fcHJvdG9fXyIhPT10JiZzIT09aSYmKGMmJmkmJihDLmlzUGxhaW5PYmplY3QoaSl8fChyPUFycmF5LmlzQXJyYXkoaSkpKT8obj1zW3RdLG89ciYmIUFycmF5LmlzQXJyYXkobik/W106cnx8Qy5pc1BsYWluT2JqZWN0KG4pP246e30scj0hMSxzW3RdPUMuZXh0ZW5kKGMsbyxpKSk6dm9pZCAwIT09aSYmKHNbdF09aSkpO3JldHVybiBzfSxDLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoVCtNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiEoIWV8fCJbb2JqZWN0IE9iamVjdF0iIT09ZC5jYWxsKGUpKSYmKCEodD1zKGUpKXx8ImZ1bmN0aW9uIj09dHlwZW9mKG49cC5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZoLmNhbGwobik9PT1nKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUsdCxuKXtfKGUse25vbmNlOnQmJnQubm9uY2V9LG4pfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4saT0wO2lmKEUoZSkpZm9yKG49ZS5sZW5ndGg7aTxuJiYhMSE9PXQuY2FsbChlW2ldLGksZVtpXSk7aSsrKTtlbHNlIGZvcihpIGluIGUpaWYoITE9PT10LmNhbGwoZVtpXSxpLGVbaV0pKWJyZWFrO3JldHVybiBlfSxtYWtlQXJyYXk6ZnVuY3Rpb24oZSx0KXt2YXIgbj10fHxbXTtyZXR1cm4gbnVsbCE9ZSYmKEUoT2JqZWN0KGUpKT9DLm1lcmdlKG4sInN0cmluZyI9PXR5cGVvZiBlP1tlXTplKTpjLmNhbGwobixlKSksbn0saW5BcnJheTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PXQ/LTE6dS5jYWxsKHQsZSxuKX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49K3QubGVuZ3RoLGk9MCxyPWUubGVuZ3RoO2k8bjtpKyspZVtyKytdPXRbaV07cmV0dXJuIGUubGVuZ3RoPXIsZX0sZ3JlcDpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpPVtdLHI9MCxvPWUubGVuZ3RoLHM9IW47cjxvO3IrKykhdChlW3JdLHIpIT09cyYmaS5wdXNoKGVbcl0pO3JldHVybiBpfSxtYXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHIsbz0wLHM9W107aWYoRShlKSlmb3IoaT1lLmxlbmd0aDtvPGk7bysrKW51bGwhPShyPXQoZVtvXSxvLG4pKSYmcy5wdXNoKHIpO2Vsc2UgZm9yKG8gaW4gZSludWxsIT0ocj10KGVbb10sbyxuKSkmJnMucHVzaChyKTtyZXR1cm4gbChzKX0sZ3VpZDoxLHN1cHBvcnQ6bX0pLCJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJihDLmZuW1N5bWJvbC5pdGVyYXRvcl09b1tTeW1ib2wuaXRlcmF0b3JdKSxDLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLChmdW5jdGlvbihlLHQpe2ZbIltvYmplY3QgIit0KyJdIl09dC50b0xvd2VyQ2FzZSgpfSkpO3ZhciBBPQovKiEKICogU2l6emxlIENTUyBTZWxlY3RvciBFbmdpbmUgdjIuMy44CiAqIGh0dHBzOi8vc2l6emxlanMuY29tLwogKgogKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZQogKiBodHRwczovL2pzLmZvdW5kYXRpb24vCiAqCiAqIERhdGU6IDIwMjItMTEtMTYKICovCmZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyLG8scyxhLGwsYyx1LGYsZCxwLGgsZyxtLHYseSxiLHg9InNpenpsZSIrMSpuZXcgRGF0ZSxfPWUuZG9jdW1lbnQsdz0wLFQ9MCxDPWxlKCksRT1sZSgpLEE9bGUoKSxrPWxlKCksUz1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGY9ITApLDB9LEQ9e30uaGFzT3duUHJvcGVydHksaj1bXSxPPWoucG9wLE49ai5wdXNoLEw9ai5wdXNoLE09ai5zbGljZSxQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAsaT1lLmxlbmd0aDtuPGk7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSwkPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIscT0iW1xceDIwXFx0XFxyXFxuXFxmXSIsSD0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK3ErIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsST0iXFxbIitxKyIqKCIrSCsiKSg/OiIrcSsiKihbKl4kfCF+XT89KSIrcSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK0grIikpfCkiK3ErIipcXF0iLFI9IjooIitIKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitJKyIpKil8LiopXFwpfCkiLEY9bmV3IFJlZ0V4cChxKyIrIiwiZyIpLFc9bmV3IFJlZ0V4cCgiXiIrcSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitxKyIrJCIsImciKSxCPW5ldyBSZWdFeHAoIl4iK3ErIiosIitxKyIqIiksej1uZXcgUmVnRXhwKCJeIitxKyIqKFs+K35dfCIrcSsiKSIrcSsiKiIpLFY9bmV3IFJlZ0V4cChxKyJ8PiIpLFU9bmV3IFJlZ0V4cChSKSxRPW5ldyBSZWdFeHAoIl4iK0grIiQiKSxZPXtJRDpuZXcgUmVnRXhwKCJeIygiK0grIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrSCsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrSCsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK0kpLFBTRVVETzpuZXcgUmVnRXhwKCJeIitSKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK3ErIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK3ErIiooPzooWystXXwpIitxKyIqKFxcZCspfCkpIitxKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IiskKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrcSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitxKyIqKCg/Oi1cXGQpP1xcZCopIitxKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxYPS9IVE1MJC9pLEo9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxLPS9eaFxkJC9pLEc9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLFo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxlZT0vWyt+XS8sdGU9bmV3IFJlZ0V4cCgiXFxcXFtcXGRhLWZBLUZdezEsNn0iK3ErIj98XFxcXChbXlxcclxcblxcZl0pIiwiZyIpLG5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49IjB4IitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0saWU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2cscmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8i77+9IjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe2QoKX0sc2U9eGUoKGZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZS5kaXNhYmxlZCYmImZpZWxkc2V0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKX0pLHtkaXI6InBhcmVudE5vZGUiLG5leHQ6ImxlZ2VuZCJ9KTt0cnl7TC5hcHBseShqPU0uY2FsbChfLmNoaWxkTm9kZXMpLF8uY2hpbGROb2RlcyksaltfLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlKXtMPXthcHBseTpqLmxlbmd0aD9mdW5jdGlvbihlLHQpe04uYXBwbHkoZSxNLmNhbGwodCkpfTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aCxpPTA7ZVtuKytdPXRbaSsrXTspO2UubGVuZ3RoPW4tMX19fWZ1bmN0aW9uIGFlKGUsdCxpLHIpe3ZhciBvLGEsYyx1LGYsaCx2LHk9dCYmdC5vd25lckRvY3VtZW50LF89dD90Lm5vZGVUeXBlOjk7aWYoaT1pfHxbXSwic3RyaW5nIiE9dHlwZW9mIGV8fCFlfHwxIT09XyYmOSE9PV8mJjExIT09XylyZXR1cm4gaTtpZighciYmKGQodCksdD10fHxwLGcpKXtpZigxMSE9PV8mJihmPVouZXhlYyhlKSkpaWYobz1mWzFdKXtpZig5PT09Xyl7aWYoIShjPXQuZ2V0RWxlbWVudEJ5SWQobykpKXJldHVybiBpO2lmKGMuaWQ9PT1vKXJldHVybiBpLnB1c2goYyksaX1lbHNlIGlmKHkmJihjPXkuZ2V0RWxlbWVudEJ5SWQobykpJiZiKHQsYykmJmMuaWQ9PT1vKXJldHVybiBpLnB1c2goYyksaX1lbHNle2lmKGZbMl0pcmV0dXJuIEwuYXBwbHkoaSx0LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpKSxpO2lmKChvPWZbM10pJiZuLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gTC5hcHBseShpLHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShvKSksaX1pZihuLnFzYSYmIWtbZSsiICJdJiYoIW18fCFtLnRlc3QoZSkpJiYoMSE9PV98fCJvYmplY3QiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSl7aWYodj1lLHk9dCwxPT09XyYmKFYudGVzdChlKXx8ei50ZXN0KGUpKSl7Zm9yKCh5PWVlLnRlc3QoZSkmJnZlKHQucGFyZW50Tm9kZSl8fHQpPT09dCYmbi5zY29wZXx8KCh1PXQuZ2V0QXR0cmlidXRlKCJpZCIpKT91PXUucmVwbGFjZShpZSxyZSk6dC5zZXRBdHRyaWJ1dGUoImlkIix1PXgpKSxhPShoPXMoZSkpLmxlbmd0aDthLS07KWhbYV09KHU/IiMiK3U6IjpzY29wZSIpKyIgIitiZShoW2FdKTt2PWguam9pbigiLCIpfXRyeXtpZihuLmNzc1N1cHBvcnRzU2VsZWN0b3ImJiFDU1Muc3VwcG9ydHMoInNlbGVjdG9yKCIrdisiKSIpKXRocm93IG5ldyBFcnJvcjtyZXR1cm4gTC5hcHBseShpLHkucXVlcnlTZWxlY3RvckFsbCh2KSksaX1jYXRjaCh0KXtrKGUsITApfWZpbmFsbHl7dT09PXgmJnQucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGwoZS5yZXBsYWNlKFcsIiQxIiksdCxpLHIpfWZ1bmN0aW9uIGxlKCl7dmFyIGU9W107cmV0dXJuIGZ1bmN0aW9uIHQobixyKXtyZXR1cm4gZS5wdXNoKG4rIiAiKT5pLmNhY2hlTGVuZ3RoJiZkZWxldGUgdFtlLnNoaWZ0KCldLHRbbisiICJdPXJ9fWZ1bmN0aW9uIGNlKGUpe3JldHVybiBlW3hdPSEwLGV9ZnVuY3Rpb24gdWUoZSl7dmFyIHQ9cC5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGZlKGUsdCl7Zm9yKHZhciBuPWUuc3BsaXQoInwiKSxyPW4ubGVuZ3RoO3ItLTspaS5hdHRySGFuZGxlW25bcl1dPXR9ZnVuY3Rpb24gZGUoZSx0KXt2YXIgbj10JiZlLGk9biYmMT09PWUubm9kZVR5cGUmJjE9PT10Lm5vZGVUeXBlJiZlLnNvdXJjZUluZGV4LXQuc291cmNlSW5kZXg7aWYoaSlyZXR1cm4gaTtpZihuKWZvcig7bj1uLm5leHRTaWJsaW5nOylpZihuPT09dClyZXR1cm4tMTtyZXR1cm4gZT8xOi0xfWZ1bmN0aW9uIHBlKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iaW5wdXQiPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZ0LnR5cGU9PT1lfX1mdW5jdGlvbiBoZShlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigiaW5wdXQiPT09bnx8ImJ1dHRvbiI9PT1uKSYmdC50eXBlPT09ZX19ZnVuY3Rpb24gZ2UoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJmb3JtImluIHQ/dC5wYXJlbnROb2RlJiYhMT09PXQuZGlzYWJsZWQ/ImxhYmVsImluIHQ/ImxhYmVsImluIHQucGFyZW50Tm9kZT90LnBhcmVudE5vZGUuZGlzYWJsZWQ9PT1lOnQuZGlzYWJsZWQ9PT1lOnQuaXNEaXNhYmxlZD09PWV8fHQuaXNEaXNhYmxlZCE9PSFlJiZzZSh0KT09PWU6dC5kaXNhYmxlZD09PWU6ImxhYmVsImluIHQmJnQuZGlzYWJsZWQ9PT1lfX1mdW5jdGlvbiBtZShlKXtyZXR1cm4gY2UoKGZ1bmN0aW9uKHQpe3JldHVybiB0PSt0LGNlKChmdW5jdGlvbihuLGkpe2Zvcih2YXIgcixvPWUoW10sbi5sZW5ndGgsdCkscz1vLmxlbmd0aDtzLS07KW5bcj1vW3NdXSYmKG5bcl09IShpW3JdPW5bcl0pKX0pKX0pKX1mdW5jdGlvbiB2ZShlKXtyZXR1cm4gZSYmdm9pZCAwIT09ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1mb3IodCBpbiBuPWFlLnN1cHBvcnQ9e30sbz1hZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hWC50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fCJIVE1MIil9LGQ9YWUuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQscixzPWU/ZS5vd25lckRvY3VtZW50fHxlOl87cmV0dXJuIHMhPXAmJjk9PT1zLm5vZGVUeXBlJiZzLmRvY3VtZW50RWxlbWVudD8oaD0ocD1zKS5kb2N1bWVudEVsZW1lbnQsZz0hbyhwKSxfIT1wJiYocj1wLmRlZmF1bHRWaWV3KSYmci50b3AhPT1yJiYoci5hZGRFdmVudExpc3RlbmVyP3IuYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIixvZSwhMSk6ci5hdHRhY2hFdmVudCYmci5hdHRhY2hFdmVudCgib251bmxvYWQiLG9lKSksbi5zY29wZT11ZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGguYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQocC5jcmVhdGVFbGVtZW50KCJkaXYiKSksdm9pZCAwIT09ZS5xdWVyeVNlbGVjdG9yQWxsJiYhZS5xdWVyeVNlbGVjdG9yQWxsKCI6c2NvcGUgZmllbGRzZXQgZGl2IikubGVuZ3RofSkpLG4uY3NzU3VwcG9ydHNTZWxlY3Rvcj11ZSgoZnVuY3Rpb24oKXtyZXR1cm4gQ1NTLnN1cHBvcnRzKCJzZWxlY3RvcigqKSIpJiZwLnF1ZXJ5U2VsZWN0b3JBbGwoIjppcyg6anFmYWtlKSIpJiYhQ1NTLnN1cHBvcnRzKCJzZWxlY3Rvcig6aXMoKiw6anFmYWtlKSkiKX0pKSxuLmF0dHJpYnV0ZXM9dWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNsYXNzTmFtZT0iaSIsIWUuZ2V0QXR0cmlidXRlKCJjbGFzc05hbWUiKX0pKSxuLmdldEVsZW1lbnRzQnlUYWdOYW1lPXVlKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChwLmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pKSxuLmdldEVsZW1lbnRzQnlDbGFzc05hbWU9Ry50ZXN0KHAuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSksbi5nZXRCeUlkPXVlKChmdW5jdGlvbihlKXtyZXR1cm4gaC5hcHBlbmRDaGlsZChlKS5pZD14LCFwLmdldEVsZW1lbnRzQnlOYW1lfHwhcC5nZXRFbGVtZW50c0J5TmFtZSh4KS5sZW5ndGh9KSksbi5nZXRCeUlkPyhpLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0saS5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09dC5nZXRFbGVtZW50QnlJZCYmZyl7dmFyIG49dC5nZXRFbGVtZW50QnlJZChlKTtyZXR1cm4gbj9bbl06W119fSk6KGkuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZSh0ZSxuZSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPXZvaWQgMCE9PWUuZ2V0QXR0cmlidXRlTm9kZSYmZS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBuJiZuLnZhbHVlPT09dH19LGkuZmluZC5JRD1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PXQuZ2V0RWxlbWVudEJ5SWQmJmcpe3ZhciBuLGkscixvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2ZvcihyPXQuZ2V0RWxlbWVudHNCeU5hbWUoZSksaT0wO289cltpKytdOylpZigobj1vLmdldEF0dHJpYnV0ZU5vZGUoImlkIikpJiZuLnZhbHVlPT09ZSlyZXR1cm5bb119cmV0dXJuW119fSksaS5maW5kLlRBRz1uLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMCE9PXQuZ2V0RWxlbWVudHNCeVRhZ05hbWU/dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTpuLnFzYT90LnF1ZXJ5U2VsZWN0b3JBbGwoZSk6dm9pZCAwfTpmdW5jdGlvbihlLHQpe3ZhciBuLGk9W10scj0wLG89dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTtpZigiKiI9PT1lKXtmb3IoO249b1tyKytdOykxPT09bi5ub2RlVHlwZSYmaS5wdXNoKG4pO3JldHVybiBpfXJldHVybiBvfSxpLmZpbmQuQ0xBU1M9bi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PXQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZylyZXR1cm4gdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGUpfSx2PVtdLG09W10sKG4ucXNhPUcudGVzdChwLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKHVlKChmdW5jdGlvbihlKXt2YXIgdDtoLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIreCsiJz48L2E+PHNlbGVjdCBpZD0nIit4KyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJm0ucHVzaCgiWypeJF09IitxKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fG0ucHVzaCgiXFxbIitxKyIqKD86dmFsdWV8IiskKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIreCsiLV0iKS5sZW5ndGh8fG0ucHVzaCgifj0iKSwodD1wLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgibmFtZSIsIiIpLGUuYXBwZW5kQ2hpbGQodCksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT0nJ10iKS5sZW5ndGh8fG0ucHVzaCgiXFxbIitxKyIqbmFtZSIrcSsiKj0iK3ErIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fG0ucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIit4KyIrKiIpLmxlbmd0aHx8bS5wdXNoKCIuIy4rWyt+XSIpLGUucXVlcnlTZWxlY3RvckFsbCgiXFxcZiIpLG0ucHVzaCgiW1xcclxcblxcZl0iKX0pKSx1ZSgoZnVuY3Rpb24oZSl7ZS5pbm5lckhUTUw9IjxhIGhyZWY9JycgZGlzYWJsZWQ9J2Rpc2FibGVkJz48L2E+PHNlbGVjdCBkaXNhYmxlZD0nZGlzYWJsZWQnPjxvcHRpb24vPjwvc2VsZWN0PiI7dmFyIHQ9cC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Quc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksZS5hcHBlbmRDaGlsZCh0KS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCYmbS5wdXNoKCJuYW1lIitxKyIqWypeJHwhfl0/PSIpLDIhPT1lLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RoJiZtLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksaC5hcHBlbmRDaGlsZChlKS5kaXNhYmxlZD0hMCwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZGlzYWJsZWQiKS5sZW5ndGgmJm0ucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKSxtLnB1c2goIiwuKjoiKX0pKSksKG4ubWF0Y2hlc1NlbGVjdG9yPUcudGVzdCh5PWgubWF0Y2hlc3x8aC53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGgubW96TWF0Y2hlc1NlbGVjdG9yfHxoLm9NYXRjaGVzU2VsZWN0b3J8fGgubXNNYXRjaGVzU2VsZWN0b3IpKSYmdWUoKGZ1bmN0aW9uKGUpe24uZGlzY29ubmVjdGVkTWF0Y2g9eS5jYWxsKGUsIioiKSx5LmNhbGwoZSwiW3MhPScnXTp4Iiksdi5wdXNoKCIhPSIsUil9KSksbi5jc3NTdXBwb3J0c1NlbGVjdG9yfHxtLnB1c2goIjpoYXMiKSxtPW0ubGVuZ3RoJiZuZXcgUmVnRXhwKG0uam9pbigifCIpKSx2PXYubGVuZ3RoJiZuZXcgUmVnRXhwKHYuam9pbigifCIpKSx0PUcudGVzdChoLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSxiPXR8fEcudGVzdChoLmNvbnRhaW5zKT9mdW5jdGlvbihlLHQpe3ZhciBuPTk9PT1lLm5vZGVUeXBlJiZlLmRvY3VtZW50RWxlbWVudHx8ZSxpPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PWl8fCEoIWl8fDEhPT1pLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhpKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGkpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodClmb3IoO3Q9dC5wYXJlbnROb2RlOylpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0sUz10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGY9ITAsMDt2YXIgaT0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gaXx8KDEmKGk9KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFuLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PWk/ZT09cHx8ZS5vd25lckRvY3VtZW50PT1fJiZiKF8sZSk/LTE6dD09cHx8dC5vd25lckRvY3VtZW50PT1fJiZiKF8sdCk/MTp1P1AodSxlKS1QKHUsdCk6MDo0Jmk/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGY9ITAsMDt2YXIgbixpPTAscj1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUscz1bZV0sYT1bdF07aWYoIXJ8fCFvKXJldHVybiBlPT1wPy0xOnQ9PXA/MTpyPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihyPT09bylyZXR1cm4gZGUoZSx0KTtmb3Iobj1lO249bi5wYXJlbnROb2RlOylzLnVuc2hpZnQobik7Zm9yKG49dDtuPW4ucGFyZW50Tm9kZTspYS51bnNoaWZ0KG4pO2Zvcig7c1tpXT09PWFbaV07KWkrKztyZXR1cm4gaT9kZShzW2ldLGFbaV0pOnNbaV09PV8/LTE6YVtpXT09Xz8xOjB9LHApOnB9LGFlLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYWUoZSxudWxsLG51bGwsdCl9LGFlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKGQoZSksbi5tYXRjaGVzU2VsZWN0b3ImJmcmJiFrW3QrIiAiXSYmKCF2fHwhdi50ZXN0KHQpKSYmKCFtfHwhbS50ZXN0KHQpKSl0cnl7dmFyIGk9eS5jYWxsKGUsdCk7aWYoaXx8bi5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBpfWNhdGNoKGUpe2sodCwhMCl9cmV0dXJuIGFlKHQscCxudWxsLFtlXSkubGVuZ3RoPjB9LGFlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPXAmJmQoZSksYihlLHQpfSxhZS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPXAmJmQoZSk7dmFyIHI9aS5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0sbz1yJiZELmNhbGwoaS5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/cihlLHQsIWcpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09bz9vOm4uYXR0cmlidXRlc3x8IWc/ZS5nZXRBdHRyaWJ1dGUodCk6KG89ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmby5zcGVjaWZpZWQ/by52YWx1ZTpudWxsfSxhZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UoaWUscmUpfSxhZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LGFlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsaT1bXSxyPTAsbz0wO2lmKGY9IW4uZGV0ZWN0RHVwbGljYXRlcyx1PSFuLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KFMpLGYpe2Zvcig7dD1lW28rK107KXQ9PT1lW29dJiYocj1pLnB1c2gobykpO2Zvcig7ci0tOyllLnNwbGljZShpW3JdLDEpfXJldHVybiB1PW51bGwsZX0scj1hZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIsaT0wLG89ZS5ub2RlVHlwZTtpZihvKXtpZigxPT09b3x8OT09PW98fDExPT09byl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1yKGUpfWVsc2UgaWYoMz09PW98fDQ9PT1vKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIGZvcig7dD1lW2krK107KW4rPXIodCk7cmV0dXJuIG59LGk9YWUuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86Y2UsbWF0Y2g6WSxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS5yZXBsYWNlKHRlLG5lKSxlWzNdPShlWzNdfHxlWzRdfHxlWzVdfHwiIikucmVwbGFjZSh0ZSxuZSksIn49Ij09PWVbMl0mJihlWzNdPSIgIitlWzNdKyIgIiksZS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnRvTG93ZXJDYXNlKCksIm50aCI9PT1lWzFdLnNsaWNlKDAsMyk/KGVbM118fGFlLmVycm9yKGVbMF0pLGVbNF09KyhlWzRdP2VbNV0rKGVbNl18fDEpOjIqKCJldmVuIj09PWVbM118fCJvZGQiPT09ZVszXSkpLGVbNV09KyhlWzddK2VbOF18fCJvZGQiPT09ZVszXSkpOmVbM10mJmFlLmVycm9yKGVbMF0pLGV9LFBTRVVETzpmdW5jdGlvbihlKXt2YXIgdCxuPSFlWzZdJiZlWzJdO3JldHVybiBZLkNISUxELnRlc3QoZVswXSk/bnVsbDooZVszXT9lWzJdPWVbNF18fGVbNV18fCIiOm4mJlUudGVzdChuKSYmKHQ9cyhuLCEwKSkmJih0PW4uaW5kZXhPZigiKSIsbi5sZW5ndGgtdCktbi5sZW5ndGgpJiYoZVswXT1lWzBdLnNsaWNlKDAsdCksZVsyXT1uLnNsaWNlKDAsdCkpLGUuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09ZT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dH19LENMQVNTOmZ1bmN0aW9uKGUpe3ZhciB0PUNbZSsiICJdO3JldHVybiB0fHwodD1uZXcgUmVnRXhwKCIoXnwiK3ErIikiK2UrIigiK3ErInwkKSIpKSYmQyhlLChmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHx2b2lkIDAhPT1lLmdldEF0dHJpYnV0ZSYmZS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pKX0sQVRUUjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKGkpe3ZhciByPWFlLmF0dHIoaSxlKTtyZXR1cm4gbnVsbD09cj8iIT0iPT09dDohdHx8KHIrPSIiLCI9Ij09PXQ/cj09PW46IiE9Ij09PXQ/ciE9PW46Il49Ij09PXQ/biYmMD09PXIuaW5kZXhPZihuKToiKj0iPT09dD9uJiZyLmluZGV4T2Yobik+LTE6IiQ9Ij09PXQ/biYmci5zbGljZSgtbi5sZW5ndGgpPT09bjoifj0iPT09dD8oIiAiK3IucmVwbGFjZShGLCIgIikrIiAiKS5pbmRleE9mKG4pPi0xOiJ8PSI9PT10JiYocj09PW58fHIuc2xpY2UoMCxuLmxlbmd0aCsxKT09PW4rIi0iKSl9fSxDSElMRDpmdW5jdGlvbihlLHQsbixpLHIpe3ZhciBvPSJudGgiIT09ZS5zbGljZSgwLDMpLHM9Imxhc3QiIT09ZS5zbGljZSgtNCksYT0ib2YtdHlwZSI9PT10O3JldHVybiAxPT09aSYmMD09PXI/ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmVudE5vZGV9OmZ1bmN0aW9uKHQsbixsKXt2YXIgYyx1LGYsZCxwLGgsZz1vIT09cz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLG09dC5wYXJlbnROb2RlLHY9YSYmdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHk9IWwmJiFhLGI9ITE7aWYobSl7aWYobyl7Zm9yKDtnOyl7Zm9yKGQ9dDtkPWRbZ107KWlmKGE/ZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09djoxPT09ZC5ub2RlVHlwZSlyZXR1cm4hMTtoPWc9Im9ubHkiPT09ZSYmIWgmJiJuZXh0U2libGluZyJ9cmV0dXJuITB9aWYoaD1bcz9tLmZpcnN0Q2hpbGQ6bS5sYXN0Q2hpbGRdLHMmJnkpe2ZvcihiPShwPShjPSh1PShmPShkPW0pW3hdfHwoZFt4XT17fSkpW2QudW5pcXVlSURdfHwoZltkLnVuaXF1ZUlEXT17fSkpW2VdfHxbXSlbMF09PT13JiZjWzFdKSYmY1syXSxkPXAmJm0uY2hpbGROb2Rlc1twXTtkPSsrcCYmZCYmZFtnXXx8KGI9cD0wKXx8aC5wb3AoKTspaWYoMT09PWQubm9kZVR5cGUmJisrYiYmZD09PXQpe3VbZV09W3cscCxiXTticmVha319ZWxzZSBpZih5JiYoYj1wPShjPSh1PShmPShkPXQpW3hdfHwoZFt4XT17fSkpW2QudW5pcXVlSURdfHwoZltkLnVuaXF1ZUlEXT17fSkpW2VdfHxbXSlbMF09PT13JiZjWzFdKSwhMT09PWIpZm9yKDsoZD0rK3AmJmQmJmRbZ118fChiPXA9MCl8fGgucG9wKCkpJiYoKGE/ZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09djoxIT09ZC5ub2RlVHlwZSl8fCErK2J8fCh5JiYoKHU9KGY9ZFt4XXx8KGRbeF09e30pKVtkLnVuaXF1ZUlEXXx8KGZbZC51bmlxdWVJRF09e30pKVtlXT1bdyxiXSksZCE9PXQpKTspO3JldHVybihiLT1yKT09PWl8fGIlaT09MCYmYi9pPj0wfX19LFBTRVVETzpmdW5jdGlvbihlLHQpe3ZhciBuLHI9aS5wc2V1ZG9zW2VdfHxpLnNldEZpbHRlcnNbZS50b0xvd2VyQ2FzZSgpXXx8YWUuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIitlKTtyZXR1cm4gclt4XT9yKHQpOnIubGVuZ3RoPjE/KG49W2UsZSwiIix0XSxpLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoZS50b0xvd2VyQ2FzZSgpKT9jZSgoZnVuY3Rpb24oZSxuKXtmb3IodmFyIGksbz1yKGUsdCkscz1vLmxlbmd0aDtzLS07KWVbaT1QKGUsb1tzXSldPSEobltpXT1vW3NdKX0pKTpmdW5jdGlvbihlKXtyZXR1cm4gcihlLDAsbil9KTpyfX0scHNldWRvczp7bm90OmNlKChmdW5jdGlvbihlKXt2YXIgdD1bXSxuPVtdLGk9YShlLnJlcGxhY2UoVywiJDEiKSk7cmV0dXJuIGlbeF0/Y2UoKGZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgbyxzPWkoZSxudWxsLHIsW10pLGE9ZS5sZW5ndGg7YS0tOykobz1zW2FdKSYmKGVbYV09ISh0W2FdPW8pKX0pKTpmdW5jdGlvbihlLHIsbyl7cmV0dXJuIHRbMF09ZSxpKHQsbnVsbCxvLG4pLHRbMF09bnVsbCwhbi5wb3AoKX19KSksaGFzOmNlKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGFlKGUsdCkubGVuZ3RoPjB9fSkpLGNvbnRhaW5zOmNlKChmdW5jdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UodGUsbmUpLGZ1bmN0aW9uKHQpe3JldHVybih0LnRleHRDb250ZW50fHxyKHQpKS5pbmRleE9mKGUpPi0xfX0pKSxsYW5nOmNlKChmdW5jdGlvbihlKXtyZXR1cm4gUS50ZXN0KGV8fCIiKXx8YWUuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrZSksZT1lLnJlcGxhY2UodGUsbmUpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24odCl7dmFyIG47ZG97aWYobj1nP3QubGFuZzp0LmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8dC5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4obj1uLnRvTG93ZXJDYXNlKCkpPT09ZXx8MD09PW4uaW5kZXhPZihlKyItIil9d2hpbGUoKHQ9dC5wYXJlbnROb2RlKSYmMT09PXQubm9kZVR5cGUpO3JldHVybiExfX0pKSx0YXJnZXQ6ZnVuY3Rpb24odCl7dmFyIG49ZS5sb2NhdGlvbiYmZS5sb2NhdGlvbi5oYXNoO3JldHVybiBuJiZuLnNsaWNlKDEpPT09dC5pZH0scm9vdDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PWh9LGZvY3VzOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09cC5hY3RpdmVFbGVtZW50JiYoIXAuaGFzRm9jdXN8fHAuaGFzRm9jdXMoKSkmJiEhKGUudHlwZXx8ZS5ocmVmfHx+ZS50YWJJbmRleCl9LGVuYWJsZWQ6Z2UoITEpLGRpc2FibGVkOmdlKCEwKSxjaGVja2VkOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmISFlLmNoZWNrZWR8fCJvcHRpb24iPT09dCYmISFlLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCwhMD09PWUuc2VsZWN0ZWR9LGVtcHR5OmZ1bmN0aW9uKGUpe2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylpZihlLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihlKXtyZXR1cm4haS5wc2V1ZG9zLmVtcHR5KGUpfSxoZWFkZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIEsudGVzdChlLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIEoudGVzdChlLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmImJ1dHRvbiI9PT1lLnR5cGV8fCJidXR0b24iPT09dH0sdGV4dDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4iaW5wdXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1lLnR5cGUmJihudWxsPT0odD1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09dC50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6bWUoKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSkpLGxhc3Q6bWUoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuW3QtMV19KSksZXE6bWUoKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5bbjwwP24rdDpuXX0pKSxldmVuOm1lKChmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pKSxvZGQ6bWUoKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTE7bjx0O24rPTIpZS5wdXNoKG4pO3JldHVybiBlfSkpLGx0Om1lKChmdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpPW48MD9uK3Q6bj50P3Q6bjstLWk+PTA7KWUucHVzaChpKTtyZXR1cm4gZX0pKSxndDptZSgoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaT1uPDA/bit0Om47KytpPHQ7KWUucHVzaChpKTtyZXR1cm4gZX0pKX19LGkucHNldWRvcy5udGg9aS5wc2V1ZG9zLmVxLHtyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlpLnBzZXVkb3NbdF09cGUodCk7Zm9yKHQgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlpLnBzZXVkb3NbdF09aGUodCk7ZnVuY3Rpb24geWUoKXt9ZnVuY3Rpb24gYmUoZSl7Zm9yKHZhciB0PTAsbj1lLmxlbmd0aCxpPSIiO3Q8bjt0KyspaSs9ZVt0XS52YWx1ZTtyZXR1cm4gaX1mdW5jdGlvbiB4ZShlLHQsbil7dmFyIGk9dC5kaXIscj10Lm5leHQsbz1yfHxpLHM9biYmInBhcmVudE5vZGUiPT09byxhPVQrKztyZXR1cm4gdC5maXJzdD9mdW5jdGlvbih0LG4scil7Zm9yKDt0PXRbaV07KWlmKDE9PT10Lm5vZGVUeXBlfHxzKXJldHVybiBlKHQsbixyKTtyZXR1cm4hMX06ZnVuY3Rpb24odCxuLGwpe3ZhciBjLHUsZixkPVt3LGFdO2lmKGwpe2Zvcig7dD10W2ldOylpZigoMT09PXQubm9kZVR5cGV8fHMpJiZlKHQsbixsKSlyZXR1cm4hMH1lbHNlIGZvcig7dD10W2ldOylpZigxPT09dC5ub2RlVHlwZXx8cylpZih1PShmPXRbeF18fCh0W3hdPXt9KSlbdC51bmlxdWVJRF18fChmW3QudW5pcXVlSURdPXt9KSxyJiZyPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXQ9dFtpXXx8dDtlbHNle2lmKChjPXVbb10pJiZjWzBdPT09dyYmY1sxXT09PWEpcmV0dXJuIGRbMl09Y1syXTtpZih1W29dPWQsZFsyXT1lKHQsbixsKSlyZXR1cm4hMH1yZXR1cm4hMX19ZnVuY3Rpb24gX2UoZSl7cmV0dXJuIGUubGVuZ3RoPjE/ZnVuY3Rpb24odCxuLGkpe2Zvcih2YXIgcj1lLmxlbmd0aDtyLS07KWlmKCFlW3JdKHQsbixpKSlyZXR1cm4hMTtyZXR1cm4hMH06ZVswXX1mdW5jdGlvbiB3ZShlLHQsbixpLHIpe2Zvcih2YXIgbyxzPVtdLGE9MCxsPWUubGVuZ3RoLGM9bnVsbCE9dDthPGw7YSsrKShvPWVbYV0pJiYobiYmIW4obyxpLHIpfHwocy5wdXNoKG8pLGMmJnQucHVzaChhKSkpO3JldHVybiBzfWZ1bmN0aW9uIFRlKGUsdCxuLGkscixvKXtyZXR1cm4gaSYmIWlbeF0mJihpPVRlKGkpKSxyJiYhclt4XSYmKHI9VGUocixvKSksY2UoKGZ1bmN0aW9uKG8scyxhLGwpe3ZhciBjLHUsZixkPVtdLHA9W10saD1zLmxlbmd0aCxnPW98fGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspYWUoZSx0W2ldLG4pO3JldHVybiBufSh0fHwiKiIsYS5ub2RlVHlwZT9bYV06YSxbXSksbT0hZXx8IW8mJnQ/Zzp3ZShnLGQsZSxhLGwpLHY9bj9yfHwobz9lOmh8fGkpP1tdOnM6bTtpZihuJiZuKG0sdixhLGwpLGkpZm9yKGM9d2UodixwKSxpKGMsW10sYSxsKSx1PWMubGVuZ3RoO3UtLTspKGY9Y1t1XSkmJih2W3BbdV1dPSEobVtwW3VdXT1mKSk7aWYobyl7aWYocnx8ZSl7aWYocil7Zm9yKGM9W10sdT12Lmxlbmd0aDt1LS07KShmPXZbdV0pJiZjLnB1c2gobVt1XT1mKTtyKG51bGwsdj1bXSxjLGwpfWZvcih1PXYubGVuZ3RoO3UtLTspKGY9dlt1XSkmJihjPXI/UChvLGYpOmRbdV0pPi0xJiYob1tjXT0hKHNbY109ZikpfX1lbHNlIHY9d2Uodj09PXM/di5zcGxpY2UoaCx2Lmxlbmd0aCk6dikscj9yKG51bGwscyx2LGwpOkwuYXBwbHkocyx2KX0pKX1mdW5jdGlvbiBDZShlKXtmb3IodmFyIHQsbixyLG89ZS5sZW5ndGgscz1pLnJlbGF0aXZlW2VbMF0udHlwZV0sYT1zfHxpLnJlbGF0aXZlWyIgIl0sbD1zPzE6MCx1PXhlKChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KSxhLCEwKSxmPXhlKChmdW5jdGlvbihlKXtyZXR1cm4gUCh0LGUpPi0xfSksYSwhMCksZD1bZnVuY3Rpb24oZSxuLGkpe3ZhciByPSFzJiYoaXx8biE9PWMpfHwoKHQ9bikubm9kZVR5cGU/dShlLG4saSk6ZihlLG4saSkpO3JldHVybiB0PW51bGwscn1dO2w8bztsKyspaWYobj1pLnJlbGF0aXZlW2VbbF0udHlwZV0pZD1beGUoX2UoZCksbildO2Vsc2V7aWYoKG49aS5maWx0ZXJbZVtsXS50eXBlXS5hcHBseShudWxsLGVbbF0ubWF0Y2hlcykpW3hdKXtmb3Iocj0rK2w7cjxvJiYhaS5yZWxhdGl2ZVtlW3JdLnR5cGVdO3IrKyk7cmV0dXJuIFRlKGw+MSYmX2UoZCksbD4xJiZiZShlLnNsaWNlKDAsbC0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWVbbC0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKFcsIiQxIiksbixsPHImJkNlKGUuc2xpY2UobCxyKSkscjxvJiZDZShlPWUuc2xpY2UocikpLHI8byYmYmUoZSkpfWQucHVzaChuKX1yZXR1cm4gX2UoZCl9cmV0dXJuIHllLnByb3RvdHlwZT1pLmZpbHRlcnM9aS5wc2V1ZG9zLGkuc2V0RmlsdGVycz1uZXcgeWUscz1hZS50b2tlbml6ZT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxzLGEsbCxjLHU9RVtlKyIgIl07aWYodSlyZXR1cm4gdD8wOnUuc2xpY2UoMCk7Zm9yKGE9ZSxsPVtdLGM9aS5wcmVGaWx0ZXI7YTspe2ZvcihzIGluIG4mJiEocj1CLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLGwucHVzaChvPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksby5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKFcsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGkuZmlsdGVyKSEocj1ZW3NdLmV4ZWMoYSkpfHxjW3NdJiYhKHI9Y1tzXShyKSl8fChuPXIuc2hpZnQoKSxvLnB1c2goe3ZhbHVlOm4sdHlwZTpzLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/YWUuZXJyb3IoZSk6RShlLGwpLnNsaWNlKDApfSxhPWFlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLG89W10sYT1BW2UrIiAiXTtpZighYSl7Zm9yKHR8fCh0PXMoZSkpLG49dC5sZW5ndGg7bi0tOykoYT1DZSh0W25dKSlbeF0/ci5wdXNoKGEpOm8ucHVzaChhKTthPUEoZSxmdW5jdGlvbihlLHQpe3ZhciBuPXQubGVuZ3RoPjAscj1lLmxlbmd0aD4wLG89ZnVuY3Rpb24obyxzLGEsbCx1KXt2YXIgZixoLG0sdj0wLHk9IjAiLGI9byYmW10seD1bXSxfPWMsVD1vfHxyJiZpLmZpbmQuVEFHKCIqIix1KSxDPXcrPW51bGw9PV8/MTpNYXRoLnJhbmRvbSgpfHwuMSxFPVQubGVuZ3RoO2Zvcih1JiYoYz1zPT1wfHxzfHx1KTt5IT09RSYmbnVsbCE9KGY9VFt5XSk7eSsrKXtpZihyJiZmKXtmb3IoaD0wLHN8fGYub3duZXJEb2N1bWVudD09cHx8KGQoZiksYT0hZyk7bT1lW2grK107KWlmKG0oZixzfHxwLGEpKXtsLnB1c2goZik7YnJlYWt9dSYmKHc9Qyl9biYmKChmPSFtJiZmKSYmdi0tLG8mJmIucHVzaChmKSl9aWYodis9eSxuJiZ5IT09dil7Zm9yKGg9MDttPXRbaCsrXTspbShiLHgscyxhKTtpZihvKXtpZih2PjApZm9yKDt5LS07KWJbeV18fHhbeV18fCh4W3ldPU8uY2FsbChsKSk7eD13ZSh4KX1MLmFwcGx5KGwseCksdSYmIW8mJngubGVuZ3RoPjAmJnYrdC5sZW5ndGg+MSYmYWUudW5pcXVlU29ydChsKX1yZXR1cm4gdSYmKHc9QyxjPV8pLGJ9O3JldHVybiBuP2NlKG8pOm99KG8scikpLGEuc2VsZWN0b3I9ZX1yZXR1cm4gYX0sbD1hZS5zZWxlY3Q9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8sbCxjLHUsZixkPSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLHA9IXImJnMoZT1kLnNlbGVjdG9yfHxlKTtpZihuPW58fFtdLDE9PT1wLmxlbmd0aCl7aWYoKGw9cFswXT1wWzBdLnNsaWNlKDApKS5sZW5ndGg+MiYmIklEIj09PShjPWxbMF0pLnR5cGUmJjk9PT10Lm5vZGVUeXBlJiZnJiZpLnJlbGF0aXZlW2xbMV0udHlwZV0pe2lmKCEodD0oaS5maW5kLklEKGMubWF0Y2hlc1swXS5yZXBsYWNlKHRlLG5lKSx0KXx8W10pWzBdKSlyZXR1cm4gbjtkJiYodD10LnBhcmVudE5vZGUpLGU9ZS5zbGljZShsLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1mb3Iobz1ZLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6bC5sZW5ndGg7by0tJiYoYz1sW29dLCFpLnJlbGF0aXZlW3U9Yy50eXBlXSk7KWlmKChmPWkuZmluZFt1XSkmJihyPWYoYy5tYXRjaGVzWzBdLnJlcGxhY2UodGUsbmUpLGVlLnRlc3QobFswXS50eXBlKSYmdmUodC5wYXJlbnROb2RlKXx8dCkpKXtpZihsLnNwbGljZShvLDEpLCEoZT1yLmxlbmd0aCYmYmUobCkpKXJldHVybiBMLmFwcGx5KG4sciksbjticmVha319cmV0dXJuKGR8fGEoZSxwKSkocix0LCFnLG4sIXR8fGVlLnRlc3QoZSkmJnZlKHQucGFyZW50Tm9kZSl8fHQpLG59LG4uc29ydFN0YWJsZT14LnNwbGl0KCIiKS5zb3J0KFMpLmpvaW4oIiIpPT09eCxuLmRldGVjdER1cGxpY2F0ZXM9ISFmLGQoKSxuLnNvcnREZXRhY2hlZD11ZSgoZnVuY3Rpb24oZSl7cmV0dXJuIDEmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihwLmNyZWF0ZUVsZW1lbnQoImZpZWxkc2V0IikpfSkpLHVlKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pKXx8ZmUoInR5cGV8aHJlZnxoZWlnaHR8d2lkdGgiLChmdW5jdGlvbihlLHQsbil7aWYoIW4pcmV0dXJuIGUuZ2V0QXR0cmlidXRlKHQsInR5cGUiPT09dC50b0xvd2VyQ2FzZSgpPzE6Mil9KSksbi5hdHRyaWJ1dGVzJiZ1ZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MPSI8aW5wdXQvPiIsZS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSwiIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KSl8fGZlKCJ2YWx1ZSIsKGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSksdWUoKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pKXx8ZmUoJCwoZnVuY3Rpb24oZSx0LG4pe3ZhciBpO2lmKCFuKXJldHVybiEwPT09ZVt0XT90LnRvTG93ZXJDYXNlKCk6KGk9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmaS5zcGVjaWZpZWQ/aS52YWx1ZTpudWxsfSkpLGFlfShpKTtDLmZpbmQ9QSxDLmV4cHI9QS5zZWxlY3RvcnMsQy5leHByWyI6Il09Qy5leHByLnBzZXVkb3MsQy51bmlxdWVTb3J0PUMudW5pcXVlPUEudW5pcXVlU29ydCxDLnRleHQ9QS5nZXRUZXh0LEMuaXNYTUxEb2M9QS5pc1hNTCxDLmNvbnRhaW5zPUEuY29udGFpbnMsQy5lc2NhcGVTZWxlY3Rvcj1BLmVzY2FwZTt2YXIgaz1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpPVtdLHI9dm9pZCAwIT09bjsoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGU7KWlmKDE9PT1lLm5vZGVUeXBlKXtpZihyJiZDKGUpLmlzKG4pKWJyZWFrO2kucHVzaChlKX1yZXR1cm4gaX0sUz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXTtlO2U9ZS5uZXh0U2libGluZykxPT09ZS5ub2RlVHlwZSYmZSE9PXQmJm4ucHVzaChlKTtyZXR1cm4gbn0sRD1DLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0O2Z1bmN0aW9uIGooZSx0KXtyZXR1cm4gZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfXZhciBPPS9ePChbYS16XVteXC9cMD46XHgyMFx0XHJcblxmXSopW1x4MjBcdFxyXG5cZl0qXC8/Pig/OjxcL1wxPnwpJC9pO2Z1bmN0aW9uIE4oZSx0LG4pe3JldHVybiB2KHQpP0MuZ3JlcChlLChmdW5jdGlvbihlLGkpe3JldHVybiEhdC5jYWxsKGUsaSxlKSE9PW59KSk6dC5ub2RlVHlwZT9DLmdyZXAoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10IT09bn0pKToic3RyaW5nIiE9dHlwZW9mIHQ/Qy5ncmVwKGUsKGZ1bmN0aW9uKGUpe3JldHVybiB1LmNhbGwodCxlKT4tMSE9PW59KSk6Qy5maWx0ZXIodCxlLG4pfUMuZmlsdGVyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10WzBdO3JldHVybiBuJiYoZT0iOm5vdCgiK2UrIikiKSwxPT09dC5sZW5ndGgmJjE9PT1pLm5vZGVUeXBlP0MuZmluZC5tYXRjaGVzU2VsZWN0b3IoaSxlKT9baV06W106Qy5maW5kLm1hdGNoZXMoZSxDLmdyZXAodCwoZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpKX0sQy5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixpPXRoaXMubGVuZ3RoLHI9dGhpcztpZigic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIHRoaXMucHVzaFN0YWNrKEMoZSkuZmlsdGVyKChmdW5jdGlvbigpe2Zvcih0PTA7dDxpO3QrKylpZihDLmNvbnRhaW5zKHJbdF0sdGhpcykpcmV0dXJuITB9KSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxpO3QrKylDLmZpbmQoZSxyW3RdLG4pO3JldHVybiBpPjE/Qy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soTih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soTih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhTih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmRC50ZXN0KGUpP0MoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgTCxNPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KEMuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIGkscjtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fEwsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKGk9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmZS5sZW5ndGg+PTM/W251bGwsZSxudWxsXTpNLmV4ZWMoZSkpfHwhaVsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKGlbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIEM/dFswXTp0LEMubWVyZ2UodGhpcyxDLnBhcnNlSFRNTChpWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OmIsITApKSxPLnRlc3QoaVsxXSkmJkMuaXNQbGFpbk9iamVjdCh0KSlmb3IoaSBpbiB0KXYodGhpc1tpXSk/dGhpc1tpXSh0W2ldKTp0aGlzLmF0dHIoaSx0W2ldKTtyZXR1cm4gdGhpc31yZXR1cm4ocj1iLmdldEVsZW1lbnRCeUlkKGlbMl0pKSYmKHRoaXNbMF09cix0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTp2KGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKEMpOkMubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9Qy5mbixMPUMoYik7dmFyIFA9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sJD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBxKGUsdCl7Zm9yKDsoZT1lW3RdKSYmMSE9PWUubm9kZVR5cGU7KTtyZXR1cm4gZX1DLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PUMoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcigoZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPG47ZSsrKWlmKEMuY29udGFpbnModGhpcyx0W2VdKSlyZXR1cm4hMH0pKX0sY2xvc2VzdDpmdW5jdGlvbihlLHQpe3ZhciBuLGk9MCxyPXRoaXMubGVuZ3RoLG89W10scz0ic3RyaW5nIiE9dHlwZW9mIGUmJkMoZSk7aWYoIUQudGVzdChlKSlmb3IoO2k8cjtpKyspZm9yKG49dGhpc1tpXTtuJiZuIT09dDtuPW4ucGFyZW50Tm9kZSlpZihuLm5vZGVUeXBlPDExJiYocz9zLmluZGV4KG4pPi0xOjE9PT1uLm5vZGVUeXBlJiZDLmZpbmQubWF0Y2hlc1NlbGVjdG9yKG4sZSkpKXtvLnB1c2gobik7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKG8ubGVuZ3RoPjE/Qy51bmlxdWVTb3J0KG8pOm8pfSxpbmRleDpmdW5jdGlvbihlKXtyZXR1cm4gZT8ic3RyaW5nIj09dHlwZW9mIGU/dS5jYWxsKEMoZSksdGhpc1swXSk6dS5jYWxsKHRoaXMsZS5qcXVlcnk/ZVswXTplKTp0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/dGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGg6LTF9LGFkZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnB1c2hTdGFjayhDLnVuaXF1ZVNvcnQoQy5tZXJnZSh0aGlzLmdldCgpLEMoZSx0KSkpKX0sYWRkQmFjazpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09ZT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihlKSl9fSksQy5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiYxMSE9PXQubm9kZVR5cGU/dDpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiBrKGUsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gayhlLCJwYXJlbnROb2RlIixuKX0sbmV4dDpmdW5jdGlvbihlKXtyZXR1cm4gcShlLCJuZXh0U2libGluZyIpfSxwcmV2OmZ1bmN0aW9uKGUpe3JldHVybiBxKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBrKGUsIm5leHRTaWJsaW5nIil9LHByZXZBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIGsoZSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGsoZSwibmV4dFNpYmxpbmciLG4pfSxwcmV2VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBrKGUsInByZXZpb3VzU2libGluZyIsbil9LHNpYmxpbmdzOmZ1bmN0aW9uKGUpe3JldHVybiBTKChlLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGUpfSxjaGlsZHJlbjpmdW5jdGlvbihlKXtyZXR1cm4gUyhlLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZS5jb250ZW50RG9jdW1lbnQmJnMoZS5jb250ZW50RG9jdW1lbnQpP2UuY29udGVudERvY3VtZW50OihqKGUsInRlbXBsYXRlIikmJihlPWUuY29udGVudHx8ZSksQy5tZXJnZShbXSxlLmNoaWxkTm9kZXMpKX19LChmdW5jdGlvbihlLHQpe0MuZm5bZV09ZnVuY3Rpb24obixpKXt2YXIgcj1DLm1hcCh0aGlzLHQsbik7cmV0dXJuIlVudGlsIiE9PWUuc2xpY2UoLTUpJiYoaT1uKSxpJiYic3RyaW5nIj09dHlwZW9mIGkmJihyPUMuZmlsdGVyKGkscikpLHRoaXMubGVuZ3RoPjEmJigkW2VdfHxDLnVuaXF1ZVNvcnQociksUC50ZXN0KGUpJiZyLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2socil9fSkpO3ZhciBIPS9bXlx4MjBcdFxyXG5cZl0rL2c7ZnVuY3Rpb24gSShlKXtyZXR1cm4gZX1mdW5jdGlvbiBSKGUpe3Rocm93IGV9ZnVuY3Rpb24gRihlLHQsbixpKXt2YXIgcjt0cnl7ZSYmdihyPWUucHJvbWlzZSk/ci5jYWxsKGUpLmRvbmUodCkuZmFpbChuKTplJiZ2KHI9ZS50aGVuKT9yLmNhbGwoZSx0LG4pOnQuYXBwbHkodm9pZCAwLFtlXS5zbGljZShpKSl9Y2F0Y2goZSl7bi5hcHBseSh2b2lkIDAsW2VdKX19Qy5DYWxsYmFja3M9ZnVuY3Rpb24oZSl7ZT0ic3RyaW5nIj09dHlwZW9mIGU/ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIEMuZWFjaChlLm1hdGNoKEgpfHxbXSwoZnVuY3Rpb24oZSxuKXt0W25dPSEwfSkpLHR9KGUpOkMuZXh0ZW5kKHt9LGUpO3ZhciB0LG4saSxyLG89W10scz1bXSxhPS0xLGw9ZnVuY3Rpb24oKXtmb3Iocj1yfHxlLm9uY2UsaT10PSEwO3MubGVuZ3RoO2E9LTEpZm9yKG49cy5zaGlmdCgpOysrYTxvLmxlbmd0aDspITE9PT1vW2FdLmFwcGx5KG5bMF0sblsxXSkmJmUuc3RvcE9uRmFsc2UmJihhPW8ubGVuZ3RoLG49ITEpO2UubWVtb3J5fHwobj0hMSksdD0hMSxyJiYobz1uP1tdOiIiKX0sYz17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIG8mJihuJiYhdCYmKGE9by5sZW5ndGgtMSxzLnB1c2gobikpLGZ1bmN0aW9uIHQobil7Qy5lYWNoKG4sKGZ1bmN0aW9uKG4saSl7dihpKT9lLnVuaXF1ZSYmYy5oYXMoaSl8fG8ucHVzaChpKTppJiZpLmxlbmd0aCYmInN0cmluZyIhPT13KGkpJiZ0KGkpfSkpfShhcmd1bWVudHMpLG4mJiF0JiZsKCkpLHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBDLmVhY2goYXJndW1lbnRzLChmdW5jdGlvbihlLHQpe2Zvcih2YXIgbjsobj1DLmluQXJyYXkodCxvLG4pKT4tMTspby5zcGxpY2UobiwxKSxuPD1hJiZhLS19KSksdGhpc30saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlP0MuaW5BcnJheShlLG8pPi0xOm8ubGVuZ3RoPjB9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIG8mJihvPVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHI9cz1bXSxvPW49IiIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hb30sbG9jazpmdW5jdGlvbigpe3JldHVybiByPXM9W10sbnx8dHx8KG89bj0iIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFyfSxmaXJlV2l0aDpmdW5jdGlvbihlLG4pe3JldHVybiByfHwobj1bZSwobj1ufHxbXSkuc2xpY2U/bi5zbGljZSgpOm5dLHMucHVzaChuKSx0fHxsKCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gYy5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWl9fTtyZXR1cm4gY30sQy5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGUpe3ZhciB0PVtbIm5vdGlmeSIsInByb2dyZXNzIixDLkNhbGxiYWNrcygibWVtb3J5IiksQy5DYWxsYmFja3MoIm1lbW9yeSIpLDJdLFsicmVzb2x2ZSIsImRvbmUiLEMuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLEMuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLDAsInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixDLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxDLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwxLCJyZWplY3RlZCJdXSxuPSJwZW5kaW5nIixyPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBufSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gby5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LGNhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiByLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztyZXR1cm4gQy5EZWZlcnJlZCgoZnVuY3Rpb24obil7Qy5lYWNoKHQsKGZ1bmN0aW9uKHQsaSl7dmFyIHI9dihlW2lbNF1dKSYmZVtpWzRdXTtvW2lbMV1dKChmdW5jdGlvbigpe3ZhciBlPXImJnIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJnYoZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhuLm5vdGlmeSkuZG9uZShuLnJlc29sdmUpLmZhaWwobi5yZWplY3QpOm5baVswXSsiV2l0aCJdKHRoaXMscj9bZV06YXJndW1lbnRzKX0pKX0pKSxlPW51bGx9KSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKGUsbixyKXt2YXIgbz0wO2Z1bmN0aW9uIHMoZSx0LG4scil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxsPWFyZ3VtZW50cyxjPWZ1bmN0aW9uKCl7dmFyIGksYztpZighKGU8bykpe2lmKChpPW4uYXBwbHkoYSxsKSk9PT10LnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTtjPWkmJigib2JqZWN0Ij09dHlwZW9mIGl8fCJmdW5jdGlvbiI9PXR5cGVvZiBpKSYmaS50aGVuLHYoYyk/cj9jLmNhbGwoaSxzKG8sdCxJLHIpLHMobyx0LFIscikpOihvKyssYy5jYWxsKGkscyhvLHQsSSxyKSxzKG8sdCxSLHIpLHMobyx0LEksdC5ub3RpZnlXaXRoKSkpOihuIT09SSYmKGE9dm9pZCAwLGw9W2ldKSwocnx8dC5yZXNvbHZlV2l0aCkoYSxsKSl9fSx1PXI/YzpmdW5jdGlvbigpe3RyeXtjKCl9Y2F0Y2goaSl7Qy5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZDLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soaSx1LnN0YWNrVHJhY2UpLGUrMT49byYmKG4hPT1SJiYoYT12b2lkIDAsbD1baV0pLHQucmVqZWN0V2l0aChhLGwpKX19O2U/dSgpOihDLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHUuc3RhY2tUcmFjZT1DLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxpLnNldFRpbWVvdXQodSkpfX1yZXR1cm4gQy5EZWZlcnJlZCgoZnVuY3Rpb24oaSl7dFswXVszXS5hZGQocygwLGksdihyKT9yOkksaS5ub3RpZnlXaXRoKSksdFsxXVszXS5hZGQocygwLGksdihlKT9lOkkpKSx0WzJdWzNdLmFkZChzKDAsaSx2KG4pP246UikpfSkpLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZT9DLmV4dGVuZChlLHIpOnJ9fSxvPXt9O3JldHVybiBDLmVhY2godCwoZnVuY3Rpb24oZSxpKXt2YXIgcz1pWzJdLGE9aVs1XTtyW2lbMV1dPXMuYWRkLGEmJnMuYWRkKChmdW5jdGlvbigpe249YX0pLHRbMy1lXVsyXS5kaXNhYmxlLHRbMy1lXVszXS5kaXNhYmxlLHRbMF1bMl0ubG9jayx0WzBdWzNdLmxvY2spLHMuYWRkKGlbM10uZmlyZSksb1tpWzBdXT1mdW5jdGlvbigpe3JldHVybiBvW2lbMF0rIldpdGgiXSh0aGlzPT09bz92b2lkIDA6dGhpcyxhcmd1bWVudHMpLHRoaXN9LG9baVswXSsiV2l0aCJdPXMuZmlyZVdpdGh9KSksci5wcm9taXNlKG8pLGUmJmUuY2FsbChvLG8pLG99LHdoZW46ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPXQsaT1BcnJheShuKSxyPWEuY2FsbChhcmd1bWVudHMpLG89Qy5EZWZlcnJlZCgpLHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lbZV09dGhpcyxyW2VdPWFyZ3VtZW50cy5sZW5ndGg+MT9hLmNhbGwoYXJndW1lbnRzKTpuLC0tdHx8by5yZXNvbHZlV2l0aChpLHIpfX07aWYodDw9MSYmKEYoZSxvLmRvbmUocyhuKSkucmVzb2x2ZSxvLnJlamVjdCwhdCksInBlbmRpbmciPT09by5zdGF0ZSgpfHx2KHJbbl0mJnJbbl0udGhlbikpKXJldHVybiBvLnRoZW4oKTtmb3IoO24tLTspRihyW25dLHMobiksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgVz0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztDLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtpLmNvbnNvbGUmJmkuY29uc29sZS53YXJuJiZlJiZXLnRlc3QoZS5uYW1lKSYmaS5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LEMucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oZSl7aS5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3Rocm93IGV9KSl9O3ZhciBCPUMuRGVmZXJyZWQoKTtmdW5jdGlvbiB6KCl7Yi5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIix6KSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLHopLEMucmVhZHkoKX1DLmZuLnJlYWR5PWZ1bmN0aW9uKGUpe3JldHVybiBCLnRoZW4oZSkuY2F0Y2goKGZ1bmN0aW9uKGUpe0MucmVhZHlFeGNlcHRpb24oZSl9KSksdGhpc30sQy5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEscmVhZHk6ZnVuY3Rpb24oZSl7KCEwPT09ZT8tLUMucmVhZHlXYWl0OkMuaXNSZWFkeSl8fChDLmlzUmVhZHk9ITAsITAhPT1lJiYtLUMucmVhZHlXYWl0PjB8fEIucmVzb2x2ZVdpdGgoYixbQ10pKX19KSxDLnJlYWR5LnRoZW49Qi50aGVuLCJjb21wbGV0ZSI9PT1iLnJlYWR5U3RhdGV8fCJsb2FkaW5nIiE9PWIucmVhZHlTdGF0ZSYmIWIuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP2kuc2V0VGltZW91dChDLnJlYWR5KTooYi5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIix6KSxpLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHopKTt2YXIgVj1mdW5jdGlvbihlLHQsbixpLHIsbyxzKXt2YXIgYT0wLGw9ZS5sZW5ndGgsYz1udWxsPT1uO2lmKCJvYmplY3QiPT09dyhuKSlmb3IoYSBpbiByPSEwLG4pVihlLHQsYSxuW2FdLCEwLG8scyk7ZWxzZSBpZih2b2lkIDAhPT1pJiYocj0hMCx2KGkpfHwocz0hMCksYyYmKHM/KHQuY2FsbChlLGkpLHQ9bnVsbCk6KGM9dCx0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYy5jYWxsKEMoZSksbil9KSksdCkpZm9yKDthPGw7YSsrKXQoZVthXSxuLHM/aTppLmNhbGwoZVthXSxhLHQoZVthXSxuKSkpO3JldHVybiByP2U6Yz90LmNhbGwoZSk6bD90KGVbMF0sbik6b30sVT0vXi1tcy0vLFE9Ly0oW2Etel0pL2c7ZnVuY3Rpb24gWShlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9ZnVuY3Rpb24gWChlKXtyZXR1cm4gZS5yZXBsYWNlKFUsIm1zLSIpLnJlcGxhY2UoUSxZKX12YXIgSj1mdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubm9kZVR5cGV8fDk9PT1lLm5vZGVUeXBlfHwhK2Uubm9kZVR5cGV9O2Z1bmN0aW9uIEsoKXt0aGlzLmV4cGFuZG89Qy5leHBhbmRvK0sudWlkKyt9Sy51aWQ9MSxLLnByb3RvdHlwZT17Y2FjaGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVt0aGlzLmV4cGFuZG9dO3JldHVybiB0fHwodD17fSxKKGUpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dDpPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0aGlzLmV4cGFuZG8se3ZhbHVlOnQsY29uZmlndXJhYmxlOiEwfSkpKSx0fSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHI9dGhpcy5jYWNoZShlKTtpZigic3RyaW5nIj09dHlwZW9mIHQpcltYKHQpXT1uO2Vsc2UgZm9yKGkgaW4gdClyW1goaSldPXRbaV07cmV0dXJuIHJ9LGdldDpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P3RoaXMuY2FjaGUoZSk6ZVt0aGlzLmV4cGFuZG9dJiZlW3RoaXMuZXhwYW5kb11bWCh0KV19LGFjY2VzczpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHZvaWQgMD09PXR8fHQmJiJzdHJpbmciPT10eXBlb2YgdCYmdm9pZCAwPT09bj90aGlzLmdldChlLHQpOih0aGlzLnNldChlLHQsbiksdm9pZCAwIT09bj9uOnQpfSxyZW1vdmU6ZnVuY3Rpb24oZSx0KXt2YXIgbixpPWVbdGhpcy5leHBhbmRvXTtpZih2b2lkIDAhPT1pKXtpZih2b2lkIDAhPT10KXtuPSh0PUFycmF5LmlzQXJyYXkodCk/dC5tYXAoWCk6KHQ9WCh0KSlpbiBpP1t0XTp0Lm1hdGNoKEgpfHxbXSkubGVuZ3RoO2Zvcig7bi0tOylkZWxldGUgaVt0W25dXX0odm9pZCAwPT09dHx8Qy5pc0VtcHR5T2JqZWN0KGkpKSYmKGUubm9kZVR5cGU/ZVt0aGlzLmV4cGFuZG9dPXZvaWQgMDpkZWxldGUgZVt0aGlzLmV4cGFuZG9dKX19LGhhc0RhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVt0aGlzLmV4cGFuZG9dO3JldHVybiB2b2lkIDAhPT10JiYhQy5pc0VtcHR5T2JqZWN0KHQpfX07dmFyIEc9bmV3IEssWj1uZXcgSyxlZT0vXig/Olx7W1x3XFddKlx9fFxbW1x3XFddKlxdKSQvLHRlPS9bQS1aXS9nO2Z1bmN0aW9uIG5lKGUsdCxuKXt2YXIgaTtpZih2b2lkIDA9PT1uJiYxPT09ZS5ub2RlVHlwZSlpZihpPSJkYXRhLSIrdC5yZXBsYWNlKHRlLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShpKSkpe3RyeXtuPWZ1bmN0aW9uKGUpe3JldHVybiJ0cnVlIj09PWV8fCJmYWxzZSIhPT1lJiYoIm51bGwiPT09ZT9udWxsOmU9PT0rZSsiIj8rZTplZS50ZXN0KGUpP0pTT04ucGFyc2UoZSk6ZSl9KG4pfWNhdGNoKGUpe31aLnNldChlLHQsbil9ZWxzZSBuPXZvaWQgMDtyZXR1cm4gbn1DLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gWi5oYXNEYXRhKGUpfHxHLmhhc0RhdGEoZSl9LGRhdGE6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBaLmFjY2VzcyhlLHQsbil9LHJlbW92ZURhdGE6ZnVuY3Rpb24oZSx0KXtaLnJlbW92ZShlLHQpfSxfZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEcuYWNjZXNzKGUsdCxuKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oZSx0KXtHLnJlbW92ZShlLHQpfX0pLEMuZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyLG89dGhpc1swXSxzPW8mJm8uYXR0cmlidXRlcztpZih2b2lkIDA9PT1lKXtpZih0aGlzLmxlbmd0aCYmKHI9Wi5nZXQobyksMT09PW8ubm9kZVR5cGUmJiFHLmdldChvLCJoYXNEYXRhQXR0cnMiKSkpe2ZvcihuPXMubGVuZ3RoO24tLTspc1tuXSYmMD09PShpPXNbbl0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKGk9WChpLnNsaWNlKDUpKSxuZShvLGkscltpXSkpO0cuc2V0KG8sImhhc0RhdGFBdHRycyIsITApfXJldHVybiByfXJldHVybiJvYmplY3QiPT10eXBlb2YgZT90aGlzLmVhY2goKGZ1bmN0aW9uKCl7Wi5zZXQodGhpcyxlKX0pKTpWKHRoaXMsKGZ1bmN0aW9uKHQpe3ZhciBuO2lmKG8mJnZvaWQgMD09PXQpcmV0dXJuIHZvaWQgMCE9PShuPVouZ2V0KG8sZSkpfHx2b2lkIDAhPT0obj1uZShvLGUpKT9uOnZvaWQgMDt0aGlzLmVhY2goKGZ1bmN0aW9uKCl7Wi5zZXQodGhpcyxlLHQpfSkpfSksbnVsbCx0LGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKChmdW5jdGlvbigpe1oucmVtb3ZlKHRoaXMsZSl9KSl9fSksQy5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaTtpZihlKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLGk9Ry5nZXQoZSx0KSxuJiYoIWl8fEFycmF5LmlzQXJyYXkobik/aT1HLmFjY2VzcyhlLHQsQy5tYWtlQXJyYXkobikpOmkucHVzaChuKSksaXx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49Qy5xdWV1ZShlLHQpLGk9bi5sZW5ndGgscj1uLnNoaWZ0KCksbz1DLl9xdWV1ZUhvb2tzKGUsdCk7ImlucHJvZ3Jlc3MiPT09ciYmKHI9bi5zaGlmdCgpLGktLSksciYmKCJmeCI9PT10JiZuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgby5zdG9wLHIuY2FsbChlLChmdW5jdGlvbigpe0MuZGVxdWV1ZShlLHQpfSksbykpLCFpJiZvJiZvLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj10KyJxdWV1ZUhvb2tzIjtyZXR1cm4gRy5nZXQoZSxuKXx8Ry5hY2Nlc3MoZSxuLHtlbXB0eTpDLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoKGZ1bmN0aW9uKCl7Ry5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pKX0pfX0pLEMuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPTI7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBlJiYodD1lLGU9ImZ4IixuLS0pLGFyZ3VtZW50cy5sZW5ndGg8bj9DLnF1ZXVlKHRoaXNbMF0sZSk6dm9pZCAwPT09dD90aGlzOnRoaXMuZWFjaCgoZnVuY3Rpb24oKXt2YXIgbj1DLnF1ZXVlKHRoaXMsZSx0KTtDLl9xdWV1ZUhvb2tzKHRoaXMsZSksImZ4Ij09PWUmJiJpbnByb2dyZXNzIiE9PW5bMF0mJkMuZGVxdWV1ZSh0aGlzLGUpfSkpfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goKGZ1bmN0aW9uKCl7Qy5kZXF1ZXVlKHRoaXMsZSl9KSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucXVldWUoZXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbixpPTEscj1DLkRlZmVycmVkKCksbz10aGlzLHM9dGhpcy5sZW5ndGgsYT1mdW5jdGlvbigpey0taXx8ci5yZXNvbHZlV2l0aChvLFtvXSl9O2Zvcigic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4IjtzLS07KShuPUcuZ2V0KG9bc10sZSsicXVldWVIb29rcyIpKSYmbi5lbXB0eSYmKGkrKyxuLmVtcHR5LmFkZChhKSk7cmV0dXJuIGEoKSxyLnByb21pc2UodCl9fSk7dmFyIGllPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLHJlPW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitpZSsiKShbYS16JV0qKSQiLCJpIiksb2U9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxzZT1iLmRvY3VtZW50RWxlbWVudCxhZT1mdW5jdGlvbihlKXtyZXR1cm4gQy5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSl9LGxlPXtjb21wb3NlZDohMH07c2UuZ2V0Um9vdE5vZGUmJihhZT1mdW5jdGlvbihlKXtyZXR1cm4gQy5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSl8fGUuZ2V0Um9vdE5vZGUobGUpPT09ZS5vd25lckRvY3VtZW50fSk7dmFyIGNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIm5vbmUiPT09KGU9dHx8ZSkuc3R5bGUuZGlzcGxheXx8IiI9PT1lLnN0eWxlLmRpc3BsYXkmJmFlKGUpJiYibm9uZSI9PT1DLmNzcyhlLCJkaXNwbGF5Iil9O2Z1bmN0aW9uIHVlKGUsdCxuLGkpe3ZhciByLG8scz0yMCxhPWk/ZnVuY3Rpb24oKXtyZXR1cm4gaS5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gQy5jc3MoZSx0LCIiKX0sbD1hKCksYz1uJiZuWzNdfHwoQy5jc3NOdW1iZXJbdF0/IiI6InB4IiksdT1lLm5vZGVUeXBlJiYoQy5jc3NOdW1iZXJbdF18fCJweCIhPT1jJiYrbCkmJnJlLmV4ZWMoQy5jc3MoZSx0KSk7aWYodSYmdVszXSE9PWMpe2ZvcihsLz0yLGM9Y3x8dVszXSx1PStsfHwxO3MtLTspQy5zdHlsZShlLHQsdStjKSwoMS1vKSooMS0obz1hKCkvbHx8LjUpKTw9MCYmKHM9MCksdS89bzt1Kj0yLEMuc3R5bGUoZSx0LHUrYyksbj1ufHxbXX1yZXR1cm4gbiYmKHU9K3V8fCtsfHwwLHI9blsxXT91KyhuWzFdKzEpKm5bMl06K25bMl0saSYmKGkudW5pdD1jLGkuc3RhcnQ9dSxpLmVuZD1yKSkscn12YXIgZmU9e307ZnVuY3Rpb24gZGUoZSl7dmFyIHQsbj1lLm93bmVyRG9jdW1lbnQsaT1lLm5vZGVOYW1lLHI9ZmVbaV07cmV0dXJuIHJ8fCh0PW4uYm9keS5hcHBlbmRDaGlsZChuLmNyZWF0ZUVsZW1lbnQoaSkpLHI9Qy5jc3ModCwiZGlzcGxheSIpLHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSwibm9uZSI9PT1yJiYocj0iYmxvY2siKSxmZVtpXT1yLHIpfWZ1bmN0aW9uIHBlKGUsdCl7Zm9yKHZhciBuLGkscj1bXSxvPTAscz1lLmxlbmd0aDtvPHM7bysrKShpPWVbb10pLnN0eWxlJiYobj1pLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKHJbb109Ry5nZXQoaSwiZGlzcGxheSIpfHxudWxsLHJbb118fChpLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PWkuc3R5bGUuZGlzcGxheSYmY2UoaSkmJihyW29dPWRlKGkpKSk6Im5vbmUiIT09biYmKHJbb109Im5vbmUiLEcuc2V0KGksImRpc3BsYXkiLG4pKSk7Zm9yKG89MDtvPHM7bysrKW51bGwhPXJbb10mJihlW29dLnN0eWxlLmRpc3BsYXk9cltvXSk7cmV0dXJuIGV9Qy5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oKXtyZXR1cm4gcGUodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gcGUodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihlKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlP2U/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKChmdW5jdGlvbigpe2NlKHRoaXMpP0ModGhpcykuc2hvdygpOkModGhpcykuaGlkZSgpfSkpfX0pO3ZhciBoZSxnZSxtZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSx2ZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSx5ZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2k7aGU9Yi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJkaXYiKSksKGdlPWIuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxnZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksZ2Uuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGhlLmFwcGVuZENoaWxkKGdlKSxtLmNoZWNrQ2xvbmU9aGUuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGhlLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIsbS5ub0Nsb25lQ2hlY2tlZD0hIWhlLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSxoZS5pbm5lckhUTUw9IjxvcHRpb24+PC9vcHRpb24+IixtLm9wdGlvbj0hIWhlLmxhc3RDaGlsZDt2YXIgYmU9e3RoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB4ZShlLHQpe3ZhciBuO3JldHVybiBuPXZvaWQgMCE9PWUuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0fHwiKiIpOnZvaWQgMCE9PWUucXVlcnlTZWxlY3RvckFsbD9lLnF1ZXJ5U2VsZWN0b3JBbGwodHx8IioiKTpbXSx2b2lkIDA9PT10fHx0JiZqKGUsdCk/Qy5tZXJnZShbZV0sbik6bn1mdW5jdGlvbiBfZShlLHQpe2Zvcih2YXIgbj0wLGk9ZS5sZW5ndGg7bjxpO24rKylHLnNldChlW25dLCJnbG9iYWxFdmFsIiwhdHx8Ry5nZXQodFtuXSwiZ2xvYmFsRXZhbCIpKX1iZS50Ym9keT1iZS50Zm9vdD1iZS5jb2xncm91cD1iZS5jYXB0aW9uPWJlLnRoZWFkLGJlLnRoPWJlLnRkLG0ub3B0aW9ufHwoYmUub3B0Z3JvdXA9YmUub3B0aW9uPVsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0pO3ZhciB3ZT0vPHwmIz9cdys7LztmdW5jdGlvbiBUZShlLHQsbixpLHIpe2Zvcih2YXIgbyxzLGEsbCxjLHUsZj10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxkPVtdLHA9MCxoPWUubGVuZ3RoO3A8aDtwKyspaWYoKG89ZVtwXSl8fDA9PT1vKWlmKCJvYmplY3QiPT09dyhvKSlDLm1lcmdlKGQsby5ub2RlVHlwZT9bb106byk7ZWxzZSBpZih3ZS50ZXN0KG8pKXtmb3Iocz1zfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLGE9KHZlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksbD1iZVthXXx8YmUuX2RlZmF1bHQscy5pbm5lckhUTUw9bFsxXStDLmh0bWxQcmVmaWx0ZXIobykrbFsyXSx1PWxbMF07dS0tOylzPXMubGFzdENoaWxkO0MubWVyZ2UoZCxzLmNoaWxkTm9kZXMpLChzPWYuZmlyc3RDaGlsZCkudGV4dENvbnRlbnQ9IiJ9ZWxzZSBkLnB1c2godC5jcmVhdGVUZXh0Tm9kZShvKSk7Zm9yKGYudGV4dENvbnRlbnQ9IiIscD0wO289ZFtwKytdOylpZihpJiZDLmluQXJyYXkobyxpKT4tMSlyJiZyLnB1c2gobyk7ZWxzZSBpZihjPWFlKG8pLHM9eGUoZi5hcHBlbmRDaGlsZChvKSwic2NyaXB0IiksYyYmX2Uocyksbilmb3IodT0wO289c1t1KytdOyl5ZS50ZXN0KG8udHlwZXx8IiIpJiZuLnB1c2gobyk7cmV0dXJuIGZ9dmFyIENlPS9eKFteLl0qKSg/OlwuKC4rKXwpLztmdW5jdGlvbiBFZSgpe3JldHVybiEwfWZ1bmN0aW9uIEFlKCl7cmV0dXJuITF9ZnVuY3Rpb24ga2UoZSx0KXtyZXR1cm4gZT09PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBiLmFjdGl2ZUVsZW1lbnR9Y2F0Y2goZSl7fX0oKT09KCJmb2N1cyI9PT10KX1mdW5jdGlvbiBTZShlLHQsbixpLHIsbyl7dmFyIHMsYTtpZigib2JqZWN0Ij09dHlwZW9mIHQpe2ZvcihhIGluInN0cmluZyIhPXR5cGVvZiBuJiYoaT1pfHxuLG49dm9pZCAwKSx0KVNlKGUsYSxuLGksdFthXSxvKTtyZXR1cm4gZX1pZihudWxsPT1pJiZudWxsPT1yPyhyPW4saT1uPXZvaWQgMCk6bnVsbD09ciYmKCJzdHJpbmciPT10eXBlb2Ygbj8ocj1pLGk9dm9pZCAwKToocj1pLGk9bixuPXZvaWQgMCkpLCExPT09cilyPUFlO2Vsc2UgaWYoIXIpcmV0dXJuIGU7cmV0dXJuIDE9PT1vJiYocz1yLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIEMoKS5vZmYoZSkscy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHIuZ3VpZD1zLmd1aWR8fChzLmd1aWQ9Qy5ndWlkKyspKSxlLmVhY2goKGZ1bmN0aW9uKCl7Qy5ldmVudC5hZGQodGhpcyx0LHIsaSxuKX0pKX1mdW5jdGlvbiBEZShlLHQsbil7bj8oRy5zZXQoZSx0LCExKSxDLmV2ZW50LmFkZChlLHQse25hbWVzcGFjZTohMSxoYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciBpLHIsbz1HLmdldCh0aGlzLHQpO2lmKDEmZS5pc1RyaWdnZXImJnRoaXNbdF0pe2lmKG8ubGVuZ3RoKShDLmV2ZW50LnNwZWNpYWxbdF18fHt9KS5kZWxlZ2F0ZVR5cGUmJmUuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihvPWEuY2FsbChhcmd1bWVudHMpLEcuc2V0KHRoaXMsdCxvKSxpPW4odGhpcyx0KSx0aGlzW3RdKCksbyE9PShyPUcuZ2V0KHRoaXMsdCkpfHxpP0cuc2V0KHRoaXMsdCwhMSk6cj17fSxvIT09cilyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksciYmci52YWx1ZX1lbHNlIG8ubGVuZ3RoJiYoRy5zZXQodGhpcyx0LHt2YWx1ZTpDLmV2ZW50LnRyaWdnZXIoQy5leHRlbmQob1swXSxDLkV2ZW50LnByb3RvdHlwZSksby5zbGljZSgxKSx0aGlzKX0pLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX0pKTp2b2lkIDA9PT1HLmdldChlLHQpJiZDLmV2ZW50LmFkZChlLHQsRWUpfUMuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oZSx0LG4saSxyKXt2YXIgbyxzLGEsbCxjLHUsZixkLHAsaCxnLG09Ry5nZXQoZSk7aWYoSihlKSlmb3Iobi5oYW5kbGVyJiYobj0obz1uKS5oYW5kbGVyLHI9by5zZWxlY3RvciksciYmQy5maW5kLm1hdGNoZXNTZWxlY3RvcihzZSxyKSxuLmd1aWR8fChuLmd1aWQ9Qy5ndWlkKyspLChsPW0uZXZlbnRzKXx8KGw9bS5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKHM9bS5oYW5kbGUpfHwocz1tLmhhbmRsZT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09QyYmQy5ldmVudC50cmlnZ2VyZWQhPT10LnR5cGU/Qy5ldmVudC5kaXNwYXRjaC5hcHBseShlLGFyZ3VtZW50cyk6dm9pZCAwfSksYz0odD0odHx8IiIpLm1hdGNoKEgpfHxbIiJdKS5sZW5ndGg7Yy0tOylwPWc9KGE9Q2UuZXhlYyh0W2NdKXx8W10pWzFdLGg9KGFbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxwJiYoZj1DLmV2ZW50LnNwZWNpYWxbcF18fHt9LHA9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fHAsZj1DLmV2ZW50LnNwZWNpYWxbcF18fHt9LHU9Qy5leHRlbmQoe3R5cGU6cCxvcmlnVHlwZTpnLGRhdGE6aSxoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6cixuZWVkc0NvbnRleHQ6ciYmQy5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KHIpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKGQ9bFtwXSl8fCgoZD1sW3BdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwoZSxpLGgscyl8fGUuYWRkRXZlbnRMaXN0ZW5lciYmZS5hZGRFdmVudExpc3RlbmVyKHAscykpLGYuYWRkJiYoZi5hZGQuY2FsbChlLHUpLHUuaGFuZGxlci5ndWlkfHwodS5oYW5kbGVyLmd1aWQ9bi5ndWlkKSkscj9kLnNwbGljZShkLmRlbGVnYXRlQ291bnQrKywwLHUpOmQucHVzaCh1KSxDLmV2ZW50Lmdsb2JhbFtwXT0hMCl9LHJlbW92ZTpmdW5jdGlvbihlLHQsbixpLHIpe3ZhciBvLHMsYSxsLGMsdSxmLGQscCxoLGcsbT1HLmhhc0RhdGEoZSkmJkcuZ2V0KGUpO2lmKG0mJihsPW0uZXZlbnRzKSl7Zm9yKGM9KHQ9KHR8fCIiKS5tYXRjaChIKXx8WyIiXSkubGVuZ3RoO2MtLTspaWYocD1nPShhPUNlLmV4ZWModFtjXSl8fFtdKVsxXSxoPShhWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCkscCl7Zm9yKGY9Qy5ldmVudC5zcGVjaWFsW3BdfHx7fSxkPWxbcD0oaT9mLmRlbGVnYXRlVHlwZTpmLmJpbmRUeXBlKXx8cF18fFtdLGE9YVsyXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIraC5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKSxzPW89ZC5sZW5ndGg7by0tOyl1PWRbb10sIXImJmchPT11Lm9yaWdUeXBlfHxuJiZuLmd1aWQhPT11Lmd1aWR8fGEmJiFhLnRlc3QodS5uYW1lc3BhY2UpfHxpJiZpIT09dS5zZWxlY3RvciYmKCIqKiIhPT1pfHwhdS5zZWxlY3Rvcil8fChkLnNwbGljZShvLDEpLHUuc2VsZWN0b3ImJmQuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsdSkpO3MmJiFkLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCxtLmhhbmRsZSl8fEMucmVtb3ZlRXZlbnQoZSxwLG0uaGFuZGxlKSxkZWxldGUgbFtwXSl9ZWxzZSBmb3IocCBpbiBsKUMuZXZlbnQucmVtb3ZlKGUscCt0W2NdLG4saSwhMCk7Qy5pc0VtcHR5T2JqZWN0KGwpJiZHLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLGkscixvLHMsYT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksbD1DLmV2ZW50LmZpeChlKSxjPShHLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbbC50eXBlXXx8W10sdT1DLmV2ZW50LnNwZWNpYWxbbC50eXBlXXx8e307Zm9yKGFbMF09bCx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylhW3RdPWFyZ3VtZW50c1t0XTtpZihsLmRlbGVnYXRlVGFyZ2V0PXRoaXMsIXUucHJlRGlzcGF0Y2h8fCExIT09dS5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsbCkpe2ZvcihzPUMuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGwsYyksdD0wOyhyPXNbdCsrXSkmJiFsLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KWZvcihsLmN1cnJlbnRUYXJnZXQ9ci5lbGVtLG49MDsobz1yLmhhbmRsZXJzW24rK10pJiYhbC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpOylsLnJuYW1lc3BhY2UmJiExIT09by5uYW1lc3BhY2UmJiFsLnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fChsLmhhbmRsZU9iaj1vLGwuZGF0YT1vLmRhdGEsdm9pZCAwIT09KGk9KChDLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoci5lbGVtLGEpKSYmITE9PT0obC5yZXN1bHQ9aSkmJihsLnByZXZlbnREZWZhdWx0KCksbC5zdG9wUHJvcGFnYXRpb24oKSkpO3JldHVybiB1LnBvc3REaXNwYXRjaCYmdS5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLGwpLGwucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixpLHIsbyxzLGE9W10sbD10LmRlbGVnYXRlQ291bnQsYz1lLnRhcmdldDtpZihsJiZjLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJmUuYnV0dG9uPj0xKSlmb3IoO2MhPT10aGlzO2M9Yy5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1jLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1jLmRpc2FibGVkKSl7Zm9yKG89W10scz17fSxuPTA7bjxsO24rKyl2b2lkIDA9PT1zW3I9KGk9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKHNbcl09aS5uZWVkc0NvbnRleHQ/QyhyLHRoaXMpLmluZGV4KGMpPi0xOkMuZmluZChyLHRoaXMsbnVsbCxbY10pLmxlbmd0aCksc1tyXSYmby5wdXNoKGkpO28ubGVuZ3RoJiZhLnB1c2goe2VsZW06YyxoYW5kbGVyczpvfSl9cmV0dXJuIGM9dGhpcyxsPHQubGVuZ3RoJiZhLnB1c2goe2VsZW06YyxoYW5kbGVyczp0LnNsaWNlKGwpfSksYX0sYWRkUHJvcDpmdW5jdGlvbihlLHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShDLkV2ZW50LnByb3RvdHlwZSxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6dih0KT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdCh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W2VdfSxzZXQ6ZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbQy5leHBhbmRvXT9lOm5ldyBDLkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIG1lLnRlc3QodC50eXBlKSYmdC5jbGljayYmaih0LCJpbnB1dCIpJiZEZSh0LCJjbGljayIsRWUpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIG1lLnRlc3QodC50eXBlKSYmdC5jbGljayYmaih0LCJpbnB1dCIpJiZEZSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtyZXR1cm4gbWUudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZqKHQsImlucHV0IikmJkcuZ2V0KHQsImNsaWNrIil8fGoodCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LEMucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LEMuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBDLkV2ZW50KSlyZXR1cm4gbmV3IEMuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT9FZTpBZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZDLmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbQy5leHBhbmRvXT0hMH0sQy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkMuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOkFlLGlzUHJvcGFnYXRpb25TdG9wcGVkOkFlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOkFlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPUVlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPUVlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1FZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sQy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLGNoYXI6ITAsY29kZTohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDohMH0sQy5ldmVudC5hZGRQcm9wKSxDLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LChmdW5jdGlvbihlLHQpe0MuZXZlbnQuc3BlY2lhbFtlXT17c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gRGUodGhpcyxlLGtlKSwhMX0sdHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiBEZSh0aGlzLGUpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbih0KXtyZXR1cm4gRy5nZXQodC50YXJnZXQsZSl9LGRlbGVnYXRlVHlwZTp0fX0pKSxDLmVhY2goe21vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQiLHBvaW50ZXJlbnRlcjoicG9pbnRlcm92ZXIiLHBvaW50ZXJsZWF2ZToicG9pbnRlcm91dCJ9LChmdW5jdGlvbihlLHQpe0MuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOnQsYmluZFR5cGU6dCxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIG4saT10aGlzLHI9ZS5yZWxhdGVkVGFyZ2V0LG89ZS5oYW5kbGVPYmo7cmV0dXJuIHImJihyPT09aXx8Qy5jb250YWlucyhpLHIpKXx8KGUudHlwZT1vLm9yaWdUeXBlLG49by5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlLnR5cGU9dCksbn19fSkpLEMuZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gU2UodGhpcyxlLHQsbixpKX0sb25lOmZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBTZSh0aGlzLGUsdCxuLGksMSl9LG9mZjpmdW5jdGlvbihlLHQsbil7dmFyIGkscjtpZihlJiZlLnByZXZlbnREZWZhdWx0JiZlLmhhbmRsZU9iailyZXR1cm4gaT1lLmhhbmRsZU9iaixDKGUuZGVsZWdhdGVUYXJnZXQpLm9mZihpLm5hbWVzcGFjZT9pLm9yaWdUeXBlKyIuIitpLm5hbWVzcGFjZTppLm9yaWdUeXBlLGkuc2VsZWN0b3IsaS5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgZSl7Zm9yKHIgaW4gZSl0aGlzLm9mZihyLHQsZVtyXSk7cmV0dXJuIHRoaXN9cmV0dXJuITEhPT10JiYiZnVuY3Rpb24iIT10eXBlb2YgdHx8KG49dCx0PXZvaWQgMCksITE9PT1uJiYobj1BZSksdGhpcy5lYWNoKChmdW5jdGlvbigpe0MuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSkpfX0pO3ZhciBqZT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxPZT0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxOZT0vXlxzKjwhXFtDREFUQVxbfFxdXF0+XHMqJC9nO2Z1bmN0aW9uIExlKGUsdCl7cmV0dXJuIGooZSwidGFibGUiKSYmaigxMSE9PXQubm9kZVR5cGU/dDp0LmZpcnN0Q2hpbGQsInRyIikmJkMoZSkuY2hpbGRyZW4oInRib2R5IilbMF18fGV9ZnVuY3Rpb24gTWUoZSl7cmV0dXJuIGUudHlwZT0obnVsbCE9PWUuZ2V0QXR0cmlidXRlKCJ0eXBlIikpKyIvIitlLnR5cGUsZX1mdW5jdGlvbiBQZShlKXtyZXR1cm4idHJ1ZS8iPT09KGUudHlwZXx8IiIpLnNsaWNlKDAsNSk/ZS50eXBlPWUudHlwZS5zbGljZSg1KTplLnJlbW92ZUF0dHJpYnV0ZSgidHlwZSIpLGV9ZnVuY3Rpb24gJGUoZSx0KXt2YXIgbixpLHIsbyxzLGE7aWYoMT09PXQubm9kZVR5cGUpe2lmKEcuaGFzRGF0YShlKSYmKGE9Ry5nZXQoZSkuZXZlbnRzKSlmb3IociBpbiBHLnJlbW92ZSh0LCJoYW5kbGUgZXZlbnRzIiksYSlmb3Iobj0wLGk9YVtyXS5sZW5ndGg7bjxpO24rKylDLmV2ZW50LmFkZCh0LHIsYVtyXVtuXSk7Wi5oYXNEYXRhKGUpJiYobz1aLmFjY2VzcyhlKSxzPUMuZXh0ZW5kKHt9LG8pLFouc2V0KHQscykpfX1mdW5jdGlvbiBxZShlLHQpe3ZhciBuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsiaW5wdXQiPT09biYmbWUudGVzdChlLnR5cGUpP3QuY2hlY2tlZD1lLmNoZWNrZWQ6ImlucHV0IiE9PW4mJiJ0ZXh0YXJlYSIhPT1ufHwodC5kZWZhdWx0VmFsdWU9ZS5kZWZhdWx0VmFsdWUpfWZ1bmN0aW9uIEhlKGUsdCxuLGkpe3Q9bCh0KTt2YXIgcixvLHMsYSxjLHUsZj0wLGQ9ZS5sZW5ndGgscD1kLTEsaD10WzBdLGc9dihoKTtpZihnfHxkPjEmJiJzdHJpbmciPT10eXBlb2YgaCYmIW0uY2hlY2tDbG9uZSYmT2UudGVzdChoKSlyZXR1cm4gZS5lYWNoKChmdW5jdGlvbihyKXt2YXIgbz1lLmVxKHIpO2cmJih0WzBdPWguY2FsbCh0aGlzLHIsby5odG1sKCkpKSxIZShvLHQsbixpKX0pKTtpZihkJiYobz0ocj1UZSh0LGVbMF0ub3duZXJEb2N1bWVudCwhMSxlLGkpKS5maXJzdENoaWxkLDE9PT1yLmNoaWxkTm9kZXMubGVuZ3RoJiYocj1vKSxvfHxpKSl7Zm9yKGE9KHM9Qy5tYXAoeGUociwic2NyaXB0IiksTWUpKS5sZW5ndGg7ZjxkO2YrKyljPXIsZiE9PXAmJihjPUMuY2xvbmUoYywhMCwhMCksYSYmQy5tZXJnZShzLHhlKGMsInNjcmlwdCIpKSksbi5jYWxsKGVbZl0sYyxmKTtpZihhKWZvcih1PXNbcy5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxDLm1hcChzLFBlKSxmPTA7ZjxhO2YrKyljPXNbZl0seWUudGVzdChjLnR5cGV8fCIiKSYmIUcuYWNjZXNzKGMsImdsb2JhbEV2YWwiKSYmQy5jb250YWlucyh1LGMpJiYoYy5zcmMmJiJtb2R1bGUiIT09KGMudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/Qy5fZXZhbFVybCYmIWMubm9Nb2R1bGUmJkMuX2V2YWxVcmwoYy5zcmMse25vbmNlOmMubm9uY2V8fGMuZ2V0QXR0cmlidXRlKCJub25jZSIpfSx1KTpfKGMudGV4dENvbnRlbnQucmVwbGFjZShOZSwiIiksYyx1KSl9cmV0dXJuIGV9ZnVuY3Rpb24gSWUoZSx0LG4pe2Zvcih2YXIgaSxyPXQ/Qy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0oaT1yW29dKTtvKyspbnx8MSE9PWkubm9kZVR5cGV8fEMuY2xlYW5EYXRhKHhlKGkpKSxpLnBhcmVudE5vZGUmJihuJiZhZShpKSYmX2UoeGUoaSwic2NyaXB0IikpLGkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpKSk7cmV0dXJuIGV9Qy5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyLG8scyxhPWUuY2xvbmVOb2RlKCEwKSxsPWFlKGUpO2lmKCEobS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Qy5pc1hNTERvYyhlKSkpZm9yKHM9eGUoYSksaT0wLHI9KG89eGUoZSkpLmxlbmd0aDtpPHI7aSsrKXFlKG9baV0sc1tpXSk7aWYodClpZihuKWZvcihvPW98fHhlKGUpLHM9c3x8eGUoYSksaT0wLHI9by5sZW5ndGg7aTxyO2krKykkZShvW2ldLHNbaV0pO2Vsc2UgJGUoZSxhKTtyZXR1cm4ocz14ZShhLCJzY3JpcHQiKSkubGVuZ3RoPjAmJl9lKHMsIWwmJnhlKGUsInNjcmlwdCIpKSxhfSxjbGVhbkRhdGE6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4saSxyPUMuZXZlbnQuc3BlY2lhbCxvPTA7dm9pZCAwIT09KG49ZVtvXSk7bysrKWlmKEoobikpe2lmKHQ9bltHLmV4cGFuZG9dKXtpZih0LmV2ZW50cylmb3IoaSBpbiB0LmV2ZW50cylyW2ldP0MuZXZlbnQucmVtb3ZlKG4saSk6Qy5yZW1vdmVFdmVudChuLGksdC5oYW5kbGUpO25bRy5leHBhbmRvXT12b2lkIDB9bltaLmV4cGFuZG9dJiYobltaLmV4cGFuZG9dPXZvaWQgMCl9fX0pLEMuZm4uZXh0ZW5kKHtkZXRhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIEllKHRoaXMsZSwhMCl9LHJlbW92ZTpmdW5jdGlvbihlKXtyZXR1cm4gSWUodGhpcyxlKX0sdGV4dDpmdW5jdGlvbihlKXtyZXR1cm4gVih0aGlzLChmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9DLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goKGZ1bmN0aW9uKCl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fCh0aGlzLnRleHRDb250ZW50PWUpfSkpfSksbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsKGZ1bmN0aW9uKGUpezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHxMZSh0aGlzLGUpLmFwcGVuZENoaWxkKGUpfSkpfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLChmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9TGUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSkpfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsKGZ1bmN0aW9uKGUpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHRoaXMpfSkpfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cywoZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9KSl9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9MDtudWxsIT0oZT10aGlzW3RdKTt0KyspMT09PWUubm9kZVR5cGUmJihDLmNsZWFuRGF0YSh4ZShlLCExKSksZS50ZXh0Q29udGVudD0iIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bnVsbCE9ZSYmZSx0PW51bGw9PXQ/ZTp0LHRoaXMubWFwKChmdW5jdGlvbigpe3JldHVybiBDLmNsb25lKHRoaXMsZSx0KX0pKX0saHRtbDpmdW5jdGlvbihlKXtyZXR1cm4gVih0aGlzLChmdW5jdGlvbihlKXt2YXIgdD10aGlzWzBdfHx7fSxuPTAsaT10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1lJiYxPT09dC5ub2RlVHlwZSlyZXR1cm4gdC5pbm5lckhUTUw7aWYoInN0cmluZyI9PXR5cGVvZiBlJiYhamUudGVzdChlKSYmIWJlWyh2ZS5leGVjKGUpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7ZT1DLmh0bWxQcmVmaWx0ZXIoZSk7dHJ5e2Zvcig7bjxpO24rKykxPT09KHQ9dGhpc1tuXXx8e30pLm5vZGVUeXBlJiYoQy5jbGVhbkRhdGEoeGUodCwhMSkpLHQuaW5uZXJIVE1MPWUpO3Q9MH1jYXRjaChlKXt9fXQmJnRoaXMuZW1wdHkoKS5hcHBlbmQoZSl9KSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLChmdW5jdGlvbih0KXt2YXIgbj10aGlzLnBhcmVudE5vZGU7Qy5pbkFycmF5KHRoaXMsZSk8MCYmKEMuY2xlYW5EYXRhKHhlKHRoaXMpKSxuJiZuLnJlcGxhY2VDaGlsZCh0LHRoaXMpKX0pLGUpfX0pLEMuZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LChmdW5jdGlvbihlLHQpe0MuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciBuLGk9W10scj1DKGUpLG89ci5sZW5ndGgtMSxzPTA7czw9bztzKyspbj1zPT09bz90aGlzOnRoaXMuY2xvbmUoITApLEMocltzXSlbdF0obiksYy5hcHBseShpLG4uZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhpKX19KSk7dmFyIFJlPW5ldyBSZWdFeHAoIl4oIitpZSsiKSg/IXB4KVthLXolXSskIiwiaSIpLEZlPS9eLS0vLFdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztyZXR1cm4gdCYmdC5vcGVuZXJ8fCh0PWkpLHQuZ2V0Q29tcHV0ZWRTdHlsZShlKX0sQmU9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHIsbz17fTtmb3IociBpbiB0KW9bcl09ZS5zdHlsZVtyXSxlLnN0eWxlW3JdPXRbcl07Zm9yKHIgaW4gaT1uLmNhbGwoZSksdCllLnN0eWxlW3JdPW9bcl07cmV0dXJuIGl9LHplPW5ldyBSZWdFeHAob2Uuam9pbigifCIpLCJpIiksVmU9IltcXHgyMFxcdFxcclxcblxcZl0iLFVlPW5ldyBSZWdFeHAoIl4iK1ZlKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK1ZlKyIrJCIsImciKTtmdW5jdGlvbiBRZShlLHQsbil7dmFyIGkscixvLHMsYT1GZS50ZXN0KHQpLGw9ZS5zdHlsZTtyZXR1cm4obj1ufHxXZShlKSkmJihzPW4uZ2V0UHJvcGVydHlWYWx1ZSh0KXx8blt0XSxhJiZzJiYocz1zLnJlcGxhY2UoVWUsIiQxIil8fHZvaWQgMCksIiIhPT1zfHxhZShlKXx8KHM9Qy5zdHlsZShlLHQpKSwhbS5waXhlbEJveFN0eWxlcygpJiZSZS50ZXN0KHMpJiZ6ZS50ZXN0KHQpJiYoaT1sLndpZHRoLHI9bC5taW5XaWR0aCxvPWwubWF4V2lkdGgsbC5taW5XaWR0aD1sLm1heFdpZHRoPWwud2lkdGg9cyxzPW4ud2lkdGgsbC53aWR0aD1pLGwubWluV2lkdGg9cixsLm1heFdpZHRoPW8pKSx2b2lkIDAhPT1zP3MrIiI6c31mdW5jdGlvbiBZZShlLHQpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtpZighZSgpKXJldHVybih0aGlzLmdldD10KS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZGVsZXRlIHRoaXMuZ2V0fX19IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2lmKHUpe2Muc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDt3aWR0aDo2MHB4O21hcmdpbi10b3A6MXB4O3BhZGRpbmc6MDtib3JkZXI6MCIsdS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDtvdmVyZmxvdzpzY3JvbGw7bWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt3aWR0aDo2MCU7dG9wOjElIixzZS5hcHBlbmRDaGlsZChjKS5hcHBlbmRDaGlsZCh1KTt2YXIgZT1pLmdldENvbXB1dGVkU3R5bGUodSk7bj0iMSUiIT09ZS50b3AsbD0xMj09PXQoZS5tYXJnaW5MZWZ0KSx1LnN0eWxlLnJpZ2h0PSI2MCUiLHM9MzY9PT10KGUucmlnaHQpLHI9MzY9PT10KGUud2lkdGgpLHUuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixvPTEyPT09dCh1Lm9mZnNldFdpZHRoLzMpLHNlLnJlbW92ZUNoaWxkKGMpLHU9bnVsbH19ZnVuY3Rpb24gdChlKXtyZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGUpKX12YXIgbixyLG8scyxhLGwsYz1iLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHU9Yi5jcmVhdGVFbGVtZW50KCJkaXYiKTt1LnN0eWxlJiYodS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iY29udGVudC1ib3giLHUuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iIixtLmNsZWFyQ2xvbmVTdHlsZT0iY29udGVudC1ib3giPT09dS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxDLmV4dGVuZChtLHtib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBlKCkscn0scGl4ZWxCb3hTdHlsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHBpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLG59LHJlbGlhYmxlTWFyZ2luTGVmdDpmdW5jdGlvbigpe3JldHVybiBlKCksbH0sc2Nyb2xsYm94U2l6ZTpmdW5jdGlvbigpe3JldHVybiBlKCksb30scmVsaWFibGVUckRpbWVuc2lvbnM6ZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtyZXR1cm4gbnVsbD09YSYmKGU9Yi5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpLHQ9Yi5jcmVhdGVFbGVtZW50KCJ0ciIpLG49Yi5jcmVhdGVFbGVtZW50KCJkaXYiKSxlLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7Ym9yZGVyLWNvbGxhcHNlOnNlcGFyYXRlIix0LnN0eWxlLmNzc1RleHQ9ImJvcmRlcjoxcHggc29saWQiLHQuc3R5bGUuaGVpZ2h0PSIxcHgiLG4uc3R5bGUuaGVpZ2h0PSI5cHgiLG4uc3R5bGUuZGlzcGxheT0iYmxvY2siLHNlLmFwcGVuZENoaWxkKGUpLmFwcGVuZENoaWxkKHQpLmFwcGVuZENoaWxkKG4pLHI9aS5nZXRDb21wdXRlZFN0eWxlKHQpLGE9cGFyc2VJbnQoci5oZWlnaHQsMTApK3BhcnNlSW50KHIuYm9yZGVyVG9wV2lkdGgsMTApK3BhcnNlSW50KHIuYm9yZGVyQm90dG9tV2lkdGgsMTApPT09dC5vZmZzZXRIZWlnaHQsc2UucmVtb3ZlQ2hpbGQoZSkpLGF9fSkpfSgpO3ZhciBYZT1bIldlYmtpdCIsIk1veiIsIm1zIl0sSmU9Yi5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZSxLZT17fTtmdW5jdGlvbiBHZShlKXt2YXIgdD1DLmNzc1Byb3BzW2VdfHxLZVtlXTtyZXR1cm4gdHx8KGUgaW4gSmU/ZTpLZVtlXT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1YZS5sZW5ndGg7bi0tOylpZigoZT1YZVtuXSt0KWluIEplKXJldHVybiBlfShlKXx8ZSl9dmFyIFplPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxldD17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sdHQ9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9O2Z1bmN0aW9uIG50KGUsdCxuKXt2YXIgaT1yZS5leGVjKHQpO3JldHVybiBpP01hdGgubWF4KDAsaVsyXS0obnx8MCkpKyhpWzNdfHwicHgiKTp0fWZ1bmN0aW9uIGl0KGUsdCxuLGkscixvKXt2YXIgcz0id2lkdGgiPT09dD8xOjAsYT0wLGw9MDtpZihuPT09KGk/ImJvcmRlciI6ImNvbnRlbnQiKSlyZXR1cm4gMDtmb3IoO3M8NDtzKz0yKSJtYXJnaW4iPT09biYmKGwrPUMuY3NzKGUsbitvZVtzXSwhMCxyKSksaT8oImNvbnRlbnQiPT09biYmKGwtPUMuY3NzKGUsInBhZGRpbmciK29lW3NdLCEwLHIpKSwibWFyZ2luIiE9PW4mJihsLT1DLmNzcyhlLCJib3JkZXIiK29lW3NdKyJXaWR0aCIsITAscikpKToobCs9Qy5jc3MoZSwicGFkZGluZyIrb2Vbc10sITAsciksInBhZGRpbmciIT09bj9sKz1DLmNzcyhlLCJib3JkZXIiK29lW3NdKyJXaWR0aCIsITAscik6YSs9Qy5jc3MoZSwiYm9yZGVyIitvZVtzXSsiV2lkdGgiLCEwLHIpKTtyZXR1cm4haSYmbz49MCYmKGwrPU1hdGgubWF4KDAsTWF0aC5jZWlsKGVbIm9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldLW8tbC1hLS41KSl8fDApLGx9ZnVuY3Rpb24gcnQoZSx0LG4pe3ZhciBpPVdlKGUpLHI9KCFtLmJveFNpemluZ1JlbGlhYmxlKCl8fG4pJiYiYm9yZGVyLWJveCI9PT1DLmNzcyhlLCJib3hTaXppbmciLCExLGkpLG89cixzPVFlKGUsdCxpKSxhPSJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpO2lmKFJlLnRlc3Qocykpe2lmKCFuKXJldHVybiBzO3M9ImF1dG8ifXJldHVybighbS5ib3hTaXppbmdSZWxpYWJsZSgpJiZyfHwhbS5yZWxpYWJsZVRyRGltZW5zaW9ucygpJiZqKGUsInRyIil8fCJhdXRvIj09PXN8fCFwYXJzZUZsb2F0KHMpJiYiaW5saW5lIj09PUMuY3NzKGUsImRpc3BsYXkiLCExLGkpKSYmZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmKHI9ImJvcmRlci1ib3giPT09Qy5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSwobz1hIGluIGUpJiYocz1lW2FdKSksKHM9cGFyc2VGbG9hdChzKXx8MCkraXQoZSx0LG58fChyPyJib3JkZXIiOiJjb250ZW50IiksbyxpLHMpKyJweCJ9ZnVuY3Rpb24gb3QoZSx0LG4saSxyKXtyZXR1cm4gbmV3IG90LnByb3RvdHlwZS5pbml0KGUsdCxuLGkscil9Qy5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oZSx0KXtpZih0KXt2YXIgbj1RZShlLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1uPyIxIjpufX19fSxjc3NOdW1iZXI6e2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiEwLGNvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxncmlkQXJlYTohMCxncmlkQ29sdW1uOiEwLGdyaWRDb2x1bW5FbmQ6ITAsZ3JpZENvbHVtblN0YXJ0OiEwLGdyaWRSb3c6ITAsZ3JpZFJvd0VuZDohMCxncmlkUm93U3RhcnQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7fSxzdHlsZTpmdW5jdGlvbihlLHQsbixpKXtpZihlJiYzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGUmJmUuc3R5bGUpe3ZhciByLG8scyxhPVgodCksbD1GZS50ZXN0KHQpLGM9ZS5zdHlsZTtpZihsfHwodD1HZShhKSkscz1DLmNzc0hvb2tzW3RdfHxDLmNzc0hvb2tzW2FdLHZvaWQgMD09PW4pcmV0dXJuIHMmJiJnZXQiaW4gcyYmdm9pZCAwIT09KHI9cy5nZXQoZSwhMSxpKSk/cjpjW3RdOyJzdHJpbmciPT09KG89dHlwZW9mIG4pJiYocj1yZS5leGVjKG4pKSYmclsxXSYmKG49dWUoZSx0LHIpLG89Im51bWJlciIpLG51bGwhPW4mJm49PW4mJigibnVtYmVyIiE9PW98fGx8fChuKz1yJiZyWzNdfHwoQy5jc3NOdW1iZXJbYV0/IiI6InB4IikpLG0uY2xlYXJDbG9uZVN0eWxlfHwiIiE9PW58fDAhPT10LmluZGV4T2YoImJhY2tncm91bmQiKXx8KGNbdF09ImluaGVyaXQiKSxzJiYic2V0ImluIHMmJnZvaWQgMD09PShuPXMuc2V0KGUsbixpKSl8fChsP2Muc2V0UHJvcGVydHkodCxuKTpjW3RdPW4pKX19LGNzczpmdW5jdGlvbihlLHQsbixpKXt2YXIgcixvLHMsYT1YKHQpO3JldHVybiBGZS50ZXN0KHQpfHwodD1HZShhKSksKHM9Qy5jc3NIb29rc1t0XXx8Qy5jc3NIb29rc1thXSkmJiJnZXQiaW4gcyYmKHI9cy5nZXQoZSwhMCxuKSksdm9pZCAwPT09ciYmKHI9UWUoZSx0LGkpKSwibm9ybWFsIj09PXImJnQgaW4gdHQmJihyPXR0W3RdKSwiIj09PW58fG4/KG89cGFyc2VGbG9hdChyKSwhMD09PW58fGlzRmluaXRlKG8pP298fDA6cik6cn19KSxDLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLChmdW5jdGlvbihlLHQpe0MuY3NzSG9va3NbdF09e2dldDpmdW5jdGlvbihlLG4saSl7aWYobilyZXR1cm4hWmUudGVzdChDLmNzcyhlLCJkaXNwbGF5IikpfHxlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiZlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoP3J0KGUsdCxpKTpCZShlLGV0LChmdW5jdGlvbigpe3JldHVybiBydChlLHQsaSl9KSl9LHNldDpmdW5jdGlvbihlLG4saSl7dmFyIHIsbz1XZShlKSxzPSFtLnNjcm9sbGJveFNpemUoKSYmImFic29sdXRlIj09PW8ucG9zaXRpb24sYT0oc3x8aSkmJiJib3JkZXItYm94Ij09PUMuY3NzKGUsImJveFNpemluZyIsITEsbyksbD1pP2l0KGUsdCxpLGEsbyk6MDtyZXR1cm4gYSYmcyYmKGwtPU1hdGguY2VpbChlWyJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1wYXJzZUZsb2F0KG9bdF0pLWl0KGUsdCwiYm9yZGVyIiwhMSxvKS0uNSkpLGwmJihyPXJlLmV4ZWMobikpJiYicHgiIT09KHJbM118fCJweCIpJiYoZS5zdHlsZVt0XT1uLG49Qy5jc3MoZSx0KSksbnQoMCxuLGwpfX19KSksQy5jc3NIb29rcy5tYXJnaW5MZWZ0PVllKG0ucmVsaWFibGVNYXJnaW5MZWZ0LChmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoUWUoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LUJlKGUse21hcmdpbkxlZnQ6MH0sKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH0pKSkrInB4In0pKSxDLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSwoZnVuY3Rpb24oZSx0KXtDLmNzc0hvb2tzW2UrdF09e2V4cGFuZDpmdW5jdGlvbihuKXtmb3IodmFyIGk9MCxyPXt9LG89InN0cmluZyI9PXR5cGVvZiBuP24uc3BsaXQoIiAiKTpbbl07aTw0O2krKylyW2Urb2VbaV0rdF09b1tpXXx8b1tpLTJdfHxvWzBdO3JldHVybiByfX0sIm1hcmdpbiIhPT1lJiYoQy5jc3NIb29rc1tlK3RdLnNldD1udCl9KSksQy5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihlLHQpe3JldHVybiBWKHRoaXMsKGZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyLG89e30scz0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihpPVdlKGUpLHI9dC5sZW5ndGg7czxyO3MrKylvW3Rbc11dPUMuY3NzKGUsdFtzXSwhMSxpKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9DLnN0eWxlKGUsdCxuKTpDLmNzcyhlLHQpfSksZSx0LGFyZ3VtZW50cy5sZW5ndGg+MSl9fSksQy5Ud2Vlbj1vdCxvdC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm90LGluaXQ6ZnVuY3Rpb24oZSx0LG4saSxyLG8pe3RoaXMuZWxlbT1lLHRoaXMucHJvcD1uLHRoaXMuZWFzaW5nPXJ8fEMuZWFzaW5nLl9kZWZhdWx0LHRoaXMub3B0aW9ucz10LHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1pLHRoaXMudW5pdD1vfHwoQy5jc3NOdW1iZXJbbl0/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBlPW90LnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBlJiZlLmdldD9lLmdldCh0aGlzKTpvdC5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oZSl7dmFyIHQsbj1vdC5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPXQ9Qy5lYXNpbmdbdGhpcy5lYXNpbmddKGUsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmUsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9dD1lLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSp0K3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLG4mJm4uc2V0P24uc2V0KHRoaXMpOm90LnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LG90LnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1vdC5wcm90b3R5cGUsb3QucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9Qy5jc3MoZS5lbGVtLGUucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe0MuZnguc3RlcFtlLnByb3BdP0MuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fCFDLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVtHZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpDLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSxvdC5wcm9wSG9va3Muc2Nyb2xsVG9wPW90LnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LEMuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn0sQy5meD1vdC5wcm90b3R5cGUuaW5pdCxDLmZ4LnN0ZXA9e307dmFyIHN0LGF0LGx0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxjdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIHV0KCl7YXQmJighMT09PWIuaGlkZGVuJiZpLnJlcXVlc3RBbmltYXRpb25GcmFtZT9pLnJlcXVlc3RBbmltYXRpb25GcmFtZSh1dCk6aS5zZXRUaW1lb3V0KHV0LEMuZnguaW50ZXJ2YWwpLEMuZngudGljaygpKX1mdW5jdGlvbiBmdCgpe3JldHVybiBpLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7c3Q9dm9pZCAwfSkpLHN0PURhdGUubm93KCl9ZnVuY3Rpb24gZHQoZSx0KXt2YXIgbixpPTAscj17aGVpZ2h0OmV9O2Zvcih0PXQ/MTowO2k8NDtpKz0yLXQpclsibWFyZ2luIisobj1vZVtpXSldPXJbInBhZGRpbmciK25dPWU7cmV0dXJuIHQmJihyLm9wYWNpdHk9ci53aWR0aD1lKSxyfWZ1bmN0aW9uIHB0KGUsdCxuKXtmb3IodmFyIGkscj0oaHQudHdlZW5lcnNbdF18fFtdKS5jb25jYXQoaHQudHdlZW5lcnNbIioiXSksbz0wLHM9ci5sZW5ndGg7bzxzO28rKylpZihpPXJbb10uY2FsbChuLHQsZSkpcmV0dXJuIGl9ZnVuY3Rpb24gaHQoZSx0LG4pe3ZhciBpLHIsbz0wLHM9aHQucHJlZmlsdGVycy5sZW5ndGgsYT1DLkRlZmVycmVkKCkuYWx3YXlzKChmdW5jdGlvbigpe2RlbGV0ZSBsLmVsZW19KSksbD1mdW5jdGlvbigpe2lmKHIpcmV0dXJuITE7Zm9yKHZhciB0PXN0fHxmdCgpLG49TWF0aC5tYXgoMCxjLnN0YXJ0VGltZStjLmR1cmF0aW9uLXQpLGk9MS0obi9jLmR1cmF0aW9ufHwwKSxvPTAscz1jLnR3ZWVucy5sZW5ndGg7bzxzO28rKyljLnR3ZWVuc1tvXS5ydW4oaSk7cmV0dXJuIGEubm90aWZ5V2l0aChlLFtjLGksbl0pLGk8MSYmcz9uOihzfHxhLm5vdGlmeVdpdGgoZSxbYywxLDBdKSxhLnJlc29sdmVXaXRoKGUsW2NdKSwhMSl9LGM9YS5wcm9taXNlKHtlbGVtOmUscHJvcHM6Qy5leHRlbmQoe30sdCksb3B0czpDLmV4dGVuZCghMCx7c3BlY2lhbEVhc2luZzp7fSxlYXNpbmc6Qy5lYXNpbmcuX2RlZmF1bHR9LG4pLG9yaWdpbmFsUHJvcGVydGllczp0LG9yaWdpbmFsT3B0aW9uczpuLHN0YXJ0VGltZTpzdHx8ZnQoKSxkdXJhdGlvbjpuLmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbih0LG4pe3ZhciBpPUMuVHdlZW4oZSxjLm9wdHMsdCxuLGMub3B0cy5zcGVjaWFsRWFzaW5nW3RdfHxjLm9wdHMuZWFzaW5nKTtyZXR1cm4gYy50d2VlbnMucHVzaChpKSxpfSxzdG9wOmZ1bmN0aW9uKHQpe3ZhciBuPTAsaT10P2MudHdlZW5zLmxlbmd0aDowO2lmKHIpcmV0dXJuIHRoaXM7Zm9yKHI9ITA7bjxpO24rKyljLnR3ZWVuc1tuXS5ydW4oMSk7cmV0dXJuIHQ/KGEubm90aWZ5V2l0aChlLFtjLDEsMF0pLGEucmVzb2x2ZVdpdGgoZSxbYyx0XSkpOmEucmVqZWN0V2l0aChlLFtjLHRdKSx0aGlzfX0pLHU9Yy5wcm9wcztmb3IoIWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyLG8scztmb3IobiBpbiBlKWlmKHI9dFtpPVgobildLG89ZVtuXSxBcnJheS5pc0FycmF5KG8pJiYocj1vWzFdLG89ZVtuXT1vWzBdKSxuIT09aSYmKGVbaV09byxkZWxldGUgZVtuXSksKHM9Qy5jc3NIb29rc1tpXSkmJiJleHBhbmQiaW4gcylmb3IobiBpbiBvPXMuZXhwYW5kKG8pLGRlbGV0ZSBlW2ldLG8pbiBpbiBlfHwoZVtuXT1vW25dLHRbbl09cik7ZWxzZSB0W2ldPXJ9KHUsYy5vcHRzLnNwZWNpYWxFYXNpbmcpO288cztvKyspaWYoaT1odC5wcmVmaWx0ZXJzW29dLmNhbGwoYyxlLHUsYy5vcHRzKSlyZXR1cm4gdihpLnN0b3ApJiYoQy5fcXVldWVIb29rcyhjLmVsZW0sYy5vcHRzLnF1ZXVlKS5zdG9wPWkuc3RvcC5iaW5kKGkpKSxpO3JldHVybiBDLm1hcCh1LHB0LGMpLHYoYy5vcHRzLnN0YXJ0KSYmYy5vcHRzLnN0YXJ0LmNhbGwoZSxjKSxjLnByb2dyZXNzKGMub3B0cy5wcm9ncmVzcykuZG9uZShjLm9wdHMuZG9uZSxjLm9wdHMuY29tcGxldGUpLmZhaWwoYy5vcHRzLmZhaWwpLmFsd2F5cyhjLm9wdHMuYWx3YXlzKSxDLmZ4LnRpbWVyKEMuZXh0ZW5kKGwse2VsZW06ZSxhbmltOmMscXVldWU6Yy5vcHRzLnF1ZXVlfSkpLGN9Qy5BbmltYXRpb249Qy5leHRlbmQoaHQse3R3ZWVuZXJzOnsiKiI6W2Z1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jcmVhdGVUd2VlbihlLHQpO3JldHVybiB1ZShuLmVsZW0sZSxyZS5leGVjKHQpLG4pLG59XX0sdHdlZW5lcjpmdW5jdGlvbihlLHQpe3YoZSk/KHQ9ZSxlPVsiKiJdKTplPWUubWF0Y2goSCk7Zm9yKHZhciBuLGk9MCxyPWUubGVuZ3RoO2k8cjtpKyspbj1lW2ldLGh0LnR3ZWVuZXJzW25dPWh0LnR3ZWVuZXJzW25dfHxbXSxodC50d2VlbmVyc1tuXS51bnNoaWZ0KHQpfSxwcmVmaWx0ZXJzOltmdW5jdGlvbihlLHQsbil7dmFyIGkscixvLHMsYSxsLGMsdSxmPSJ3aWR0aCJpbiB0fHwiaGVpZ2h0ImluIHQsZD10aGlzLHA9e30saD1lLnN0eWxlLGc9ZS5ub2RlVHlwZSYmY2UoZSksbT1HLmdldChlLCJmeHNob3ciKTtmb3IoaSBpbiBuLnF1ZXVlfHwobnVsbD09KHM9Qy5fcXVldWVIb29rcyhlLCJmeCIpKS51bnF1ZXVlZCYmKHMudW5xdWV1ZWQ9MCxhPXMuZW1wdHkuZmlyZSxzLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXtzLnVucXVldWVkfHxhKCl9KSxzLnVucXVldWVkKyssZC5hbHdheXMoKGZ1bmN0aW9uKCl7ZC5hbHdheXMoKGZ1bmN0aW9uKCl7cy51bnF1ZXVlZC0tLEMucXVldWUoZSwiZngiKS5sZW5ndGh8fHMuZW1wdHkuZmlyZSgpfSkpfSkpKSx0KWlmKHI9dFtpXSxsdC50ZXN0KHIpKXtpZihkZWxldGUgdFtpXSxvPW98fCJ0b2dnbGUiPT09cixyPT09KGc/ImhpZGUiOiJzaG93Iikpe2lmKCJzaG93IiE9PXJ8fCFtfHx2b2lkIDA9PT1tW2ldKWNvbnRpbnVlO2c9ITB9cFtpXT1tJiZtW2ldfHxDLnN0eWxlKGUsaSl9aWYoKGw9IUMuaXNFbXB0eU9iamVjdCh0KSl8fCFDLmlzRW1wdHlPYmplY3QocCkpZm9yKGkgaW4gZiYmMT09PWUubm9kZVR5cGUmJihuLm92ZXJmbG93PVtoLm92ZXJmbG93LGgub3ZlcmZsb3dYLGgub3ZlcmZsb3dZXSxudWxsPT0oYz1tJiZtLmRpc3BsYXkpJiYoYz1HLmdldChlLCJkaXNwbGF5IikpLCJub25lIj09PSh1PUMuY3NzKGUsImRpc3BsYXkiKSkmJihjP3U9YzoocGUoW2VdLCEwKSxjPWUuc3R5bGUuZGlzcGxheXx8Yyx1PUMuY3NzKGUsImRpc3BsYXkiKSxwZShbZV0pKSksKCJpbmxpbmUiPT09dXx8ImlubGluZS1ibG9jayI9PT11JiZudWxsIT1jKSYmIm5vbmUiPT09Qy5jc3MoZSwiZmxvYXQiKSYmKGx8fChkLmRvbmUoKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWN9KSksbnVsbD09YyYmKHU9aC5kaXNwbGF5LGM9Im5vbmUiPT09dT8iIjp1KSksaC5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSksbi5vdmVyZmxvdyYmKGgub3ZlcmZsb3c9ImhpZGRlbiIsZC5hbHdheXMoKGZ1bmN0aW9uKCl7aC5vdmVyZmxvdz1uLm92ZXJmbG93WzBdLGgub3ZlcmZsb3dYPW4ub3ZlcmZsb3dbMV0saC5vdmVyZmxvd1k9bi5vdmVyZmxvd1syXX0pKSksbD0hMSxwKWx8fChtPyJoaWRkZW4iaW4gbSYmKGc9bS5oaWRkZW4pOm09Ry5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpjfSksbyYmKG0uaGlkZGVuPSFnKSxnJiZwZShbZV0sITApLGQuZG9uZSgoZnVuY3Rpb24oKXtmb3IoaSBpbiBnfHxwZShbZV0pLEcucmVtb3ZlKGUsImZ4c2hvdyIpLHApQy5zdHlsZShlLGkscFtpXSl9KSkpLGw9cHQoZz9tW2ldOjAsaSxkKSxpIGluIG18fChtW2ldPWwuc3RhcnQsZyYmKGwuZW5kPWwuc3RhcnQsbC5zdGFydD0wKSl9XSxwcmVmaWx0ZXI6ZnVuY3Rpb24oZSx0KXt0P2h0LnByZWZpbHRlcnMudW5zaGlmdChlKTpodC5wcmVmaWx0ZXJzLnB1c2goZSl9fSksQy5zcGVlZD1mdW5jdGlvbihlLHQsbil7dmFyIGk9ZSYmIm9iamVjdCI9PXR5cGVvZiBlP0MuZXh0ZW5kKHt9LGUpOntjb21wbGV0ZTpufHwhbiYmdHx8dihlKSYmZSxkdXJhdGlvbjplLGVhc2luZzpuJiZ0fHx0JiYhdih0KSYmdH07cmV0dXJuIEMuZngub2ZmP2kuZHVyYXRpb249MDoibnVtYmVyIiE9dHlwZW9mIGkuZHVyYXRpb24mJihpLmR1cmF0aW9uIGluIEMuZnguc3BlZWRzP2kuZHVyYXRpb249Qy5meC5zcGVlZHNbaS5kdXJhdGlvbl06aS5kdXJhdGlvbj1DLmZ4LnNwZWVkcy5fZGVmYXVsdCksbnVsbCE9aS5xdWV1ZSYmITAhPT1pLnF1ZXVlfHwoaS5xdWV1ZT0iZngiKSxpLm9sZD1pLmNvbXBsZXRlLGkuY29tcGxldGU9ZnVuY3Rpb24oKXt2KGkub2xkKSYmaS5vbGQuY2FsbCh0aGlzKSxpLnF1ZXVlJiZDLmRlcXVldWUodGhpcyxpLnF1ZXVlKX0saX0sQy5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gdGhpcy5maWx0ZXIoY2UpLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6dH0sZSxuLGkpfSxhbmltYXRlOmZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByPUMuaXNFbXB0eU9iamVjdChlKSxvPUMuc3BlZWQodCxuLGkpLHM9ZnVuY3Rpb24oKXt2YXIgdD1odCh0aGlzLEMuZXh0ZW5kKHt9LGUpLG8pOyhyfHxHLmdldCh0aGlzLCJmaW5pc2giKSkmJnQuc3RvcCghMCl9O3JldHVybiBzLmZpbmlzaD1zLHJ8fCExPT09by5xdWV1ZT90aGlzLmVhY2gocyk6dGhpcy5xdWV1ZShvLnF1ZXVlLHMpfSxzdG9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1mdW5jdGlvbihlKXt2YXIgdD1lLnN0b3A7ZGVsZXRlIGUuc3RvcCx0KG4pfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGUmJihuPXQsdD1lLGU9dm9pZCAwKSx0JiZ0aGlzLnF1ZXVlKGV8fCJmeCIsW10pLHRoaXMuZWFjaCgoZnVuY3Rpb24oKXt2YXIgdD0hMCxyPW51bGwhPWUmJmUrInF1ZXVlSG9va3MiLG89Qy50aW1lcnMscz1HLmdldCh0aGlzKTtpZihyKXNbcl0mJnNbcl0uc3RvcCYmaShzW3JdKTtlbHNlIGZvcihyIGluIHMpc1tyXSYmc1tyXS5zdG9wJiZjdC50ZXN0KHIpJiZpKHNbcl0pO2ZvcihyPW8ubGVuZ3RoO3ItLTspb1tyXS5lbGVtIT09dGhpc3x8bnVsbCE9ZSYmb1tyXS5xdWV1ZSE9PWV8fChvW3JdLmFuaW0uc3RvcChuKSx0PSExLG8uc3BsaWNlKHIsMSkpOyF0JiZufHxDLmRlcXVldWUodGhpcyxlKX0pKX0sZmluaXNoOmZ1bmN0aW9uKGUpe3JldHVybiExIT09ZSYmKGU9ZXx8ImZ4IiksdGhpcy5lYWNoKChmdW5jdGlvbigpe3ZhciB0LG49Ry5nZXQodGhpcyksaT1uW2UrInF1ZXVlIl0scj1uW2UrInF1ZXVlSG9va3MiXSxvPUMudGltZXJzLHM9aT9pLmxlbmd0aDowO2ZvcihuLmZpbmlzaD0hMCxDLnF1ZXVlKHRoaXMsZSxbXSksciYmci5zdG9wJiZyLnN0b3AuY2FsbCh0aGlzLCEwKSx0PW8ubGVuZ3RoO3QtLTspb1t0XS5lbGVtPT09dGhpcyYmb1t0XS5xdWV1ZT09PWUmJihvW3RdLmFuaW0uc3RvcCghMCksby5zcGxpY2UodCwxKSk7Zm9yKHQ9MDt0PHM7dCsrKWlbdF0mJmlbdF0uZmluaXNoJiZpW3RdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBuLmZpbmlzaH0pKX19KSxDLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLChmdW5jdGlvbihlLHQpe3ZhciBuPUMuZm5bdF07Qy5mblt0XT1mdW5jdGlvbihlLGkscil7cmV0dXJuIG51bGw9PWV8fCJib29sZWFuIj09dHlwZW9mIGU/bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKGR0KHQsITApLGUsaSxyKX19KSksQy5lYWNoKHtzbGlkZURvd246ZHQoInNob3ciKSxzbGlkZVVwOmR0KCJoaWRlIiksc2xpZGVUb2dnbGU6ZHQoInRvZ2dsZSIpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sKGZ1bmN0aW9uKGUsdCl7Qy5mbltlXT1mdW5jdGlvbihlLG4saSl7cmV0dXJuIHRoaXMuYW5pbWF0ZSh0LGUsbixpKX19KSksQy50aW1lcnM9W10sQy5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGUsdD0wLG49Qy50aW1lcnM7Zm9yKHN0PURhdGUubm93KCk7dDxuLmxlbmd0aDt0KyspKGU9blt0XSkoKXx8blt0XSE9PWV8fG4uc3BsaWNlKHQtLSwxKTtuLmxlbmd0aHx8Qy5meC5zdG9wKCksc3Q9dm9pZCAwfSxDLmZ4LnRpbWVyPWZ1bmN0aW9uKGUpe0MudGltZXJzLnB1c2goZSksQy5meC5zdGFydCgpfSxDLmZ4LmludGVydmFsPTEzLEMuZnguc3RhcnQ9ZnVuY3Rpb24oKXthdHx8KGF0PSEwLHV0KCkpfSxDLmZ4LnN0b3A9ZnVuY3Rpb24oKXthdD1udWxsfSxDLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxDLmZuLmRlbGF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9Qy5meCYmQy5meC5zcGVlZHNbZV18fGUsdD10fHwiZngiLHRoaXMucXVldWUodCwoZnVuY3Rpb24odCxuKXt2YXIgcj1pLnNldFRpbWVvdXQodCxlKTtuLnN0b3A9ZnVuY3Rpb24oKXtpLmNsZWFyVGltZW91dChyKX19KSl9LGZ1bmN0aW9uKCl7dmFyIGU9Yi5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLHQ9Yi5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKS5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTtlLnR5cGU9ImNoZWNrYm94IixtLmNoZWNrT249IiIhPT1lLnZhbHVlLG0ub3B0U2VsZWN0ZWQ9dC5zZWxlY3RlZCwoZT1iLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0IixlLnR5cGU9InJhZGlvIixtLnJhZGlvVmFsdWU9InQiPT09ZS52YWx1ZX0oKTt2YXIgZ3QsbXQ9Qy5leHByLmF0dHJIYW5kbGU7Qy5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gVih0aGlzLEMuYXR0cixlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKChmdW5jdGlvbigpe0MucmVtb3ZlQXR0cih0aGlzLGUpfSkpfX0pLEMuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiB2b2lkIDA9PT1lLmdldEF0dHJpYnV0ZT9DLnByb3AoZSx0LG4pOigxPT09byYmQy5pc1hNTERvYyhlKXx8KHI9Qy5hdHRySG9va3NbdC50b0xvd2VyQ2FzZSgpXXx8KEMuZXhwci5tYXRjaC5ib29sLnRlc3QodCk/Z3Q6dm9pZCAwKSksdm9pZCAwIT09bj9udWxsPT09bj92b2lkIEMucmVtb3ZlQXR0cihlLHQpOnImJiJzZXQiaW4gciYmdm9pZCAwIT09KGk9ci5zZXQoZSxuLHQpKT9pOihlLnNldEF0dHJpYnV0ZSh0LG4rIiIpLG4pOnImJiJnZXQiaW4gciYmbnVsbCE9PShpPXIuZ2V0KGUsdCkpP2k6bnVsbD09KGk9Qy5maW5kLmF0dHIoZSx0KSk/dm9pZCAwOmkpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihlLHQpe2lmKCFtLnJhZGlvVmFsdWUmJiJyYWRpbyI9PT10JiZqKGUsImlucHV0Iikpe3ZhciBuPWUudmFsdWU7cmV0dXJuIGUuc2V0QXR0cmlidXRlKCJ0eXBlIix0KSxuJiYoZS52YWx1ZT1uKSx0fX19fSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUsdCl7dmFyIG4saT0wLHI9dCYmdC5tYXRjaChIKTtpZihyJiYxPT09ZS5ub2RlVHlwZSlmb3IoO249cltpKytdOyllLnJlbW92ZUF0dHJpYnV0ZShuKX19KSxndD17c2V0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hMT09PXQ/Qy5yZW1vdmVBdHRyKGUsbik6ZS5zZXRBdHRyaWJ1dGUobixuKSxufX0sQy5lYWNoKEMuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXHcrL2cpLChmdW5jdGlvbihlLHQpe3ZhciBuPW10W3RdfHxDLmZpbmQuYXR0cjttdFt0XT1mdW5jdGlvbihlLHQsaSl7dmFyIHIsbyxzPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gaXx8KG89bXRbc10sbXRbc109cixyPW51bGwhPW4oZSx0LGkpP3M6bnVsbCxtdFtzXT1vKSxyfX0pKTt2YXIgdnQ9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSx5dD0vXig/OmF8YXJlYSkkL2k7ZnVuY3Rpb24gYnQoZSl7cmV0dXJuKGUubWF0Y2goSCl8fFtdKS5qb2luKCIgIil9ZnVuY3Rpb24geHQoZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiJ9ZnVuY3Rpb24gX3QoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZToic3RyaW5nIj09dHlwZW9mIGUmJmUubWF0Y2goSCl8fFtdfUMuZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFYodGhpcyxDLnByb3AsZSx0LGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaCgoZnVuY3Rpb24oKXtkZWxldGUgdGhpc1tDLnByb3BGaXhbZV18fGVdfSkpfX0pLEMuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmQy5pc1hNTERvYyhlKXx8KHQ9Qy5wcm9wRml4W3RdfHx0LHI9Qy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/ciYmInNldCJpbiByJiZ2b2lkIDAhPT0oaT1yLnNldChlLG4sdCkpP2k6ZVt0XT1uOnImJiJnZXQiaW4gciYmbnVsbCE9PShpPXIuZ2V0KGUsdCkpP2k6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PUMuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6dnQudGVzdChlLm5vZGVOYW1lKXx8eXQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7Zm9yOiJodG1sRm9yIixjbGFzczoiY2xhc3NOYW1lIn19KSxtLm9wdFNlbGVjdGVkfHwoQy5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJnQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsbnVsbH0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTt0JiYodC5zZWxlY3RlZEluZGV4LHQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfX0pLEMuZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLChmdW5jdGlvbigpe0MucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSksQy5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyLG8scztyZXR1cm4gdihlKT90aGlzLmVhY2goKGZ1bmN0aW9uKHQpe0ModGhpcykuYWRkQ2xhc3MoZS5jYWxsKHRoaXMsdCx4dCh0aGlzKSkpfSkpOih0PV90KGUpKS5sZW5ndGg/dGhpcy5lYWNoKChmdW5jdGlvbigpe2lmKGk9eHQodGhpcyksbj0xPT09dGhpcy5ub2RlVHlwZSYmIiAiK2J0KGkpKyIgIil7Zm9yKG89MDtvPHQubGVuZ3RoO28rKylyPXRbb10sbi5pbmRleE9mKCIgIityKyIgIik8MCYmKG4rPXIrIiAiKTtzPWJ0KG4pLGkhPT1zJiZ0aGlzLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfX0pKTp0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLGkscixvLHM7cmV0dXJuIHYoZSk/dGhpcy5lYWNoKChmdW5jdGlvbih0KXtDKHRoaXMpLnJlbW92ZUNsYXNzKGUuY2FsbCh0aGlzLHQseHQodGhpcykpKX0pKTphcmd1bWVudHMubGVuZ3RoPyh0PV90KGUpKS5sZW5ndGg/dGhpcy5lYWNoKChmdW5jdGlvbigpe2lmKGk9eHQodGhpcyksbj0xPT09dGhpcy5ub2RlVHlwZSYmIiAiK2J0KGkpKyIgIil7Zm9yKG89MDtvPHQubGVuZ3RoO28rKylmb3Iocj10W29dO24uaW5kZXhPZigiICIrcisiICIpPi0xOyluPW4ucmVwbGFjZSgiICIrcisiICIsIiAiKTtzPWJ0KG4pLGkhPT1zJiZ0aGlzLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfX0pKTp0aGlzOnRoaXMuYXR0cigiY2xhc3MiLCIiKX0sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oZSx0KXt2YXIgbixpLHIsbyxzPXR5cGVvZiBlLGE9InN0cmluZyI9PT1zfHxBcnJheS5pc0FycmF5KGUpO3JldHVybiB2KGUpP3RoaXMuZWFjaCgoZnVuY3Rpb24obil7Qyh0aGlzKS50b2dnbGVDbGFzcyhlLmNhbGwodGhpcyxuLHh0KHRoaXMpLHQpLHQpfSkpOiJib29sZWFuIj09dHlwZW9mIHQmJmE/dD90aGlzLmFkZENsYXNzKGUpOnRoaXMucmVtb3ZlQ2xhc3MoZSk6KG49X3QoZSksdGhpcy5lYWNoKChmdW5jdGlvbigpe2lmKGEpZm9yKG89Qyh0aGlzKSxyPTA7cjxuLmxlbmd0aDtyKyspaT1uW3JdLG8uaGFzQ2xhc3MoaSk/by5yZW1vdmVDbGFzcyhpKTpvLmFkZENsYXNzKGkpO2Vsc2Ugdm9pZCAwIT09ZSYmImJvb2xlYW4iIT09c3x8KChpPXh0KHRoaXMpKSYmRy5zZXQodGhpcywiX19jbGFzc05hbWVfXyIsaSksdGhpcy5zZXRBdHRyaWJ1dGUmJnRoaXMuc2V0QXR0cmlidXRlKCJjbGFzcyIsaXx8ITE9PT1lPyIiOkcuZ2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpKX0pKSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4saT0wO2Zvcih0PSIgIitlKyIgIjtuPXRoaXNbaSsrXTspaWYoMT09PW4ubm9kZVR5cGUmJigiICIrYnQoeHQobikpKyIgIikuaW5kZXhPZih0KT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KTt2YXIgd3Q9L1xyL2c7Qy5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihlKXt2YXIgdCxuLGkscj10aGlzWzBdO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPXYoZSksdGhpcy5lYWNoKChmdW5jdGlvbihuKXt2YXIgcjsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PShyPWk/ZS5jYWxsKHRoaXMsbixDKHRoaXMpLnZhbCgpKTplKT9yPSIiOiJudW1iZXIiPT10eXBlb2Ygcj9yKz0iIjpBcnJheS5pc0FycmF5KHIpJiYocj1DLm1hcChyLChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjplKyIifSkpKSwodD1DLnZhbEhvb2tzW3RoaXMudHlwZV18fEMudmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkmJiJzZXQiaW4gdCYmdm9pZCAwIT09dC5zZXQodGhpcyxyLCJ2YWx1ZSIpfHwodGhpcy52YWx1ZT1yKSl9KSkpOnI/KHQ9Qy52YWxIb29rc1tyLnR5cGVdfHxDLnZhbEhvb2tzW3Iubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHQmJnZvaWQgMCE9PShuPXQuZ2V0KHIsInZhbHVlIikpP246InN0cmluZyI9PXR5cGVvZihuPXIudmFsdWUpP24ucmVwbGFjZSh3dCwiIik6bnVsbD09bj8iIjpuOnZvaWQgMH19KSxDLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PUMuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpidChDLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHI9ZS5vcHRpb25zLG89ZS5zZWxlY3RlZEluZGV4LHM9InNlbGVjdC1vbmUiPT09ZS50eXBlLGE9cz9udWxsOltdLGw9cz9vKzE6ci5sZW5ndGg7Zm9yKGk9bzwwP2w6cz9vOjA7aTxsO2krKylpZigoKG49cltpXSkuc2VsZWN0ZWR8fGk9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhaihuLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih0PUMobikudmFsKCkscylyZXR1cm4gdDthLnB1c2godCl9cmV0dXJuIGF9LHNldDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixpLHI9ZS5vcHRpb25zLG89Qy5tYWtlQXJyYXkodCkscz1yLmxlbmd0aDtzLS07KSgoaT1yW3NdKS5zZWxlY3RlZD1DLmluQXJyYXkoQy52YWxIb29rcy5vcHRpb24uZ2V0KGkpLG8pPi0xKSYmKG49ITApO3JldHVybiBufHwoZS5zZWxlY3RlZEluZGV4PS0xKSxvfX19fSksQy5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLChmdW5jdGlvbigpe0MudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD1DLmluQXJyYXkoQyhlKS52YWwoKSx0KT4tMX19LG0uY2hlY2tPbnx8KEMudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KSksbS5mb2N1c2luPSJvbmZvY3VzaW4iaW4gaTt2YXIgVHQ9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLEN0PWZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCl9O0MuZXh0ZW5kKEMuZXZlbnQse3RyaWdnZXI6ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8scyxhLGwsYyx1LGYsZCxoPVtufHxiXSxnPXAuY2FsbChlLCJ0eXBlIik/ZS50eXBlOmUsbT1wLmNhbGwoZSwibmFtZXNwYWNlIik/ZS5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihzPWQ9YT1uPW58fGIsMyE9PW4ubm9kZVR5cGUmJjghPT1uLm5vZGVUeXBlJiYhVHQudGVzdChnK0MuZXZlbnQudHJpZ2dlcmVkKSYmKGcuaW5kZXhPZigiLiIpPi0xJiYobT1nLnNwbGl0KCIuIiksZz1tLnNoaWZ0KCksbS5zb3J0KCkpLGM9Zy5pbmRleE9mKCI6Iik8MCYmIm9uIitnLChlPWVbQy5leHBhbmRvXT9lOm5ldyBDLkV2ZW50KGcsIm9iamVjdCI9PXR5cGVvZiBlJiZlKSkuaXNUcmlnZ2VyPXI/MjozLGUubmFtZXNwYWNlPW0uam9pbigiLiIpLGUucm5hbWVzcGFjZT1lLm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIittLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsZS5yZXN1bHQ9dm9pZCAwLGUudGFyZ2V0fHwoZS50YXJnZXQ9biksdD1udWxsPT10P1tlXTpDLm1ha2VBcnJheSh0LFtlXSksZj1DLmV2ZW50LnNwZWNpYWxbZ118fHt9LHJ8fCFmLnRyaWdnZXJ8fCExIT09Zi50cmlnZ2VyLmFwcGx5KG4sdCkpKXtpZighciYmIWYubm9CdWJibGUmJiF5KG4pKXtmb3IobD1mLmRlbGVnYXRlVHlwZXx8ZyxUdC50ZXN0KGwrZyl8fChzPXMucGFyZW50Tm9kZSk7cztzPXMucGFyZW50Tm9kZSloLnB1c2gocyksYT1zO2E9PT0obi5vd25lckRvY3VtZW50fHxiKSYmaC5wdXNoKGEuZGVmYXVsdFZpZXd8fGEucGFyZW50V2luZG93fHxpKX1mb3Iobz0wOyhzPWhbbysrXSkmJiFlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KWQ9cyxlLnR5cGU9bz4xP2w6Zi5iaW5kVHlwZXx8ZywodT0oRy5nZXQocywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJkcuZ2V0KHMsImhhbmRsZSIpKSYmdS5hcHBseShzLHQpLCh1PWMmJnNbY10pJiZ1LmFwcGx5JiZKKHMpJiYoZS5yZXN1bHQ9dS5hcHBseShzLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1nLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGYuX2RlZmF1bHQmJiExIT09Zi5fZGVmYXVsdC5hcHBseShoLnBvcCgpLHQpfHwhSihuKXx8YyYmdihuW2ddKSYmIXkobikmJigoYT1uW2NdKSYmKG5bY109bnVsbCksQy5ldmVudC50cmlnZ2VyZWQ9ZyxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmQuYWRkRXZlbnRMaXN0ZW5lcihnLEN0KSxuW2ddKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZkLnJlbW92ZUV2ZW50TGlzdGVuZXIoZyxDdCksQy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW2NdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1DLmV4dGVuZChuZXcgQy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtDLmV2ZW50LnRyaWdnZXIoaSxudWxsLHQpfX0pLEMuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaCgoZnVuY3Rpb24oKXtDLmV2ZW50LnRyaWdnZXIoZSx0LHRoaXMpfSkpfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXNbMF07aWYobilyZXR1cm4gQy5ldmVudC50cmlnZ2VyKGUsdCxuLCEwKX19KSxtLmZvY3VzaW58fEMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSl7Qy5ldmVudC5zaW11bGF0ZSh0LGUudGFyZ2V0LEMuZXZlbnQuZml4KGUpKX07Qy5ldmVudC5zcGVjaWFsW3RdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBpPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyxyPUcuYWNjZXNzKGksdCk7cnx8aS5hZGRFdmVudExpc3RlbmVyKGUsbiwhMCksRy5hY2Nlc3MoaSx0LChyfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgaT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMscj1HLmFjY2VzcyhpLHQpLTE7cj9HLmFjY2VzcyhpLHQscik6KGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4sITApLEcucmVtb3ZlKGksdCkpfX19KSk7dmFyIEV0PWkubG9jYXRpb24sQXQ9e2d1aWQ6RGF0ZS5ub3coKX0sa3Q9L1w/LztDLnBhcnNlWE1MPWZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoIWV8fCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gbnVsbDt0cnl7dD0obmV3IGkuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSwidGV4dC94bWwiKX1jYXRjaChlKXt9cmV0dXJuIG49dCYmdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKVswXSx0JiYhbnx8Qy5lcnJvcigiSW52YWxpZCBYTUw6ICIrKG4/Qy5tYXAobi5jaGlsZE5vZGVzLChmdW5jdGlvbihlKXtyZXR1cm4gZS50ZXh0Q29udGVudH0pKS5qb2luKCJcbiIpOmUpKSx0fTt2YXIgU3Q9L1xbXF0kLyxEdD0vXHI/XG4vZyxqdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksT3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIE50KGUsdCxuLGkpe3ZhciByO2lmKEFycmF5LmlzQXJyYXkodCkpQy5lYWNoKHQsKGZ1bmN0aW9uKHQscil7bnx8U3QudGVzdChlKT9pKGUscik6TnQoZSsiWyIrKCJvYmplY3QiPT10eXBlb2YgciYmbnVsbCE9cj90OiIiKSsiXSIscixuLGkpfSkpO2Vsc2UgaWYobnx8Im9iamVjdCIhPT13KHQpKWkoZSx0KTtlbHNlIGZvcihyIGluIHQpTnQoZSsiWyIrcisiXSIsdFtyXSxuLGkpfUMucGFyYW09ZnVuY3Rpb24oZSx0KXt2YXIgbixpPVtdLHI9ZnVuY3Rpb24oZSx0KXt2YXIgbj12KHQpP3QoKTp0O2lbaS5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChlKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KG51bGw9PW4/IiI6bil9O2lmKG51bGw9PWUpcmV0dXJuIiI7aWYoQXJyYXkuaXNBcnJheShlKXx8ZS5qcXVlcnkmJiFDLmlzUGxhaW5PYmplY3QoZSkpQy5lYWNoKGUsKGZ1bmN0aW9uKCl7cih0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KSk7ZWxzZSBmb3IobiBpbiBlKU50KG4sZVtuXSx0LHIpO3JldHVybiBpLmpvaW4oIiYiKX0sQy5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBDLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKChmdW5jdGlvbigpe3ZhciBlPUMucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBlP0MubWFrZUFycmF5KGUpOnRoaXN9KSkuZmlsdGVyKChmdW5jdGlvbigpe3ZhciBlPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhQyh0aGlzKS5pcygiOmRpc2FibGVkIikmJk90LnRlc3QodGhpcy5ub2RlTmFtZSkmJiFqdC50ZXN0KGUpJiYodGhpcy5jaGVja2VkfHwhbWUudGVzdChlKSl9KSkubWFwKChmdW5jdGlvbihlLHQpe3ZhciBuPUModGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP0MubWFwKG4sKGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOnQubmFtZSx2YWx1ZTplLnJlcGxhY2UoRHQsIlxyXG4iKX19KSk6e25hbWU6dC5uYW1lLHZhbHVlOm4ucmVwbGFjZShEdCwiXHJcbiIpfX0pKS5nZXQoKX19KTt2YXIgTHQ9LyUyMC9nLE10PS8jLiokLyxQdD0vKFs/Jl0pXz1bXiZdKi8sJHQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxxdD0vXig/OkdFVHxIRUFEKSQvLEh0PS9eXC9cLy8sSXQ9e30sUnQ9e30sRnQ9IiovIi5jb25jYXQoIioiKSxXdD1iLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBCdChlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXsic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iKiIpO3ZhciBpLHI9MCxvPXQudG9Mb3dlckNhc2UoKS5tYXRjaChIKXx8W107aWYodihuKSlmb3IoO2k9b1tyKytdOykiKyI9PT1pWzBdPyhpPWkuc2xpY2UoMSl8fCIqIiwoZVtpXT1lW2ldfHxbXSkudW5zaGlmdChuKSk6KGVbaV09ZVtpXXx8W10pLnB1c2gobil9fWZ1bmN0aW9uIHp0KGUsdCxuLGkpe3ZhciByPXt9LG89ZT09PVJ0O2Z1bmN0aW9uIHMoYSl7dmFyIGw7cmV0dXJuIHJbYV09ITAsQy5lYWNoKGVbYV18fFtdLChmdW5jdGlvbihlLGEpe3ZhciBjPWEodCxuLGkpO3JldHVybiJzdHJpbmciIT10eXBlb2YgY3x8b3x8cltjXT9vPyEobD1jKTp2b2lkIDA6KHQuZGF0YVR5cGVzLnVuc2hpZnQoYykscyhjKSwhMSl9KSksbH1yZXR1cm4gcyh0LmRhdGFUeXBlc1swXSl8fCFyWyIqIl0mJnMoIioiKX1mdW5jdGlvbiBWdChlLHQpe3ZhciBuLGkscj1DLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKG4gaW4gdCl2b2lkIDAhPT10W25dJiYoKHJbbl0/ZTppfHwoaT17fSkpW25dPXRbbl0pO3JldHVybiBpJiZDLmV4dGVuZCghMCxlLGkpLGV9V3QuaHJlZj1FdC5ocmVmLEMuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDpFdC5ocmVmLHR5cGU6IkdFVCIsaXNMb2NhbDovXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLy50ZXN0KEV0LnByb3RvY29sKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsYWNjZXB0czp7IioiOkZ0LHRleHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIseG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQifSxjb250ZW50czp7eG1sOi9cYnhtbFxiLyxodG1sOi9cYmh0bWwvLGpzb246L1xianNvblxiL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCIsanNvbjoicmVzcG9uc2VKU09OIn0sY29udmVydGVyczp7IiogdGV4dCI6U3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOkpTT04ucGFyc2UsInRleHQgeG1sIjpDLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9WdChWdChlLEMuYWpheFNldHRpbmdzKSx0KTpWdChDLmFqYXhTZXR0aW5ncyxlKX0sYWpheFByZWZpbHRlcjpCdChJdCksYWpheFRyYW5zcG9ydDpCdChSdCksYWpheDpmdW5jdGlvbihlLHQpeyJvYmplY3QiPT10eXBlb2YgZSYmKHQ9ZSxlPXZvaWQgMCksdD10fHx7fTt2YXIgbixyLG8scyxhLGwsYyx1LGYsZCxwPUMuYWpheFNldHVwKHt9LHQpLGg9cC5jb250ZXh0fHxwLGc9cC5jb250ZXh0JiYoaC5ub2RlVHlwZXx8aC5qcXVlcnkpP0MoaCk6Qy5ldmVudCxtPUMuRGVmZXJyZWQoKSx2PUMuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHk9cC5zdGF0dXNDb2RlfHx7fSx4PXt9LF89e30sdz0iY2FuY2VsZWQiLFQ9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihlKXt2YXIgdDtpZihjKXtpZighcylmb3Iocz17fTt0PSR0LmV4ZWMobyk7KXNbdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KHNbdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSk7dD1zW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gYz9vOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09YyYmKGU9X1tlLnRvTG93ZXJDYXNlKCldPV9bZS50b0xvd2VyQ2FzZSgpXXx8ZSx4W2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWMmJihwLm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihjKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpeVt0XT1beVt0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dztyZXR1cm4gbiYmbi5hYm9ydCh0KSxFKDAsdCksdGhpc319O2lmKG0ucHJvbWlzZShUKSxwLnVybD0oKGV8fHAudXJsfHxFdC5ocmVmKSsiIikucmVwbGFjZShIdCxFdC5wcm90b2NvbCsiLy8iKSxwLnR5cGU9dC5tZXRob2R8fHQudHlwZXx8cC5tZXRob2R8fHAudHlwZSxwLmRhdGFUeXBlcz0ocC5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKEgpfHxbIiJdLG51bGw9PXAuY3Jvc3NEb21haW4pe2w9Yi5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e2wuaHJlZj1wLnVybCxsLmhyZWY9bC5ocmVmLHAuY3Jvc3NEb21haW49V3QucHJvdG9jb2wrIi8vIitXdC5ob3N0IT1sLnByb3RvY29sKyIvLyIrbC5ob3N0fWNhdGNoKGUpe3AuY3Jvc3NEb21haW49ITB9fWlmKHAuZGF0YSYmcC5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiBwLmRhdGEmJihwLmRhdGE9Qy5wYXJhbShwLmRhdGEscC50cmFkaXRpb25hbCkpLHp0KEl0LHAsdCxUKSxjKXJldHVybiBUO2ZvcihmIGluKHU9Qy5ldmVudCYmcC5nbG9iYWwpJiYwPT1DLmFjdGl2ZSsrJiZDLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHAudHlwZT1wLnR5cGUudG9VcHBlckNhc2UoKSxwLmhhc0NvbnRlbnQ9IXF0LnRlc3QocC50eXBlKSxyPXAudXJsLnJlcGxhY2UoTXQsIiIpLHAuaGFzQ29udGVudD9wLmRhdGEmJnAucHJvY2Vzc0RhdGEmJjA9PT0ocC5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYocC5kYXRhPXAuZGF0YS5yZXBsYWNlKEx0LCIrIikpOihkPXAudXJsLnNsaWNlKHIubGVuZ3RoKSxwLmRhdGEmJihwLnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHAuZGF0YSkmJihyKz0oa3QudGVzdChyKT8iJiI6Ij8iKStwLmRhdGEsZGVsZXRlIHAuZGF0YSksITE9PT1wLmNhY2hlJiYocj1yLnJlcGxhY2UoUHQsIiQxIiksZD0oa3QudGVzdChyKT8iJiI6Ij8iKSsiXz0iK0F0Lmd1aWQrKytkKSxwLnVybD1yK2QpLHAuaWZNb2RpZmllZCYmKEMubGFzdE1vZGlmaWVkW3JdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixDLmxhc3RNb2RpZmllZFtyXSksQy5ldGFnW3JdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLEMuZXRhZ1tyXSkpLChwLmRhdGEmJnAuaGFzQ29udGVudCYmITEhPT1wLmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHAuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixwLmRhdGFUeXBlc1swXSYmcC5hY2NlcHRzW3AuZGF0YVR5cGVzWzBdXT9wLmFjY2VwdHNbcC5kYXRhVHlwZXNbMF1dKygiKiIhPT1wLmRhdGFUeXBlc1swXT8iLCAiK0Z0KyI7IHE9MC4wMSI6IiIpOnAuYWNjZXB0c1siKiJdKSxwLmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGYscC5oZWFkZXJzW2ZdKTtpZihwLmJlZm9yZVNlbmQmJighMT09PXAuYmVmb3JlU2VuZC5jYWxsKGgsVCxwKXx8YykpcmV0dXJuIFQuYWJvcnQoKTtpZih3PSJhYm9ydCIsdi5hZGQocC5jb21wbGV0ZSksVC5kb25lKHAuc3VjY2VzcyksVC5mYWlsKHAuZXJyb3IpLG49enQoUnQscCx0LFQpKXtpZihULnJlYWR5U3RhdGU9MSx1JiZnLnRyaWdnZXIoImFqYXhTZW5kIixbVCxwXSksYylyZXR1cm4gVDtwLmFzeW5jJiZwLnRpbWVvdXQ+MCYmKGE9aS5zZXRUaW1lb3V0KChmdW5jdGlvbigpe1QuYWJvcnQoInRpbWVvdXQiKX0pLHAudGltZW91dCkpO3RyeXtjPSExLG4uc2VuZCh4LEUpfWNhdGNoKGUpe2lmKGMpdGhyb3cgZTtFKC0xLGUpfX1lbHNlIEUoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIEUoZSx0LHMsbCl7dmFyIGYsZCxiLHgsXyx3PXQ7Y3x8KGM9ITAsYSYmaS5jbGVhclRpbWVvdXQoYSksbj12b2lkIDAsbz1sfHwiIixULnJlYWR5U3RhdGU9ZT4wPzQ6MCxmPWU+PTIwMCYmZTwzMDB8fDMwND09PWUscyYmKHg9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaSxyLG8scyxhPWUuY29udGVudHMsbD1lLmRhdGFUeXBlczsiKiI9PT1sWzBdOylsLnNoaWZ0KCksdm9pZCAwPT09aSYmKGk9ZS5taW1lVHlwZXx8dC5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIikpO2lmKGkpZm9yKHIgaW4gYSlpZihhW3JdJiZhW3JdLnRlc3QoaSkpe2wudW5zaGlmdChyKTticmVha31pZihsWzBdaW4gbilvPWxbMF07ZWxzZXtmb3IociBpbiBuKXtpZighbFswXXx8ZS5jb252ZXJ0ZXJzW3IrIiAiK2xbMF1dKXtvPXI7YnJlYWt9c3x8KHM9cil9bz1vfHxzfWlmKG8pcmV0dXJuIG8hPT1sWzBdJiZsLnVuc2hpZnQobyksbltvXX0ocCxULHMpKSwhZiYmQy5pbkFycmF5KCJzY3JpcHQiLHAuZGF0YVR5cGVzKT4tMSYmQy5pbkFycmF5KCJqc29uIixwLmRhdGFUeXBlcyk8MCYmKHAuY29udmVydGVyc1sidGV4dCBzY3JpcHQiXT1mdW5jdGlvbigpe30pLHg9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHIsbyxzLGEsbCxjPXt9LHU9ZS5kYXRhVHlwZXMuc2xpY2UoKTtpZih1WzFdKWZvcihzIGluIGUuY29udmVydGVycyljW3MudG9Mb3dlckNhc2UoKV09ZS5jb252ZXJ0ZXJzW3NdO2ZvcihvPXUuc2hpZnQoKTtvOylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhbCYmaSYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksbD1vLG89dS5zaGlmdCgpKWlmKCIqIj09PW8pbz1sO2Vsc2UgaWYoIioiIT09bCYmbCE9PW8pe2lmKCEocz1jW2wrIiAiK29dfHxjWyIqICIrb10pKWZvcihyIGluIGMpaWYoKGE9ci5zcGxpdCgiICIpKVsxXT09PW8mJihzPWNbbCsiICIrYVswXV18fGNbIiogIithWzBdXSkpeyEwPT09cz9zPWNbcl06ITAhPT1jW3JdJiYobz1hWzBdLHUudW5zaGlmdChhWzFdKSk7YnJlYWt9aWYoITAhPT1zKWlmKHMmJmUudGhyb3dzKXQ9cyh0KTtlbHNlIHRyeXt0PXModCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6cz9lOiJObyBjb252ZXJzaW9uIGZyb20gIitsKyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fShwLHgsVCxmKSxmPyhwLmlmTW9kaWZpZWQmJigoXz1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoQy5sYXN0TW9kaWZpZWRbcl09XyksKF89VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKEMuZXRhZ1tyXT1fKSksMjA0PT09ZXx8IkhFQUQiPT09cC50eXBlP3c9Im5vY29udGVudCI6MzA0PT09ZT93PSJub3Rtb2RpZmllZCI6KHc9eC5zdGF0ZSxkPXguZGF0YSxmPSEoYj14LmVycm9yKSkpOihiPXcsIWUmJnd8fCh3PSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHx3KSsiIixmP20ucmVzb2x2ZVdpdGgoaCxbZCx3LFRdKTptLnJlamVjdFdpdGgoaCxbVCx3LGJdKSxULnN0YXR1c0NvZGUoeSkseT12b2lkIDAsdSYmZy50cmlnZ2VyKGY/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCxwLGY/ZDpiXSksdi5maXJlV2l0aChoLFtULHddKSx1JiYoZy50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHBdKSwtLUMuYWN0aXZlfHxDLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEMuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBDLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxDLmVhY2goWyJnZXQiLCJwb3N0Il0sKGZ1bmN0aW9uKGUsdCl7Q1t0XT1mdW5jdGlvbihlLG4saSxyKXtyZXR1cm4gdihuKSYmKHI9cnx8aSxpPW4sbj12b2lkIDApLEMuYWpheChDLmV4dGVuZCh7dXJsOmUsdHlwZTp0LGRhdGFUeXBlOnIsZGF0YTpuLHN1Y2Nlc3M6aX0sQy5pc1BsYWluT2JqZWN0KGUpJiZlKSl9fSkpLEMuYWpheFByZWZpbHRlcigoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pKSxDLl9ldmFsVXJsPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gQy5hamF4KHt1cmw6ZSx0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGNhY2hlOiEwLGFzeW5jOiExLGdsb2JhbDohMSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKCl7fX0sZGF0YUZpbHRlcjpmdW5jdGlvbihlKXtDLmdsb2JhbEV2YWwoZSx0LG4pfX0pfSxDLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdGhpc1swXSYmKHYoZSkmJihlPWUuY2FsbCh0aGlzWzBdKSksdD1DKGUsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZ0Lmluc2VydEJlZm9yZSh0aGlzWzBdKSx0Lm1hcCgoZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcztlLmZpcnN0RWxlbWVudENoaWxkOyllPWUuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIGV9KSkuYXBwZW5kKHRoaXMpKSx0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHYoZSk/dGhpcy5lYWNoKChmdW5jdGlvbih0KXtDKHRoaXMpLndyYXBJbm5lcihlLmNhbGwodGhpcyx0KSl9KSk6dGhpcy5lYWNoKChmdW5jdGlvbigpe3ZhciB0PUModGhpcyksbj10LmNvbnRlbnRzKCk7bi5sZW5ndGg/bi53cmFwQWxsKGUpOnQuYXBwZW5kKGUpfSkpfSx3cmFwOmZ1bmN0aW9uKGUpe3ZhciB0PXYoZSk7cmV0dXJuIHRoaXMuZWFjaCgoZnVuY3Rpb24obil7Qyh0aGlzKS53cmFwQWxsKHQ/ZS5jYWxsKHRoaXMsbik6ZSl9KSl9LHVud3JhcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wYXJlbnQoZSkubm90KCJib2R5IikuZWFjaCgoZnVuY3Rpb24oKXtDKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSksdGhpc319KSxDLmV4cHIucHNldWRvcy5oaWRkZW49ZnVuY3Rpb24oZSl7cmV0dXJuIUMuZXhwci5wc2V1ZG9zLnZpc2libGUoZSl9LEMuZXhwci5wc2V1ZG9zLnZpc2libGU9ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5vZmZzZXRXaWR0aHx8ZS5vZmZzZXRIZWlnaHR8fGUuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpfSxDLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBpLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGUpe319O3ZhciBVdD17MDoyMDAsMTIyMzoyMDR9LFF0PUMuYWpheFNldHRpbmdzLnhocigpO20uY29ycz0hIVF0JiYid2l0aENyZWRlbnRpYWxzImluIFF0LG0uYWpheD1RdD0hIVF0LEMuYWpheFRyYW5zcG9ydCgoZnVuY3Rpb24oZSl7dmFyIHQsbjtpZihtLmNvcnN8fFF0JiYhZS5jcm9zc0RvbWFpbilyZXR1cm57c2VuZDpmdW5jdGlvbihyLG8pe3ZhciBzLGE9ZS54aHIoKTtpZihhLm9wZW4oZS50eXBlLGUudXJsLGUuYXN5bmMsZS51c2VybmFtZSxlLnBhc3N3b3JkKSxlLnhockZpZWxkcylmb3IocyBpbiBlLnhockZpZWxkcylhW3NdPWUueGhyRmllbGRzW3NdO2ZvcihzIGluIGUubWltZVR5cGUmJmEub3ZlcnJpZGVNaW1lVHlwZSYmYS5vdmVycmlkZU1pbWVUeXBlKGUubWltZVR5cGUpLGUuY3Jvc3NEb21haW58fHJbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KHJbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKSxyKWEuc2V0UmVxdWVzdEhlYWRlcihzLHJbc10pO3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dCYmKHQ9bj1hLm9ubG9hZD1hLm9uZXJyb3I9YS5vbmFib3J0PWEub250aW1lb3V0PWEub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsImFib3J0Ij09PWU/YS5hYm9ydCgpOiJlcnJvciI9PT1lPyJudW1iZXIiIT10eXBlb2YgYS5zdGF0dXM/bygwLCJlcnJvciIpOm8oYS5zdGF0dXMsYS5zdGF0dXNUZXh0KTpvKFV0W2Euc3RhdHVzXXx8YS5zdGF0dXMsYS5zdGF0dXNUZXh0LCJ0ZXh0IiE9PShhLnJlc3BvbnNlVHlwZXx8InRleHQiKXx8InN0cmluZyIhPXR5cGVvZiBhLnJlc3BvbnNlVGV4dD97YmluYXJ5OmEucmVzcG9uc2V9Ont0ZXh0OmEucmVzcG9uc2VUZXh0fSxhLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxhLm9ubG9hZD10KCksbj1hLm9uZXJyb3I9YS5vbnRpbWVvdXQ9dCgiZXJyb3IiKSx2b2lkIDAhPT1hLm9uYWJvcnQ/YS5vbmFib3J0PW46YS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09YS5yZWFkeVN0YXRlJiZpLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dCYmbigpfSkpfSx0PXQoImFib3J0Iik7dHJ5e2Euc2VuZChlLmhhc0NvbnRlbnQmJmUuZGF0YXx8bnVsbCl9Y2F0Y2goZSl7aWYodCl0aHJvdyBlfX0sYWJvcnQ6ZnVuY3Rpb24oKXt0JiZ0KCl9fX0pKSxDLmFqYXhQcmVmaWx0ZXIoKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSksQy5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi9cYig/OmphdmF8ZWNtYSlzY3JpcHRcYi99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oZSl7cmV0dXJuIEMuZ2xvYmFsRXZhbChlKSxlfX19KSxDLmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsKGZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUuY2FjaGUmJihlLmNhY2hlPSExKSxlLmNyb3NzRG9tYWluJiYoZS50eXBlPSJHRVQiKX0pKSxDLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsKGZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoZS5jcm9zc0RvbWFpbnx8ZS5zY3JpcHRBdHRycylyZXR1cm57c2VuZDpmdW5jdGlvbihpLHIpe3Q9QygiPHNjcmlwdD4iKS5hdHRyKGUuc2NyaXB0QXR0cnN8fHt9KS5wcm9wKHtjaGFyc2V0OmUuc2NyaXB0Q2hhcnNldCxzcmM6ZS51cmx9KS5vbigibG9hZCBlcnJvciIsbj1mdW5jdGlvbihlKXt0LnJlbW92ZSgpLG49bnVsbCxlJiZyKCJlcnJvciI9PT1lLnR5cGU/NDA0OjIwMCxlLnR5cGUpfSksYi5oZWFkLmFwcGVuZENoaWxkKHRbMF0pfSxhYm9ydDpmdW5jdGlvbigpe24mJm4oKX19fSkpO3ZhciBZdCxYdD1bXSxKdD0vKD0pXD8oPz0mfCQpfFw/XD8vO0MuYWpheFNldHVwKHtqc29ucDoiY2FsbGJhY2siLGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgZT1YdC5wb3AoKXx8Qy5leHBhbmRvKyJfIitBdC5ndWlkKys7cmV0dXJuIHRoaXNbZV09ITAsZX19KSxDLmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLChmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxzLGE9ITEhPT1lLmpzb25wJiYoSnQudGVzdChlLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBlLmRhdGEmJjA9PT0oZS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZKdC50ZXN0KGUuZGF0YSkmJiJkYXRhIik7aWYoYXx8Impzb25wIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz12KGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoSnQsIiQxIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KGt0LnRlc3QoZS51cmwpPyImIjoiPyIpK2UuanNvbnArIj0iK3IpLGUuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBzfHxDLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLHNbMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixvPWlbcl0saVtyXT1mdW5jdGlvbigpe3M9YXJndW1lbnRzfSxuLmFsd2F5cygoZnVuY3Rpb24oKXt2b2lkIDA9PT1vP0MoaSkucmVtb3ZlUHJvcChyKTppW3JdPW8sZVtyXSYmKGUuanNvbnBDYWxsYmFjaz10Lmpzb25wQ2FsbGJhY2ssWHQucHVzaChyKSkscyYmdihvKSYmbyhzWzBdKSxzPW89dm9pZCAwfSkpLCJzY3JpcHQifSkpLG0uY3JlYXRlSFRNTERvY3VtZW50PSgoWXQ9Yi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1ZdC5jaGlsZE5vZGVzLmxlbmd0aCksQy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwobS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChpPSh0PWIuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPWIubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQoaSkpOnQ9Yiksbz0hbiYmW10sKHI9Ty5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KHJbMV0pXToocj1UZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmQyhvKS5yZW1vdmUoKSxDLm1lcmdlKFtdLHIuY2hpbGROb2RlcykpKTt2YXIgaSxyLG99LEMuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIGkscixvLHM9dGhpcyxhPWUuaW5kZXhPZigiICIpO3JldHVybiBhPi0xJiYoaT1idChlLnNsaWNlKGEpKSxlPWUuc2xpY2UoMCxhKSksdih0KT8obj10LHQ9dm9pZCAwKTp0JiYib2JqZWN0Ij09dHlwZW9mIHQmJihyPSJQT1NUIikscy5sZW5ndGg+MCYmQy5hamF4KHt1cmw6ZSx0eXBlOnJ8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOnR9KS5kb25lKChmdW5jdGlvbihlKXtvPWFyZ3VtZW50cyxzLmh0bWwoaT9DKCI8ZGl2PiIpLmFwcGVuZChDLnBhcnNlSFRNTChlKSkuZmluZChpKTplKX0pKS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXtzLmVhY2goKGZ1bmN0aW9uKCl7bi5hcHBseSh0aGlzLG98fFtlLnJlc3BvbnNlVGV4dCx0LGVdKX0pKX0pLHRoaXN9LEMuZXhwci5wc2V1ZG9zLmFuaW1hdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBDLmdyZXAoQy50aW1lcnMsKGZ1bmN0aW9uKHQpe3JldHVybiBlPT09dC5lbGVtfSkpLmxlbmd0aH0sQy5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihlLHQsbil7dmFyIGkscixvLHMsYSxsLGM9Qy5jc3MoZSwicG9zaXRpb24iKSx1PUMoZSksZj17fTsic3RhdGljIj09PWMmJihlLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLGE9dS5vZmZzZXQoKSxvPUMuY3NzKGUsInRvcCIpLGw9Qy5jc3MoZSwibGVmdCIpLCgiYWJzb2x1dGUiPT09Y3x8ImZpeGVkIj09PWMpJiYobytsKS5pbmRleE9mKCJhdXRvIik+LTE/KHM9KGk9dS5wb3NpdGlvbigpKS50b3Ascj1pLmxlZnQpOihzPXBhcnNlRmxvYXQobyl8fDAscj1wYXJzZUZsb2F0KGwpfHwwKSx2KHQpJiYodD10LmNhbGwoZSxuLEMuZXh0ZW5kKHt9LGEpKSksbnVsbCE9dC50b3AmJihmLnRvcD10LnRvcC1hLnRvcCtzKSxudWxsIT10LmxlZnQmJihmLmxlZnQ9dC5sZWZ0LWEubGVmdCtyKSwidXNpbmciaW4gdD90LnVzaW5nLmNhbGwoZSxmKTp1LmNzcyhmKX19LEMuZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oZSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09ZT90aGlzOnRoaXMuZWFjaCgoZnVuY3Rpb24odCl7Qy5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsZSx0KX0pKTt2YXIgdCxuLGk9dGhpc1swXTtyZXR1cm4gaT9pLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyh0PWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1pLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDp0LnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6dC5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLGk9dGhpc1swXSxyPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1DLmNzcyhpLCJwb3NpdGlvbiIpKXQ9aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle2Zvcih0PXRoaXMub2Zmc2V0KCksbj1pLm93bmVyRG9jdW1lbnQsZT1pLm9mZnNldFBhcmVudHx8bi5kb2N1bWVudEVsZW1lbnQ7ZSYmKGU9PT1uLmJvZHl8fGU9PT1uLmRvY3VtZW50RWxlbWVudCkmJiJzdGF0aWMiPT09Qy5jc3MoZSwicG9zaXRpb24iKTspZT1lLnBhcmVudE5vZGU7ZSYmZSE9PWkmJjE9PT1lLm5vZGVUeXBlJiYoKHI9QyhlKS5vZmZzZXQoKSkudG9wKz1DLmNzcyhlLCJib3JkZXJUb3BXaWR0aCIsITApLHIubGVmdCs9Qy5jc3MoZSwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpfXJldHVybnt0b3A6dC50b3Atci50b3AtQy5jc3MoaSwibWFyZ2luVG9wIiwhMCksbGVmdDp0LmxlZnQtci5sZWZ0LUMuY3NzKGksIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMub2Zmc2V0UGFyZW50O2UmJiJzdGF0aWMiPT09Qy5jc3MoZSwicG9zaXRpb24iKTspZT1lLm9mZnNldFBhcmVudDtyZXR1cm4gZXx8c2V9KSl9fSksQy5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LChmdW5jdGlvbihlLHQpe3ZhciBuPSJwYWdlWU9mZnNldCI9PT10O0MuZm5bZV09ZnVuY3Rpb24oaSl7cmV0dXJuIFYodGhpcywoZnVuY3Rpb24oZSxpLHIpe3ZhciBvO2lmKHkoZSk/bz1lOjk9PT1lLm5vZGVUeXBlJiYobz1lLmRlZmF1bHRWaWV3KSx2b2lkIDA9PT1yKXJldHVybiBvP29bdF06ZVtpXTtvP28uc2Nyb2xsVG8obj9vLnBhZ2VYT2Zmc2V0OnIsbj9yOm8ucGFnZVlPZmZzZXQpOmVbaV09cn0pLGUsaSxhcmd1bWVudHMubGVuZ3RoKX19KSksQy5lYWNoKFsidG9wIiwibGVmdCJdLChmdW5jdGlvbihlLHQpe0MuY3NzSG9va3NbdF09WWUobS5waXhlbFBvc2l0aW9uLChmdW5jdGlvbihlLG4pe2lmKG4pcmV0dXJuIG49UWUoZSx0KSxSZS50ZXN0KG4pP0MoZSkucG9zaXRpb24oKVt0XSsicHgiOm59KSl9KSksQy5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sKGZ1bmN0aW9uKGUsdCl7Qy5lYWNoKHtwYWRkaW5nOiJpbm5lciIrZSxjb250ZW50OnQsIiI6Im91dGVyIitlfSwoZnVuY3Rpb24obixpKXtDLmZuW2ldPWZ1bmN0aW9uKHIsbyl7dmFyIHM9YXJndW1lbnRzLmxlbmd0aCYmKG58fCJib29sZWFuIiE9dHlwZW9mIHIpLGE9bnx8KCEwPT09cnx8ITA9PT1vPyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4gVih0aGlzLChmdW5jdGlvbih0LG4scil7dmFyIG87cmV0dXJuIHkodCk/MD09PWkuaW5kZXhPZigib3V0ZXIiKT90WyJpbm5lciIrZV06dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrZV06OT09PXQubm9kZVR5cGU/KG89dC5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgodC5ib2R5WyJzY3JvbGwiK2VdLG9bInNjcm9sbCIrZV0sdC5ib2R5WyJvZmZzZXQiK2VdLG9bIm9mZnNldCIrZV0sb1siY2xpZW50IitlXSkpOnZvaWQgMD09PXI/Qy5jc3ModCxuLGEpOkMuc3R5bGUodCxuLHIsYSl9KSx0LHM/cjp2b2lkIDAscyl9fSkpfSkpLEMuZWFjaChbImFqYXhTdGFydCIsImFqYXhTdG9wIiwiYWpheENvbXBsZXRlIiwiYWpheEVycm9yIiwiYWpheFN1Y2Nlc3MiLCJhamF4U2VuZCJdLChmdW5jdGlvbihlLHQpe0MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSksQy5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLm9uKGUsbnVsbCx0LG4pfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vZmYoZSxudWxsLHQpfSxkZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gdGhpcy5vbih0LGUsbixpKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGUsIioqIik6dGhpcy5vZmYodCxlfHwiKioiLG4pfSxob3ZlcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoZSkubW91c2VsZWF2ZSh0fHxlKX19KSxDLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksKGZ1bmN0aW9uKGUsdCl7Qy5mblt0XT1mdW5jdGlvbihlLG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbih0LG51bGwsZSxuKTp0aGlzLnRyaWdnZXIodCl9fSkpO3ZhciBLdD0vXltcc1x1RkVGRlx4QTBdK3woW15cc1x1RkVGRlx4QTBdKVtcc1x1RkVGRlx4QTBdKyQvZztDLnByb3h5PWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyO2lmKCJzdHJpbmciPT10eXBlb2YgdCYmKG49ZVt0XSx0PWUsZT1uKSx2KGUpKXJldHVybiBpPWEuY2FsbChhcmd1bWVudHMsMikscj1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHR8fHRoaXMsaS5jb25jYXQoYS5jYWxsKGFyZ3VtZW50cykpKX0sci5ndWlkPWUuZ3VpZD1lLmd1aWR8fEMuZ3VpZCsrLHJ9LEMuaG9sZFJlYWR5PWZ1bmN0aW9uKGUpe2U/Qy5yZWFkeVdhaXQrKzpDLnJlYWR5KCEwKX0sQy5pc0FycmF5PUFycmF5LmlzQXJyYXksQy5wYXJzZUpTT049SlNPTi5wYXJzZSxDLm5vZGVOYW1lPWosQy5pc0Z1bmN0aW9uPXYsQy5pc1dpbmRvdz15LEMuY2FtZWxDYXNlPVgsQy50eXBlPXcsQy5ub3c9RGF0ZS5ub3csQy5pc051bWVyaWM9ZnVuY3Rpb24oZSl7dmFyIHQ9Qy50eXBlKGUpO3JldHVybigibnVtYmVyIj09PXR8fCJzdHJpbmciPT09dCkmJiFpc05hTihlLXBhcnNlRmxvYXQoZSkpfSxDLnRyaW09ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/IiI6KGUrIiIpLnJlcGxhY2UoS3QsIiQxIil9LHZvaWQgMD09PShuPWZ1bmN0aW9uKCl7cmV0dXJuIEN9LmFwcGx5KHQsW10pKXx8KGUuZXhwb3J0cz1uKTt2YXIgR3Q9aS5qUXVlcnksWnQ9aS4kO3JldHVybiBDLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuJD09PUMmJihpLiQ9WnQpLGUmJmkualF1ZXJ5PT09QyYmKGkualF1ZXJ5PUd0KSxDfSx2b2lkIDA9PT1yJiYoaS5qUXVlcnk9aS4kPUMpLEN9KSl9LDE2MDQ6ZnVuY3Rpb24oZSx0LG4pe24uZy5Cb290c3RyYXA9e30sbi5nLmpRdWVyeT1uKDk3NTUpLG4uZy5Cb290c3RyYXAuQnV0dG9uPW4oOTMzMSksbi5nLkJvb3RzdHJhcC5Db2xsYXBzZT1uKDM4NjMpLG4uZy5Cb290c3RyYXAuUG9wb3Zlcj1uKDYxMDEpLG4uZy5Cb290c3RyYXAuU2Nyb2xsc3B5PW4oNjM2OSksbi5nLkJvb3RzdHJhcC5UYWI9big4NDcxKSxuLmcuQm9vdHN0cmFwLlRvb2x0aXA9bigzODI0KSxuLmcuQm9vdHN0cmFwLk1vZGFsPW4oNzQyNCl9LDQzNDY6ZnVuY3Rpb24oKXt2YXIgZTsoZT1qUXVlcnkpKChmdW5jdGlvbigpe3ZhciB0PXtkb0NoZWNrYm94OmZ1bmN0aW9uKG4pe2UodGhpcykucGFyZW50KCIubWVzc2lhLWNoZWNrYm94IikuYWRkQ2xhc3MoImlzLWNsaWNrZWQiKSxlKHRoaXMpLmZvY3VzKCksZSgiYm9keSIpLm9uZSgiZm9jdXNvdXQiLGUodGhpcyksdC5yZW1vdmVJc0NsaWNrZWQpfSxyZW1vdmVJc0NsaWNrZWQ6ZnVuY3Rpb24odCl7ZSgiLm1lc3NpYS1jaGVja2JveCIpLnJlbW92ZUNsYXNzKCJpcy1jbGlja2VkIil9fTtlKCJib2R5Iikub24oImNsaWNrIiwiLm1lc3NpYS1jaGVja2JveCBpbnB1dDpub3QoW2Rpc2FibGVkXSkiLHQuZG9DaGVja2JveCl9KSl9LDk0OTM6ZnVuY3Rpb24oKXt2YXIgZTsoZT1qUXVlcnkpKChmdW5jdGlvbigpe3ZhciB0PXtkb1RleHRmaWVsZDpmdW5jdGlvbihuKXtlKHRoaXMpLmZpbmQoImlucHV0LCB0ZXh0YXJlYSIpLmZvY3VzKCksZSh0aGlzKS5hZGRDbGFzcygiaXMtZm9jdXNlZCIpLGUodGhpcykub25lKCJmb2N1c291dCIsZSh0aGlzKS5maW5kKCI+IGxhYmVsIGlucHV0LCA+IGxhYmVsIHRleHRhcmVhIiksdC5yZW1vdmVJc0ZvY3VzZWQpfSxyZW1vdmVJc0ZvY3VzZWQ6ZnVuY3Rpb24odCl7MD09PWUodGhpcykuZmluZCgiIGlucHV0LCAgdGV4dGFyZWEiKS52YWwoKS5sZW5ndGgmJmUoIi5tZXNzaWEtdGV4dGZpZWxkIikucmVtb3ZlQ2xhc3MoImlzLWZvY3VzZWQiKX19O2UoImJvZHkiKS5vbigiY2xpY2siLCIubWVzc2lhLXRleHRmaWVsZCIsdC5kb1RleHRmaWVsZCl9KSl9LDI1OTE6ZnVuY3Rpb24oZSx0LG4pe2NvbnN0IGk9KCgpPT57Y29uc3QgZT17ZGVidWc6IiM3ZjhjOGQiLGxvZzoiIzJlY2M3MSIsd2FybjoiI2YzOWMxMiIsZXJyb3I6IiNjMDM5MmIiLHRhYmxlOiIjYzAzOTJiIn0sdD1mdW5jdGlvbih0LG4pe2NvbnN0IGk9WyIlY21lc3NpYSIsW2BiYWNrZ3JvdW5kOiAke2VbdF19YCwiYm9yZGVyLXJhZGl1czogMC4zZW0iLCJjb2xvcjogd2hpdGUiLCJmb250LXdlaWdodDogYm9sZCIsInBhZGRpbmc6IDJweCAwLjVlbSJdLmpvaW4oIjsiKV07ITEhPT1tZXNzaWFWYXJzLnNjcmlwdERlYnVnJiZjb25zb2xlW3RdKC4uLmksLi4ubil9LG49e30saT1PYmplY3Qua2V5cyhlKTtmb3IoY29uc3QgZSBvZiBpKXtjb25zdCBpPWU7bltpXT0oLi4uZSk9Pnt0KGksZSl9fXJldHVybiBufSkoKTtuLmcuTWVzc2lhRXh0PW4uZy5NZXNzaWFFeHR8fHt9LG4uZy5NZXNzaWFFeHQ9ey4uLm4uZy5NZXNzaWFFeHQsbG9nZ2VyOml9fSw1NTE6ZnVuY3Rpb24oKXt2YXIgZTsoZT1qUXVlcnkpKChmdW5jdGlvbigpe3ZhciB0PXtkb1JhZGlvOmZ1bmN0aW9uKG4pe2UodGhpcykucGFyZW50cygiLm1lc3NpYS1yYWRpbyIpLmFkZENsYXNzKCJpcy1jbGlja2VkIiksZSh0aGlzKS5mb2N1cygpLGUoImJvZHkiKS5vbmUoImZvY3Vzb3V0IixlKHRoaXMpLHQucmVtb3ZlSXNDbGlja2VkKX0scmVtb3ZlSXNDbGlja2VkOmZ1bmN0aW9uKHQpe2UoIi5tZXNzaWEtcmFkaW8iKS5yZW1vdmVDbGFzcygiaXMtY2xpY2tlZCIpfX07ZSgiYm9keSIpLm9uKCJjbGljayIsIi5tZXNzaWEtcmFkaW8gaW5wdXQ6bm90KFtkaXNhYmxlZF0pIix0LmRvUmFkaW8pfSkpfSw1OTQ0OmZ1bmN0aW9uKCl7dmFyIGU7KGU9alF1ZXJ5KSgoZnVuY3Rpb24oKXt2YXIgdD17cHJlcGFyZVJpcHBsZTpmdW5jdGlvbihlLHQpe3ZhciBuPXQuZ2V0KDApLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9ZS5jbGllbnRYLHI9ZS5jbGllbnRZLG89aS1uLmxlZnQscz1uLnJpZ2h0LWksYT1yLW4udG9wLGw9bi5ib3R0b20tcixjPU1hdGgubWF4KG8scyksdT1NYXRoLm1heChhLGwpLGY9TWF0aC5tYXgoYyx1KTtyZXR1cm4gZj0yKihmKyhNYXRoLmh5cG90KGMsdSktTWF0aC5tYXgoYyx1KSkpLGJ1dHRvbkhlaWdodD1mLHtoZWlnaHQ6YnV0dG9uSGVpZ2h0LHdpZHRoOmYsbGVmdDplLnBhZ2VYLXQub2Zmc2V0KCkubGVmdC1mLzIsdG9wOmUucGFnZVktdC5vZmZzZXQoKS50b3AtYnV0dG9uSGVpZ2h0LzJ9fSxkb1JpcHBsZUNsaWNrOmFzeW5jIGZ1bmN0aW9uKG4saSl7aS5kYXRhKCJtZXNzaWFEb1JpcGxlQ2xpY2siLCEwKSxpLmZpbmQoIi5yaXBwbGUiKS5yZW1vdmUoKTtjb25zdCByPXQucHJlcGFyZVJpcHBsZShuLGkpO2xldCBvPWUoJzxzcGFuIGNsYXNzPSJyaXBwbGUiPjwvc3Bhbj4nKTtyZXR1cm4gby5jc3Moe2hlaWdodDpyLmhlaWdodCx3aWR0aDpyLndpZHRoLGxlZnQ6ci5sZWZ0KyJweCIsdG9wOnIudG9wKyJweCJ9KS5hcHBlbmRUbyhpKS5hZGRDbGFzcygicmlwcGxlLWVmZmVjdC1jbGljayIpLGF3YWl0IG5ldyBQcm9taXNlKCgoZSx0KT0+e2xldCByPW8uY3NzKCJ0cmFuc2l0aW9uLWR1cmF0aW9uIikscz0xZTMqTWF0aC5tYXguYXBwbHkoTWF0aCxyLnNwbGl0KCIsIikubWFwKHBhcnNlRmxvYXQpKTtzZXRUaW1lb3V0KChmdW5jdGlvbih0KXt0LmRhdGEoIm1lc3NpYURvUmlwbGVDbGljayIsITEpLG8ucmVtb3ZlKCksZShbbix0XSl9KSxzLGksbyl9KSl9LGRvUmlwcGxlSG92ZXJJbjphc3luYyBmdW5jdGlvbihuKXtjb25zdCBpPWUodGhpcyk7Y2xlYXJUaW1lb3V0KGkuZGF0YSgicmlwcGxlSG92ZXJPdXRUaW1lciIpKTtsZXQgcj1lKCc8c3BhbiBjbGFzcz0icmlwcGxlIj48L3NwYW4+Jyk7Y29uc3Qgbz1pLmZpbmQoIi5yaXBwbGUiKSxzPXQucHJlcGFyZVJpcHBsZShuLGkpO3JldHVybiByLmNzcyh7aGVpZ2h0OnMuaGVpZ2h0LHdpZHRoOnMud2lkdGgsbGVmdDpzLmxlZnQrInB4Iix0b3A6cy50b3ArInB4In0pLDA9PT1vLmxlbmd0aD9yLmFwcGVuZFRvKGkpLmFkZENsYXNzKCJyaXBwbGUtZWZmZWN0LWhvdmVyLWluIik6KG8uY3NzKHtoZWlnaHQ6cy5oZWlnaHQsd2lkdGg6cy53aWR0aCxsZWZ0OnMubGVmdCsicHgiLHRvcDpzLnRvcCsicHgifSkucmVtb3ZlQ2xhc3MoInJpcHBsZS1lZmZlY3QtaG92ZXItb3V0IikuYWRkQ2xhc3MoInJpcHBsZS1lZmZlY3QtaG92ZXItaW4iKSxyPW8pLFByb21pc2UucmVzb2x2ZShbbixpXSl9LGRvUmlwcGxlSG92ZXJPdXQ6YXN5bmMgZnVuY3Rpb24obil7Y29uc3QgaT1lKHRoaXMpO2xldCByPWUoJzxzcGFuIGNsYXNzPSJyaXBwbGUiPjwvc3Bhbj4nKTtjb25zdCBvPWkuZmluZCgiLnJpcHBsZSIpLHM9dC5wcmVwYXJlUmlwcGxlKG4saSk7cmV0dXJuIHIuY3NzKHtoZWlnaHQ6cy5oZWlnaHQsd2lkdGg6cy53aWR0aCxsZWZ0OnMubGVmdCsicHgiLHRvcDpzLnRvcCsicHgifSksMD09PW8ubGVuZ3RoP3IuYXBwZW5kVG8oaSkuYWRkQ2xhc3MoInJpcHBsZS1lZmZlY3QtaG92ZXItb3V0Iik6KG8uY3NzKHtoZWlnaHQ6cy5oZWlnaHQsd2lkdGg6cy53aWR0aCxsZWZ0OnMubGVmdCsicHgiLHRvcDpzLnRvcCsicHgifSkucmVtb3ZlQ2xhc3MoInJpcHBsZS1lZmZlY3QtaG92ZXItaW4iKS5hZGRDbGFzcygicmlwcGxlLWVmZmVjdC1ob3Zlci1vdXQiKSxyPW8pLGF3YWl0IG5ldyBQcm9taXNlKCgoZSx0KT0+e2xldCBvPXIuY3NzKCJhbmltYXRpb24tZHVyYXRpb24iKSxzPTFlMypNYXRoLm1heC5hcHBseShNYXRoLG8uc3BsaXQoIiwiKS5tYXAocGFyc2VGbG9hdCkpLGE9c2V0VGltZW91dCgoZnVuY3Rpb24odCl7ci5yZW1vdmUoKSxlKFtuLHRdKX0pLHMsaSxyKTtpLmRhdGEoInJpcHBsZUhvdmVyT3V0VGltZXIiLGEpfSkpfSxyaXBwbGVDbGljazpmdW5jdGlvbihuKXshMCE9PWUodGhpcykuZGF0YSgibWVzc2lhRG9SaXBsZUNsaWNrIikmJihBcnJheS5mcm9tKG4uaGFuZGxlT2JqLmhhbmRsZXIuYXJndW1lbnRzKS5zaGlmdCgpLHQuZG9SaXBwbGVDbGljayhuLGUodGhpcykpLnRoZW4oKGZ1bmN0aW9uKGUpe2xldCB0PW5ldyBFdmVudCgibWVzc2lhQ2xpY2tSaXBsZURvbmUiKTtlWzFdLmdldCgwKS5kaXNwYXRjaEV2ZW50KHQpfSkpKX19O2UoImJvZHkiKS5vbigiY2xpY2siLCIubWVzc2lhLXJpcHBsZS1jbGljayIsdC5yaXBwbGVDbGljayksIm9udG91Y2hzdGFydCJpbiB3aW5kb3c9PTAmJihlKCJib2R5Iikub24oIm1vdXNlZW50ZXIiLCIubWVzc2lhLXJpcHBsZS1ob3ZlciIsdC5kb1JpcHBsZUhvdmVySW4pLGUoImJvZHkiKS5vbigibW91c2VsZWF2ZSIsIi5tZXNzaWEtcmlwcGxlLWhvdmVyIix0LmRvUmlwcGxlSG92ZXJPdXQpKX0pKX19LHQ9e307ZnVuY3Rpb24gbihpKXt2YXIgcj10W2ldO2lmKHZvaWQgMCE9PXIpcmV0dXJuIHIuZXhwb3J0czt2YXIgbz10W2ldPXtleHBvcnRzOnt9fTtyZXR1cm4gZVtpXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxuKSxvLmV4cG9ydHN9bi5kPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpIGluIHQpbi5vKHQsaSkmJiFuLm8oZSxpKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSx7ZW51bWVyYWJsZTohMCxnZXQ6dFtpXX0pfSxuLmc9ZnVuY3Rpb24oKXtpZigib2JqZWN0Ij09dHlwZW9mIGdsb2JhbFRoaXMpcmV0dXJuIGdsb2JhbFRoaXM7dHJ5e3JldHVybiB0aGlzfHxuZXcgRnVuY3Rpb24oInJldHVybiB0aGlzIikoKX1jYXRjaChlKXtpZigib2JqZWN0Ij09dHlwZW9mIHdpbmRvdylyZXR1cm4gd2luZG93fX0oKSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucj1mdW5jdGlvbihlKXsidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOiJNb2R1bGUifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtuKDE2MDQpLG4oMjU5MSk7KCgpPT57aWYoInNlcnZpY2VXb3JrZXIiaW4gbmF2aWdhdG9yKWlmKG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLChlPT57Y29uc3QgdD1lLmRhdGE7ImxvZ2dlciI9PT10LnR5cGUmJk1lc3NpYUV4dC5sb2dnZXJbdC5tZXRob2RdKHQuYm9keSl9KSksMT09PW1lc3NpYVZhcnMucHdhRW5hYmxlKXtjb25zdCBlPSJjYWNoZXMiaW4gc2VsZix0PSJpbmRleGVkREIiaW4gc2VsZixuPWU9Pnt3aW5kb3cuY29uZmlybShtZXNzaWFWYXJzLm1lc3NhZ2VzLndvcmtlclVwZGF0ZSkmJm5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoImNvbnRyb2xsZXJjaGFuZ2UiLCgoKT0+e30pKSxlJiZlLndhaXRpbmcmJmUud2FpdGluZy5wb3N0TWVzc2FnZSh7Y29tbWFuZDoibWVzc2lhU2tpcFdhaXRpbmcifSl9O25hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKG1lc3NpYVZhcnMud29ya2VyVXJsLHtzY29wZToiLyJ9KS50aGVuKChpPT57TWVzc2lhRXh0LmxvZ2dlci5sb2coYFdvcmtlciByZWdpc3RyYXRpb24gc3VjY2VlZGVkLiBTY29wZSBpcyAke2kuc2NvcGV9YCksITE9PT10P01lc3NpYUV4dC5sb2dnZXIud2FybigiV29ya2VyIHdpbGwgc2tpcCBjYWNoaW5nIGNhdXNlIHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgaW5kZXhlZERCLiIpOiExPT09ZSYmTWVzc2lhRXh0LmxvZ2dlci53YXJuKCJXb3JrZXIgd2lsbCBza2lwIGNhY2hpbmcgY2F1c2UgdGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBjYWNoZSBzdG9yYWdlLiIpLGkud2FpdGluZyYmbihpKX0pKS5jYXRjaCgoZT0+e01lc3NpYUV4dC5sb2dnZXIuZXJyb3IoIldvcmtlciByZWdpc3RyYXRpb24gZmFpbGVkIHdpdGggIitlKX0pKX1lbHNlIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmdldFJlZ2lzdHJhdGlvbnMoKS50aGVuKChlPT57aWYoZS5sZW5ndGgpZm9yKGxldCB0IG9mIGUpdC5hY3RpdmUucG9zdE1lc3NhZ2Uoe2NvbW1hbmQ6Im1lc3NpYVVucmVnaXN0ZXJTZWxmIn0pfSkpfSkoKTtuKDU5NDQpLG4oNDM0Niksbig1NTEpLG4oOTQ5Myk7IWZ1bmN0aW9uKGUpe2NvbnN0IHQ9YXN5bmMoKT0+e2NvbnN0IGU9alF1ZXJ5LHQ9L0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLG49dD0+e2xldCBuPWUodCkuZGF0YSgic2VsZWN0MiIpLGk9bi4kZHJvcGRvd24uZmluZCgibGkiKSxyPW4uJHNlbGVjdGlvbixvPWUodCkuc2VsZWN0MigiZGF0YSIpLHM9by5tYXAoKGU9PmUuaWQpKSxhPXMuaW5jbHVkZXMoIi0xIiksbD1yLmZpbmQoInVsIiksYz1vLmxlbmd0aDtpLm1hcCgoKHQsbik9PntsZXQgaT1lKG4pLmZpbmQoIi5vcHRpb24iKSxyPWkuZmluZCgiLmNoZWNrYm94LXNlbGVjdDIiKSxvPXIuZGF0YSgib3B0aW9uSWQiKTthJiYtMSE9PW8/aS5hZGRDbGFzcygib3BhY2l0eS02Iik6aS5yZW1vdmVDbGFzcygib3BhY2l0eS02IiksYXx8LTEhPT1vP3IucmVtb3ZlQ2xhc3MoImNoZWNrZWQtc2VtaSIpOnIuYWRkQ2xhc3MoImNoZWNrZWQtc2VtaSIpLHMuaW5jbHVkZXMoby50b1N0cmluZygpKT9yLmFkZENsYXNzKCJjaGVja2VkIik6ci5yZW1vdmVDbGFzcygiY2hlY2tlZCIpfSkpLGM+MSYmbC5odG1sKGA8bGkgY2xhc3M9InNlbGVjdDItc2VsZWN0aW9uX19jaG9pY2UiPiR7bWVzc2lhVmFycy5tZXNzYWdlcy5pdGVtc1NlbGVjdGVkLnBsdXJhbC5yZXBsYWNlKCIlbiIsYyl9PC9saT5gKX07aWYoIXQpe2NvbnN0IHQ9bWVzc2lhVmFycy50aGVtZVVybCxyPSExPT09bWVzc2lhVmFycy5zY3JpcHREZWJ1Zz8iLm1pbiI6IiI7ZSgiPGxpbmsvPiIse3JlbDoic3R5bGVzaGVldCIsdHlwZToidGV4dC9jc3MiLGhyZWY6YCR7dH0vaW5jbHVkZXMvYXNzZXRzL2Nzcy9saWJyYXJpZXMvc2VsZWN0MiR7cn0uY3NzYH0pLnByZXBlbmRUbygiaGVhZCIpO3RyeXthd2FpdCBpKGAke3R9L2luY2x1ZGVzL2Fzc2V0cy9qcy9saWJyYXJpZXMvc2VsZWN0MiR7cn0uanNgKSxlKCJzZWxlY3Q6bm90KC5tZXNzaWEtZmlsdGVyLXNlbGVjdCkiKS5zZWxlY3QyKHtkcm9wZG93blBhcmVudDplKCJtYWluIiksd2lkdGg6IjEwMCUiLG1pbmltdW1SZXN1bHRzRm9yU2VhcmNoOjEvMH0pLGUoInNlbGVjdC5tZXNzaWEtZmlsdGVyLXNlbGVjdDpub3QoW211bHRpcGxlXSkiKS5zZWxlY3QyKHt3aWR0aDoiMTAwJSIsZHJvcGRvd25QYXJlbnQ6ZSgibWFpbiIpLGVzY2FwZU1hcmt1cDpmdW5jdGlvbihlLHQpe3JldHVybiBlLnJlcGxhY2UoL1xbKFxkKylcXS9nLCI8c3VwPiQxPC9zdXA+Iil9LGNsb3NlT25TZWxlY3Q6ITB9KSxlKCJzZWxlY3QubWVzc2lhLWZpbHRlci1zZWxlY3RbbXVsdGlwbGVdIikuc2VsZWN0Mih7d2lkdGg6IjEwMCUiLGRyb3Bkb3duUGFyZW50OmUoIm1haW4iKSxlc2NhcGVNYXJrdXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZXBsYWNlKC9cWyhcZCspXF0vZywiPHN1cD4kMTwvc3VwPiIpfSxjbG9zZU9uU2VsZWN0OiExLHRlbXBsYXRlUmVzdWx0OmZ1bmN0aW9uKHQsbil7dmFyIGkscixvLHM9ZSh0LmVsZW1lbnQpLnBhcmVudCgic2VsZWN0IiksYT1zLnNlbGVjdDIoImRhdGEiKTtpZighMT09PXMucHJvcCgibXVsdGlwbGUiKSlyZXR1cm4gdC50ZXh0O2lmKCJvYmplY3QiIT10eXBlb2YgYSlyZXR1cm4gdC50ZXh0O3ZhciBsPWEubWFwKChlPT5lLmlkKSksYz1sLmluY2x1ZGVzKCItMSIpO3JldHVybiByPWMmJiItMSIhPT10LmlkPyIgb3BhY2l0eS02IjoiIixvPWN8fCItMSIhPT10LmlkPyIiOiIgY2hlY2tlZC1zZW1pIixpPWwuaW5jbHVkZXModC5pZCk/IiBjaGVja2VkIjoiIixlKGA8ZGl2IGNsYXNzPSJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGZhZGUgc2hvdyBvcHRpb24ke3J9Ij5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9ImZsZXgtZ3Jvdy0xIj4ke3QudGV4dH08L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGRhdGEtb3B0aW9uLWlkPSIke3QuaWR9IiBjbGFzcz0iY2hlY2tib3gtc2VsZWN0MiBmbGV4LXNocmluay0wJHtpfSR7b30iPjwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvZGl2PmApfSx0ZW1wbGF0ZVNlbGVjdGlvbjpmdW5jdGlvbih0LG4pe3JldHVybiJsb2NrZWQiPT09ZSh0LmVsZW1lbnQpLmF0dHIoImxvY2tlZCIpJiYoZShuKS5hZGRDbGFzcygibG9ja2VkLXRhZyIpLHQubG9ja2VkPSEwKSx0LnRleHR9fSksZSgic2VsZWN0Lm1lc3NpYS1maWx0ZXItc2VsZWN0W211bHRpcGxlXSIpLmVhY2goKGZ1bmN0aW9uKCl7bih0aGlzKX0pKSxlKCIuc2VsZWN0Mi5zZWxlY3QyLWNvbnRhaW5lciIpLmZpbmQoJy5zZWxlY3QyLXNlYXJjaF9fZmllbGQ6bm90KFtwbGFjZWhvbGRlcj0iIl0pJykuY3NzKCJ3aWR0aCIsIiIpLGUoInNlbGVjdC5tZXNzaWEtZmlsdGVyLXNlbGVjdFttdWx0aXBsZV0iKS5vbigiY2hhbmdlIiwoZnVuY3Rpb24oKXtuKHRoaXMpfSkpfWNhdGNoKGUpe2NvbnN0IHQ9e21lc3NhZ2U6IkVycm9yIGxvYWRpbmcgU2VsZWN0MiBhc3NldHMiLGVycm9yOmV9O01lc3NpYUV4dC5sb2dnZXIuZXJyb3IodCl9fX0saT1lPT5uZXcgUHJvbWlzZSgoKHQsbik9PntsZXQgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpLm9uZXJyb3I9bixpLm9ubG9hZD10LGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoaSksaS5zcmM9ZX0pKSxyPSgpPT57ZSgiLm1lc3NpYS1uYXYtbWVudSAubWVudS1pdGVtLm1lbnUtaXRlbS1oYXMtY2hpbGRyZW4gPiAubWVudS1pdGVtLWV4cGFuZC1jb2xsYXBzZSIpLm9uKCJjbGljayIsKGZ1bmN0aW9uKHQpe2Uod2luZG93KS53aWR0aCgpPD0iNzY3IiYmKHQucHJldmVudERlZmF1bHQoKSxlKHRoaXMpLnNpYmxpbmdzKCIuc3ViLW1lbnUiKS5zbGlkZVRvZ2dsZSgzMDApLGUodGhpcykudG9nZ2xlQ2xhc3MoImFjdGl2ZSIpKX0pKSxlKCIubGlzdGluZyIpLm9uKCJsaXN0aW5nVXBkYXRlZCIsKGZ1bmN0aW9uKCl7aWYoMCE9PSh0PWUoIi5zZWxlY3QyLnNlbGVjdDItY29udGFpbmVyLS1vcGVuIC5zZWxlY3QyLXNlbGVjdGlvbiIpKS5sZW5ndGgpe3ZhciB0LG49ZSgiLnNlbGVjdDIuc2VsZWN0Mi1jb250YWluZXItLW9wZW4gLnNlbGVjdDItc2VsZWN0aW9uIikuYXR0cigiYXJpYS1vd25zIikucmVwbGFjZSgic2VsZWN0Mi0iLCIiKS5yZXBsYWNlKCItcmVzdWx0cyIsIiIpOyh0PWUoYHNlbGVjdFtkYXRhLXNlbGVjdDItaWQ9JyR7bn0nXWApKS5zZWxlY3QyKCJjbG9zZSIpLHQuc2VsZWN0Migib3BlbiIpfX0pKSxlKCIubmF2aWdhdGlvbi5wYWdpbmF0aW9uIC5wYWdlLW51bWJlcnMiKS5hZGRDbGFzcygibWVzc2lhLXJpcHBsZS1jbGljayBtZXNzaWEtYnRuIiksdCgpfTtuLmcuTWVzc2lhRXh0PW4uZy5NZXNzaWFFeHR8fHt9LG4uZy5NZXNzaWFFeHQ9ey4uLm4uZy5NZXNzaWFFeHQsaXNNb2JpbGU6dCxnZXRDb29raWU6ZT0+e2xldCB0PWRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCIoPzpefDsgKSIrZS5yZXBsYWNlKC8oW1wuJD8qfHt9XChcKVxbXF1cXFwvXCteXSkvZywiXFwkMSIpKyI9KFteO10qKSIpKTtyZXR1cm4gdD9KU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudCh0WzFdKSk6dm9pZCAwfSxzZXRDb29raWU6KGUsdCxuPXt9KT0+eyhuPXtwYXRoOiIvIiwuLi5ufSkuZXhwaXJlcyBpbnN0YW5jZW9mIERhdGUmJihuLmV4cGlyZXM9bi5leHBpcmVzLnRvVVRDU3RyaW5nKCkpO2xldCBpPWVuY29kZVVSSUNvbXBvbmVudChlKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KHQpO2ZvcihsZXQgZSBpbiBuKXtpKz0iOyAiK2U7bGV0IHQ9bltlXTshMCE9PXQmJihpKz0iPSIrdCl9ZG9jdW1lbnQuY29va2llPWl9LHNjcm9sbFRvOmU9Pntjb25zdCB0PWpRdWVyeSxuPXdpbmRvdy5wYWdlWU9mZnNldHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCxpPU1hdGguYWJzKChlLW4pLzMpO3QoImJvZHksaHRtbCIpLmFuaW1hdGUoe3Njcm9sbFRvcDplfSxpKX0sZG9SYW5nZTp0PT57dC5pb25SYW5nZVNsaWRlcih7c2tpbjoicm91bmQiLGZvcmNlX2VkZ2VzOiEwLGV4dHJhX2NsYXNzZXM6ImZvcmNlZC1lZGdlcy10cnVlIixvbkZpbmlzaDpmdW5jdGlvbihlKXtsZXQgdD1uZXcgRXZlbnQoImNoYW5nZUZpbmlzaCIpO2UuaW5wdXQuZ2V0KDApLmRpc3BhdGNoRXZlbnQodCl9LG9uVXBkYXRlOmZ1bmN0aW9uKGUpe2xldCB0PW5ldyBFdmVudCgidXBkYXRlRmluaXNoIik7ZS5pbnB1dC5nZXQoMCkuZGlzcGF0Y2hFdmVudCh0KX19KTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3QgaT1lKHRbbl0pLHI9aS5kYXRhKCksbz1yLmlvblJhbmdlU2xpZGVyO28udXBkYXRlKHtwcmV0dGlmeTpmdW5jdGlvbihlKXtpZighci5wcmV0dGlmeUVuYWJsZWQpcmV0dXJuIGU7bGV0IHQ9ZS50b0ZpeGVkKHIucHJlY2lzaW9uKS50b1N0cmluZygpLnJlcGxhY2UoLyhcZHsxLDN9KD89KD86XGRcZFxkKSsoPyFcZCkpKS9nLGAkMSR7ci5wcmV0dGlmeVNlcGFyYXRvcn1gKTtyZXR1cm4gci5wcmVjaXNpb24+MCYmKHQ9dC5yZXBsYWNlKC9cLihcZCspJC9nLGAke3IuZGVjaW1hbFNlcGFyYXRvcH0kMWApKSx0fX0pLG8ucHJldl92YWx1ZT1pLnZhbCgpfX0saXNNb2JpbGU6dCxnZXRTY3JpcHQ6aX0sZSgoZnVuY3Rpb24oKXtyKCl9KSl9KGpRdWVyeSl9KCl9KCk7IjtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWVzcGFjZXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW5jbHVkZXMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZnVuY3Rpb25zIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNvbnN0YW50cyI7YTowOnt9czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjbGFzc2VzIjthOjA6e31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGludGVyZmFjZXMiO2E6MDp7fXM6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAdHJhaXRzIjthOjA6e31zOjQwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGVudW1zIjthOjA6e31zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG1ldGFkYXRhIjthOjA6e319";