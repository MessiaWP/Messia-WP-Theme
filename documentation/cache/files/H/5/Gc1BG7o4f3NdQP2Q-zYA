1702936352
waR3U4bTeM%3Ab68c8ab0cb98a9cd5df85a77b3948c29-712706445cb18e04b6add1d65fd28915
s:18812:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjcxMjcwNjQ0NWNiMThlMDRiNmFkZDFkNjVmZDI4OTE1IjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MTI6InRlcm0tZWRpdC5qcyI7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBwYXRoIjtzOjI4OiJzcmMvanMvX2JhY2tlbmQvdGVybS1lZGl0LmpzIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czoxMzE5OToiKGZ1bmN0aW9uICgkKSB7CgoJJChmdW5jdGlvbiAoKSB7CgkJJ3VzZSBzdHJpY3QnOwoKCQl2YXIgTWVzc2lhOwoKCQlNZXNzaWEgPSB7CgkJCXNlbGVjdDJNdWx0aXBsZTogJycsCgkJCXNlbGVjdDJBc3luYzogJycsCgkJCXNlbGVjdFRlcm1NZWRpYTogZnVuY3Rpb24gKGV2ZW50KSB7CgkJCQkkKHRoaXMpLm1lc3NpYU1lZGlhU2VsZWN0b3IoTWVzc2lhLmltYWdlU2VsZWN0ZWRUZXJtVGh1bWJuYWlsKTsKCQkJfSwKCQkJc2VsZWN0Q29uc3RydWN0b3JNZWRpYTogZnVuY3Rpb24gKCkgewoJCQkJJCh0aGlzKS5tZXNzaWFNZWRpYVNlbGVjdG9yKE1lc3NpYS5pbWFnZVNlbGVjdGVkQ29uc3RydWN0b3IpOwoJCQl9LAoJCQlpbWFnZVNlbGVjdGVkVGVybVRodW1ibmFpbDogZnVuY3Rpb24gKGNhbGxlciwgc2VsZWN0aW9uKSB7CgkJCQkkLmZuLm1lc3NpYUFwcGVuZE1lZGlhU2VsZWN0aW9uKGNhbGxlciwgc2VsZWN0aW9uKTsKCgkJCQl2YXIgaW1hZ2VzID0gW107CgkJCQl2YXIgaWNvbnMgPSBjYWxsZXIucGFyZW50KCkuZmluZCgnLmljb24nKTsKCQkJCXZhciBkYXRhR2V0dGVyID0gY2FsbGVyLnBhcmVudHMoJy50ZXJtX3RodW1ibmFpbCwgLnRlcm1faWNvbicpLmZpbmQoJ2lucHV0W3R5cGU9ImhpZGRlbiJdJyk7CgoJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBpY29ucy5sZW5ndGg7IGkrKykgewoJCQkJCWlmICgkKGljb25zW2ldKS5maW5kKCcucGxhY2Vob2xkZXItaW1hZ2UnKS5sZW5ndGggPT09IDApIHsKCQkJCQkJaW1hZ2VzLnB1c2goJChpY29uc1tpXSkuZGF0YSgnaW1hZ2VpbmZvJykpOwoJCQkJCX0KCQkJCX0KCQkJCWxldCBpbWFnZVNldCA9IGltYWdlcy5maWx0ZXIoaW1hZ2UgPT4gewoJCQkJCWRlbGV0ZSBpbWFnZS51cmw7CgkJCQkJcmV0dXJuIGltYWdlOwoJCQkJfSk7CgkJCQlkYXRhR2V0dGVyLnZhbChKU09OLnN0cmluZ2lmeShpbWFnZVNldCkpOwoJCQl9LAoJCQlpbWFnZVNlbGVjdGVkQ29uc3RydWN0b3I6IGZ1bmN0aW9uIChjYWxsZXIsIHNlbGVjdGlvbikgewoJCQkJJC5mbi5tZXNzaWFBcHBlbmRNZWRpYVNlbGVjdGlvbihjYWxsZXIsIHNlbGVjdGlvbik7CgoJCQkJdmFyIGltYWdlcyA9IFtdOwoJCQkJdmFyIGljb25zID0gY2FsbGVyLnBhcmVudCgpLmZpbmQoJy5pY29uJyk7CgkJCQl2YXIgZGF0YUdldHRlciA9IGNhbGxlci5wYXJlbnRzKCcudGl0bGVzLXdyYXBwZXInKS5maW5kKCdbbS1uYW1lPSJpY29uIl0nKTsKCgkJCQlmb3IgKHZhciBpID0gMDsgaSA8IGljb25zLmxlbmd0aDsgaSsrKSB7CgkJCQkJaWYgKCQoaWNvbnNbaV0pLmZpbmQoJy5wbGFjZWhvbGRlci1pbWFnZScpLmxlbmd0aCA9PT0gMCkgewoJCQkJCQlpbWFnZXMucHVzaCgkKGljb25zW2ldKS5kYXRhKCdpbWFnZWluZm8nKSk7CgkJCQkJfQoJCQkJfQoJCQkJbGV0IGltYWdlU2V0ID0gaW1hZ2VzLmZpbHRlcihpbWFnZSA9PiB7CgkJCQkJZGVsZXRlIGltYWdlLnVybDsKCQkJCQlyZXR1cm4gaW1hZ2U7CgkJCQl9KTsKCQkJCWRhdGFHZXR0ZXIudmFsKEpTT04uc3RyaW5naWZ5KGltYWdlU2V0KSk7CgkJCQlNZXNzaWEuc2V0RGlydHkoKTsKCQkJfSwKCQkJcmVtb3ZlVGVybU1lZGlhOiBmdW5jdGlvbiAoZXZlbnQpIHsKCgkJCQlldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKCQkJCSQodGhpcykucmVtb3ZlQ2xhc3MoJ3JlbW92ZS1pbWFnZScpLmFkZENsYXNzKCdwbGFjZWhvbGRlci1pbWFnZScpLnBhcmVudCgpLnJlbW92ZUF0dHIoJ2lkJykuZmluZCgnLmltYWdlJykucmVtb3ZlKCk7CgkJCQkkKHRoaXMpLnBhcmVudHMoJy5mb3JtLWZpZWxkLm1lc3NpYS50ZXJtX2ljb24sIC5mb3JtLWZpZWxkLm1lc3NpYS50ZXJtX3RodW1ibmFpbCcpLmZpbmQoJ2lucHV0W3R5cGU9ImhpZGRlbiJdW25hbWU9InRlcm1faWNvbiJdLCBpbnB1dFt0eXBlPSJoaWRkZW4iXVtuYW1lPSJ0ZXJtX3RodW1ibmFpbCJdJykudmFsKCcnKTsKCQkJfSwKCQkJcmVtb3ZlQ29uc3RydWN0b3JNZWRpYTogZnVuY3Rpb24gKGV2ZW50KSB7CgoJCQkJZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQkkKHRoaXMpLnJlbW92ZUNsYXNzKCdyZW1vdmUtaW1hZ2UnKS5hZGRDbGFzcygncGxhY2Vob2xkZXItaW1hZ2UnKS5wYXJlbnQoKS5yZW1vdmVBdHRyKCdpZCcpLmZpbmQoJy5pbWFnZScpLnJlbW92ZSgpOwoJCQkJJCh0aGlzKS5wYXJlbnRzKCcudGl0bGVzLXdyYXBwZXInKS5maW5kKCdbbS1uYW1lPSJpY29uIl0nKS52YWwoJycpOwoJCQl9LAoJCQljbG9zZUFkZDogZnVuY3Rpb24gKHRhcmdldCkgewoJCQkJdGFyZ2V0LmZpbmQoJy5maWVsZC10aXRsZScpLmFwcGVuZCgnPHNwYW4gY2xhc3M9InJlbW92ZSI+PC9zcGFuPicpOwoJCQl9LAoJCQlkZWxldGVTbG90OiBmdW5jdGlvbiAoZSkgewoJCQkJJChlLnRhcmdldCkucGFyZW50cygnLmNvbnN0cnVjdG9yLWZpZWxkJykuYW5pbWF0ZSh7CgkJCQkJb3BhY2l0eTogMCwKCQkJCX0sIDQwMCwgZnVuY3Rpb24gKCkgewoJCQkJCSQodGhpcykucmVtb3ZlKCk7CgkJCQl9KTsKCQkJfSwKCQkJc2hvd1Nsb3RTZXR0aW5nczogZnVuY3Rpb24gKHVpKSB7CgkJCQl2YXIgc2V0dGluZ3MgPSB1aS5pdGVtLmZpbmQoJy5zZXR0aW5ncycpOwoKCQkJCWlmICh1aS5pdGVtLmRhdGEoJ3Zpc2libGUnKSA9PT0gdHJ1ZSkgewoJCQkJCXJldHVybjsKCQkJCX07CgkJCQlpZiAoc2V0dGluZ3MuY2hpbGRyZW4oKS5sZW5ndGggPT09IDApIHsKCQkJCQlyZXR1cm47CgkJCQl9CgoJCQkJY29uc3QgdGFyZ2V0cyA9IHNldHRpbmdzLmZpbmQoJ2lucHV0LCBzZWxlY3QnKTsKCgkJCQlmb3IgKGxldCBpID0gMDsgaSA8IHRhcmdldHMubGVuZ3RoOyBpKyspIHsKCQkJCQljb25zdAoJCQkJCQlpbnB1dCA9ICQodGFyZ2V0c1tpXSksCgkJCQkJCWlucHV0X2lkID0gaW5wdXQuYXR0cignaWQnKSwKCQkJCQkJaW5wdXRfbmFtZSA9IGlucHV0LmF0dHIoJ25hbWUnKSwKCQkJCQkJbGFiZWxzID0gc2V0dGluZ3MuZmluZChgbGFiZWxbZm9yPSIke2lucHV0X2lkfSJdYCksCgkJCQkJCWlucHV0cyA9IHNldHRpbmdzLmZpbmQoYGlucHV0W25hbWU9IiR7aW5wdXRfbmFtZX0iXWApLAoJCQkJCQluYW1lX3JuZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyKS5zcGxpdCgnLicpWzBdLAoJCQkJCQlpZF9ybmQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMikuc3BsaXQoJy4nKVswXTsKCgkJCQkJaW5wdXQuYXR0cignaWQnLCBpZF9ybmQpOwoJCQkJCWxhYmVscy5hdHRyKCdmb3InLCBpZF9ybmQpOwoJCQkJCWlucHV0cy5hdHRyKCduYW1lJywgbmFtZV9ybmQpOwoJCQkJfQoKCQkJCWlmIChzZXR0aW5ncy5jc3MoJ2Rpc3BsYXknKSAhPSAnbm9uZScpIHsKCQkJCQlyZXR1cm47CgkJCQl9CgoJCQkJdmFyIHdfZnJvbSA9IHVpLml0ZW0ub3V0ZXJXaWR0aCgpOwoKCQkJCXVpLml0ZW0uY3NzKHsKCQkJCQknaGVpZ2h0JzogJycsCgkJCQkJJ3dpZHRoJzogJycsCgkJCQl9KS5maW5kKCcuZmllbGQtdGl0bGUnKS5hcHBlbmQoJzxzcGFuIGNsYXNzPSJyZW1vdmUiPjwvc3Bhbj4nKTsKCgkJCQl2YXIgd190byA9IHVpLml0ZW0ub3V0ZXJXaWR0aCgpOwoKCQkJCXVpLml0ZW0uY3NzKHsKCQkJCQknd2lkdGgnOiB3X2Zyb20sCgkJCQl9KTsKCgkJCQkvL0NhcmQgZGl2CgkJCQl1aS5pdGVtLmFuaW1hdGUoewoJCQkJCXdpZHRoOiB3X3RvICsgJ3B4JywKCQkJCX0sIDIwMCwgZnVuY3Rpb24gKCkgewoJCQkJCSQodGhpcykuY3NzKHsKCQkJCQkJJ3dpZHRoJzogJycsCgkJCQkJfSk7CgoJCQkJCXNldHRpbmdzLmNzcygnZGlzcGxheScsICdibG9jaycpOwoJCQkJCXZhciBoID0gc2V0dGluZ3Mub3V0ZXJIZWlnaHQoKTsKCQkJCQl2YXIgdyA9IHNldHRpbmdzLm91dGVyV2lkdGgoKTsKCQkJCQlzZXR0aW5ncy5jc3MoewoJCQkJCQknaGVpZ2h0JzogMCwKCQkJCQkJJ3dpZHRoJzogMCwKCQkJCQl9KTsKCQkJCQlzZXR0aW5ncy5hbmltYXRlKAoJCQkJCQl7CgkJCQkJCQloZWlnaHQ6IGggKyAncHgnLAoJCQkJCQkJd2lkdGg6IHcgKyAncHgnLAoJCQkJCQl9LAoJCQkJCQl7CgkJCQkJCQlkdXJhdGlvbjogNDAwLAoJCQkJCQkJc3RhcnQ6IE1lc3NpYS5hZGp1c3RJY29uLmNhbGwoJCh0aGlzKSksCgkJCQkJCQljb21wbGV0ZTogZnVuY3Rpb24gKCkgewoJCQkJCQkJCSQodGhpcykuY3NzKHsKCQkJCQkJCQkJJ2hlaWdodCc6ICcnLAoJCQkJCQkJCQknd2lkdGgnOiAnJywKCQkJCQkJCQl9KTsKCQkJCQkJCQl1aS5pdGVtLmRhdGEoJ3Zpc2libGUnLCB0cnVlKTsKCQkJCQkJCX0sCgkJCQkJCX0KCQkJCQkpOwoJCQkJfSk7CgkJCX0sCgkJCWFkanVzdEljb246IGZ1bmN0aW9uIChvYmplY3QpIHsKCQkJCXZhciBmaWxlZHNfdGl0bGUgPSAkKHRoaXMpLmZpbmQoJy50aXRsZXMtd3JhcHBlciBbbS1uYW1lPSJ0aXRsZSJdJyk7CgkJCQl2YXIgZmlsZWRzX3NsdWcgPSAkKHRoaXMpLmZpbmQoJy50aXRsZXMtd3JhcHBlciBbbS1uYW1lPSJzbHVnIl0nKTsKCQkJCXZhciBpY29uID0gJCh0aGlzKS5maW5kKCcudGl0bGVzLXdyYXBwZXIgLmljb24nKTsKCgkJCQl2YXIgZmlsZWRzX2hlaWdodCA9IGZpbGVkc190aXRsZS5vdXRlckhlaWdodCgpICsgcGFyc2VJbnQoZmlsZWRzX3RpdGxlLmNzcygnbWFyZ2luLXRvcCcpKSArIHBhcnNlSW50KGZpbGVkc190aXRsZS5jc3MoJ21hcmdpbi1ib3R0b20nKSkgKwoJCQkJCWZpbGVkc19zbHVnLm91dGVySGVpZ2h0KCkgKyBwYXJzZUludChmaWxlZHNfc2x1Zy5jc3MoJ21hcmdpbi10b3AnKSkgKyBwYXJzZUludChmaWxlZHNfc2x1Zy5jc3MoJ21hcmdpbi1ib3R0b20nKSk7CgkJCQl2YXIgaWNvbl9oZWlnaHQgPSBmaWxlZHNfaGVpZ2h0IC0KCQkJCQlwYXJzZUludChpY29uLmNzcygncGFkZGluZy10b3AnKSkgLQoJCQkJCXBhcnNlSW50KGljb24uY3NzKCdwYWRkaW5nLWJvdHRvbScpKSAtCgkJCQkJcGFyc2VJbnQoaWNvbi5jc3MoJ21hcmdpbi10b3AnKSkgLQoJCQkJCXBhcnNlSW50KGljb24uY3NzKCdtYXJnaW4tYm90dG9tJykpIC0KCQkJCQlwYXJzZUludChpY29uLmNzcygnYm9yZGVyLXRvcC13aWR0aCcpKSAtCgkJCQkJcGFyc2VJbnQoaWNvbi5jc3MoJ2JvcmRlci1ib3R0b20td2lkdGgnKSk7CgoJCQkJaWNvbi5jc3MoJ3dpZHRoJywgaWNvbl9oZWlnaHQpOwoJCQkJaWNvbi5jc3MoJ2hlaWdodCcsIGljb25faGVpZ2h0KTsKCQkJfSwKCQkJc2F2ZTogZnVuY3Rpb24gKGUpIHsKCgkJCQl2YXIgdG9TYXZlID0gTWVzc2lhLnByZXBhcmUoKTsKCgkJCQlpZiAodG9TYXZlID09PSBmYWxzZSkgewoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJCWVsc2UgewoJCQkJCSQoJ2lucHV0I2NvbnN0cnVjdG9yX2NmJykudmFsKEpTT04uc3RyaW5naWZ5KHRvU2F2ZSkpOwoJCQkJfQoJCQl9LAoJCQlwcmVwYXJlOiBmdW5jdGlvbiAoKSB7CgoJCQkJdmFyIHRvb2sgPSBmYWxzZTsKCQkJCXZhciBzbHVncyA9IFtdOwoJCQkJdmFyIGVyciA9IFtdOwoJCQkJdmFyIHNhdmUgPSBbXTsKCgkJCQl2YXIgY29uc3RydWN0ZWRGaWVsZHMgPSAkKCcjY29uc3RydWN0ZWQtd3JhcHBlcicpLmZpbmQoJ2Rpdi5jb25zdHJ1Y3Rvci1maWVsZCcpOwoKCQkJCWZvciAodmFyIHEgPSAwOyBxIDwgY29uc3RydWN0ZWRGaWVsZHMubGVuZ3RoOyBxKyspIHsKCgkJCQkJdmFyIGNvbnN0cnVjdGVkID0gJChjb25zdHJ1Y3RlZEZpZWxkc1txXSkKCQkJCQl2YXIgaW5wdXRzID0gY29uc3RydWN0ZWQuZmluZCgnLnNldHRpbmdzIGlucHV0LCAuc2V0dGluZ3Mgc2VsZWN0Jyk7CgkJCQkJdmFyIGZpZWxkID0gewoJCQkJCQknZmllbGRfdHlwZSc6IGNvbnN0cnVjdGVkLmF0dHIoJ3R5cGUnKSwKCQkJCQkJJ2NhcHMnOiBbXSwKCQkJCQl9OwoKCQkJCQlmb3IgKHZhciB3ID0gMDsgdyA8IGlucHV0cy5sZW5ndGg7IHcrKykgewoKCQkJCQkJdmFyIGlucHV0ID0gJChpbnB1dHNbd10pOwoKCQkJCQkJLy8gRXJyb3JzCgkJCQkJCWlmIChpbnB1dC5hdHRyKCdtLXJlcXVpcmVkJykgPT0gJ3RydWUnICYmIGlucHV0LnZhbCgpID09PSAnJykgewoJCQkJCQkJaW5wdXQuYWRkQ2xhc3MoJ3JlcXVpcmVkJyk7CgkJCQkJCQllcnIucHVzaChtZXNzaWFWYXJzLm1lc3NhZ2VzLmZpbGxSZXF1aXJlZEZpZWxkcyk7CgkJCQkJCX0KCgkJCQkJCWlmIChpbnB1dC5hdHRyKCdtLW5hbWUnKSA9PSAnc2x1ZycpIHsKCgkJCQkJCQlsZXQgdGFrZSA9IHNsdWdzLmluY2x1ZGVzKGlucHV0LnZhbCgpKTsKCgkJCQkJCQlpZiAodGFrZSAmJiBpbnB1dC52YWwoKSAhPSAnJykgewoJCQkJCQkJCWVyci5wdXNoKG1lc3NpYVZhcnMubWVzc2FnZXMucmVtb3ZlRHVwbGljYXRlZFNsdWdzKTsKCQkJCQkJCX0KCQkJCQkJCWVsc2UgewoJCQkJCQkJCXNsdWdzLnB1c2goaW5wdXQudmFsKCkpOwoJCQkJCQkJfQoJCQkJCQl9CgoJCQkJCQkvLyBEYXRhIHRvIHNhdmUKCQkJCQkJaWYgKGlucHV0LmF0dHIoJ3R5cGUnKSA9PT0gJ2NoZWNrYm94JykgewoJCQkJCQkJdmFyIHZhbCA9IE51bWJlcihpbnB1dC5wcm9wKCdjaGVja2VkJykpOwoJCQkJCQl9CgkJCQkJCWVsc2UgaWYgKGlucHV0LmF0dHIoJ3R5cGUnKSA9PT0gJ3JhZGlvJykgewoJCQkJCQkJY29uc3QgbmFtZSA9IGlucHV0LmF0dHIoJ25hbWUnKTsKCQkJCQkJCXZhciB2YWwgPSBpbnB1dC5wYXJlbnQoKS5maW5kKGBbbmFtZT0iJHtuYW1lfSJdOmNoZWNrZWRgKS52YWwoKTsKCQkJCQkJfQoJCQkJCQllbHNlIHsKCQkJCQkJCXZhciB2YWwgPSBpbnB1dC52YWwoKTsKCQkJCQkJfQoJCQkJCQljb25zdCBtbmFtZSA9IGlucHV0LmF0dHIoJ20tbmFtZScpOwoKCQkJCQkJaWYgKGlucHV0LnBhcmVudHMoJy5jYXBzJykubGVuZ3RoID09PSAxKSB7CgkJCQkJCQlpZiAoaW5wdXQucHJvcCgnY2hlY2tlZCcpKSB7CgkJCQkJCQkJZmllbGRbJ2NhcHMnXS5wdXNoKG1uYW1lKTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQllbHNlIHsKCQkJCQkJCWZpZWxkW21uYW1lXSA9IHZhbDsKCQkJCQkJfQoJCQkJCX0KCgkJCQkJc2F2ZS5wdXNoKGZpZWxkKTsKCQkJCX0KCQkJCWlmIChlcnIubGVuZ3RoID4gMCkgewoJCQkJCXNhdmUgPSBmYWxzZTsKCQkJCQlhbGVydChBcnJheS5mcm9tKG5ldyBTZXQoZXJyKSkuam9pbigiXG4iKSk7CgkJCQl9CgoJCQkJcmV0dXJuIHNhdmU7CgkJCX0sCgkJCW9wZW5TbHVnRm9yRWRpdChldmVudCkgewoKCQkJCXZhciB0YXJnZXQgPSAkKGV2ZW50LnRhcmdldCk7CgoJCQkJaWYgKCF0YXJnZXQuaGFzQ2xhc3MoJ2xvY2tlZCcpIHx8IHRhcmdldC5wYXJlbnRzKCcuc2F2ZWQnKS5sZW5ndGggPT09IDApIHsKCQkJCQlyZXR1cm47CgkJCQl9CgoJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJCXZhciBjb25maXJtID0gJC5mbi5tZXNzaWFNb2RhbFdhcm5pbmcoZmFsc2UsIG1lc3NpYVZhcnMubWVzc2FnZXMuY29uc3RydWN0b3JTbHVnRWRpdCwgW10pOwoJCQkJY29uZmlybS5lbGVtZW50Lm9uZSgnZGlhbG9nQ2xvc2VkJywgeyAnY2FsbGVyJzogdGFyZ2V0IH0sIE1lc3NpYS5vbkNvbmZpcm1TbHVnRWRpdCk7CgkJCX0sCgkJCXNob3dTY2hlbWEoZXZlbnQpIHsKCgkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJdmFyIGNvbnRlbnQgPSAkKHRoaXMpLm5leHQoJy5tb2RhbC1jb250ZW50JykucHJvcCgnb3V0ZXJIVE1MJyk7CgkJCQkkLmZuLm1lc3NpYU1vZGFsV2FybmluZyhmYWxzZSwgY29udGVudCwgZmFsc2UpOwoJCQl9LAoJCQlzZXREZWZhdWx0U2VnbWVudFRpcDogZnVuY3Rpb24gKGV2ZW50KSB7CgkJCQkkKCd0Ym9keSN0aGUtbGlzdCAjdGFnLScgKyBtZXNzaWFWYXJzLmRlZmF1bHRTZWdtZW50VGVybUlkICsgJyB0aC5jaGVjay1jb2x1bW4nKS5lbXB0eSgpLmFwcGVuZCgnPHNwYW4gY2xhc3M9Im1lc3NpYS1oZWxwLXRpcCIgdGl0bGU9IicgKyBtZXNzaWFWYXJzLm1lc3NhZ2VzLnNlZ21lbnRUZXJtSXNSZWFkT25seSArICciPjwvc3Bhbj4nKTsKCQkJfSwKCQkJc2V0RGlydHk6IGZ1bmN0aW9uIChlKSB7CgkJCQkkKGRvY3VtZW50KS50cmlnZ2VyKCdtZXNzaWFDb250ZW50SXNEaXJ0eScpOwoJCQl9LAoJCQljbGVhckRpcnR5OiBmdW5jdGlvbiAoZSkgewoJCQkJJChkb2N1bWVudCkudHJpZ2dlcignbWVzc2lhQ29udGVudElzU2F2ZWQnKTsKCQkJfSwKCQkJcXVpY2tFZGl0OiBmdW5jdGlvbiAoZXZlbnQpIHsKCgkJCQl2YXIgdGVybV9hc19maWx0ZXIgPSAkKHRoaXMpLmNsb3Nlc3QoJ3RyJykuZmluZCgndGQudGVybV9hc19maWx0ZXInKS5maW5kKCcudmFsdWUnKS5kYXRhKCdjaGVja2VkJykKCQkJCXZhciB0ZXJtX29uX2NhcmQgPSAkKHRoaXMpLmNsb3Nlc3QoJ3RyJykuZmluZCgndGQudGVybV9vbl9jYXJkJykuZmluZCgnLnZhbHVlJykuZGF0YSgnY2hlY2tlZCcpCgoJCQkJJCgnOmlucHV0W25hbWU9InRlcm1fYXNfZmlsdGVyIl0nLCAnLmlubGluZS1lZGl0LXJvdycpLnByb3AoJ2NoZWNrZWQnLCB0ZXJtX2FzX2ZpbHRlcik7CgkJCQkkKCc6aW5wdXRbbmFtZT0idGVybV9vbl9jYXJkIl0nLCAnLmlubGluZS1lZGl0LXJvdycpLnByb3AoJ2NoZWNrZWQnLCB0ZXJtX29uX2NhcmQpOwoJCQl9LAoJCQlvbkNvbmZpcm1TbHVnRWRpdDogZnVuY3Rpb24gKGV2ZW50LCBhY3Rpb24pIHsKCQkJCWlmIChhY3Rpb24gPT09ICdvaycpIHsKCQkJCQlldmVudC5kYXRhLmNhbGxlci5yZW1vdmVDbGFzcygnbG9ja2VkJyk7CgkJCQl9CgkJCQllbHNlIHsKCQkJCQlldmVudC5kYXRhLmNhbGxlci5hZGRDbGFzcygnbG9ja2VkJyk7CgkJCQl9CgkJCX0sCgkJCWluaXRTZWxlY3QyRWRpdElubGluZTogZnVuY3Rpb24gKCkgewoJCQkJaWYgKHRydWUgPT09ICQuZm4ubWVzc2lhSXNNb2JpbGUoKSkgewoJCQkJCU1lc3NpYS5zZWxlY3QyTXVsdGlwbGUgPSAnW211bHRpcGxlXSc7CgkJCQl9CgkJCQl2YXIgc2V0ID0gWwoJCQkJCXsJLy8gdGVybWluIHBhZ2UKCQkJCQkJc2VsZWN0b3I6ICQodGhpcykucGFyZW50cygnLndwLWxpc3QtdGFibGUnKS5maW5kKGAuaW5saW5lLWVkaXQtcm93LmlubGluZS1lZGl0b3Igc2VsZWN0W25hbWU9InRlcm1fb3JkZXJfdGFyZ2V0X2lkIl0ke01lc3NpYS5zZWxlY3QyTXVsdGlwbGV9LCAuaW5saW5lLWVkaXQtcm93LmlubGluZS1lZGl0b3Igc2VsZWN0W25hbWU9InRlcm1fb3JkZXJfdGFyZ2V0X2lkIl0ke01lc3NpYS5zZWxlY3QyQXN5bmN9YCksCgkJCQkJCWFyZ3VtZW50czogewoJCQkJCQkJbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IDMsCgkJCQkJCQl3aWR0aDogJzMwMHB4JywKCQkJCQkJCWFqYXg6IHsKCQkJCQkJCQl0eXBlOiAnUE9TVCcsCgkJCQkJCQkJZGVsYXk6IDQ1MCwKCQkJCQkJCQl1cmw6IG1lc3NpYVZhcnMuYWpheFVybCwKCQkJCQkJCQlkYXRhVHlwZTogJ2pzb24nLAoJCQkJCQkJCWRhdGE6IGZ1bmN0aW9uIChwYXJhbXMpIHsKCgkJCQkJCQkJCWxldCBlZGl0ID0gdGhpcy5wYXJlbnRzKCcuaW5saW5lLWVkaXQtcm93LmlubGluZS1lZGl0b3InKTsKCQkJCQkJCQkJbGV0IHBhcnRzID0gZWRpdC5hdHRyKCdpZCcpLnNwbGl0KCctJyk7CgkJCQkJCQkJCWxldCB0YXggPSBlZGl0LmZpbmQoJy5pbmxpbmUtZWRpdC1zYXZlLnN1Ym1pdCBpbnB1dFtuYW1lPSJ0YXhvbm9teSJdJykudmFsKCk7CgoJCQkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCQkJYWN0aW9uOiAnZ2V0X3Rlcm1fbmVpZ2hib3JzJywKCQkJCQkJCQkJCUFKQVhfTWFya2VyOiBtZXNzaWFWYXJzLkFKQVhfTWFya2VyLAoJCQkJCQkJCQkJbWVzc2lhTm9uY2U6IG1lc3NpYVZhcnMubWVzc2lhTm9uY2UsCgkJCQkJCQkJCQl0YXhvbm9teTogdGF4LAoJCQkJCQkJCQkJbmVpZ2hib3I6IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdLAoJCQkJCQkJCQkJc2VhcmNoOiAndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHBhcmFtcy50ZXJtID8gbnVsbCA6IHBhcmFtcy50ZXJtLAoJCQkJCQkJCQkJcGFnZTogcGFyYW1zLnBhZ2UsCgkJCQkJCQkJCX07CgkJCQkJCQkJfSwKCQkJCQkJCQlwcm9jZXNzUmVzdWx0czogZnVuY3Rpb24gKHNlcnZlcikgewoJCQkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCQkJcmVzdWx0czogc2VydmVyLmRhdGEudGVybXMKCQkJCQkJCQkJfTsKCQkJCQkJCQl9LAoJCQkJCQkJCWNhY2hlOiB0cnVlLAoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCX0sCgkJCQldOwoJCQkJJC5mbi5tZXNzaWFJbml0U2VsZWN0MihzZXQpOwoJCQl9LAoJCQl0b2dnbGVEaXNhYmxlVGFyZ2V0U2VsZWN0b3I6IGZ1bmN0aW9uICgpIHsKCgkJCQl2YXIgc2VsZWN0ID0gJCh0aGlzKS5wYXJlbnRzKCcuaW5saW5lLWVkaXQtcm93LmlubGluZS1lZGl0b3InKS5maW5kKCdzZWxlY3RbbmFtZT0idGVybV9vcmRlcl90YXJnZXRfaWQiXScpOwoJCQkJaWYgKCQodGhpcykudmFsKCkgPT09ICdyZXNldCcpIHsKCQkJCQlzZWxlY3QucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTsKCQkJCX0KCQkJCWVsc2UgewoJCQkJCXNlbGVjdC5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTsKCQkJCX0KCQkJfSwKCQl9OwoKCQljb25zdCBzb3J0YWJsZSA9ICQoJyNjb25zdHJ1Y3RlZC13cmFwcGVyJykuc29ydGFibGUoewoJCQlmb3JjZUhlbHBlclNpemU6IHRydWUsCgkJCWZvcmNlUGxhY2Vob2xkZXJTaXplOiB0cnVlLAoJCQkvL2N1cnNvcjogJ2dyYWJiaWcnLAoJCQlvcGFjaXR5OiAxLAoJCQkvL2Rpc3RhbmNlOiAxMCwKCQkJdG9sZXJhbmNlOiAnaW50ZXJzZWN0JywKCQkJc2Nyb2xsOiB0cnVlLAoJCQlzY3JvbGxTZW5zaXRpdml0eTogMjAsCgkJCWNvbnRhaW5tZW50OiAnI3dwd3JhcCcsCgkJCXBsYWNlaG9sZGVyOiAnc29ydGFibGUtcGxhY2Vob2xkZXInLAoJCQloYW5kbGU6ICcubW92ZScsCgkJCS8vekluZGV4OiAxMDAwMCwKCQkJc3RhcnQ6IChldmVudCwgdWkpID0+IHsKCQkJCXVpLmhlbHBlci5hZGRDbGFzcygnaXMtZWxldmF0ZWQnKTsKCQkJCSQoJ2JvZHknKS5hZGRDbGFzcygnY3Vyc29yLWdyYWJiaW5nJyk7CgkJCX0sCgkJCWJlZm9yZVN0b3A6IChldmVudCwgdWkpID0+IHsKCQkJCSQoJ2JvZHknKS5yZW1vdmVDbGFzcygnY3Vyc29yLWdyYWJiaW5nJyk7CgkJCX0sCgkJCXN0b3A6IChldmVudCwgdWkpID0+IHsKCQkJCXVpLml0ZW0ucmVtb3ZlQ2xhc3MoJ2lzLWVsZXZhdGVkJyk7CgkJCQlNZXNzaWEuc2hvd1Nsb3RTZXR0aW5ncyh1aSk7CgkJCQlNZXNzaWEuc2V0RGlydHkoKTsKCQkJfSwKCQl9KTsKCgkJY29uc3QgZHJhZ2dhYmxlID0gJCgnI2NvbnN0cnVjdG9yLXdyYXBwZXIgLmNvbnN0cnVjdG9yLWZpZWxkJykuZHJhZ2dhYmxlKHsKCQkJY29ubmVjdFRvU29ydGFibGU6ICcjY29uc3RydWN0ZWQtd3JhcHBlcicsCgkJCS8vY3Vyc29yOiAnZ3JhYmJpZycsCgkJCWhlbHBlcjogJ2Nsb25lJywKCQkJcmV2ZXJ0OiAnaW52YWxpZCcsCgkJCXNjcm9sbDogZmFsc2UsCgkJCXJldmVydER1cmF0aW9uOiAyMDAsCgkJCWhhbmRsZTogJy5tb3ZlJywKCQkJc3RhcnQ6IChldmVudCwgdWkpID0+IHsKCQkJCXVpLmhlbHBlci5hZGRDbGFzcygnaXMtZWxldmF0ZWQnKTsKCQkJCXNvcnRhYmxlLmFkZENsYXNzKCdkcmFnZ2luZycpOwoJCQkJJCgnYm9keScpLmFkZENsYXNzKCdjdXJzb3ItZ3JhYmJpbmcnKTsKCQkJfSwKCQkJYmVmb3JlU3RvcDogKGV2ZW50LCB1aSkgPT4gewoJCQkJJCgnYm9keScpLnJlbW92ZUNsYXNzKCdjdXJzb3ItZ3JhYmJpbmcnKTsKCQkJfSwKCQkJc3RvcDogKGV2ZW50LCB1aSkgPT4gewoJCQkJdWkuaGVscGVyLnJlbW92ZUNsYXNzKCdpcy1lbGV2YXRlZCcpOwoJCQkJc29ydGFibGUucmVtb3ZlQ2xhc3MoJ2RyYWdnaW5nJyk7CgkJCX0sCgkJfSk7CgoJCSQoJ2JvZHknKS5vbignY2xpY2snLCAnLmZvcm0tZmllbGQubWVzc2lhLnRlcm1faWNvbiAuaWNvbiAuZWRpdC1pbWFnZSwgLmZvcm0tZmllbGQubWVzc2lhLnRlcm1fdGh1bWJuYWlsIC5pY29uIC5lZGl0LWltYWdlJywgTWVzc2lhLnNlbGVjdFRlcm1NZWRpYSk7CgkJJCgnYm9keScpLm9uKCdjbGljayB0b3VjaHN0YXJ0JywgJy5mb3JtLWZpZWxkLm1lc3NpYS50ZXJtX2ljb24gLmljb24gLnJlbW92ZS1pbWFnZSwgLmZvcm0tZmllbGQubWVzc2lhLnRlcm1fdGh1bWJuYWlsIC5pY29uIC5yZW1vdmUtaW1hZ2UnLCBNZXNzaWEucmVtb3ZlVGVybU1lZGlhKTsKCgkJJCgnI2NvbnN0cnVjdGVkLXdyYXBwZXInKS5vbignY2xpY2snLCAnLmZpZWxkLXRpdGxlIC5yZW1vdmUnLCBNZXNzaWEuZGVsZXRlU2xvdCk7CgkJJCgnI2NvbnN0cnVjdGVkLXdyYXBwZXInKS5vbignY2xpY2sgdG91Y2hzdGFydCcsICcudGl0bGVzLXdyYXBwZXIgLmljb24gLmVkaXQtaW1hZ2UnLCBNZXNzaWEuc2VsZWN0Q29uc3RydWN0b3JNZWRpYSk7CgkJJCgnI2NvbnN0cnVjdGVkLXdyYXBwZXInKS5vbignY2xpY2sgdG91Y2hzdGFydCcsICcudGl0bGVzLXdyYXBwZXIgLmljb24gLnJlbW92ZS1pbWFnZScsIE1lc3NpYS5yZW1vdmVDb25zdHJ1Y3Rvck1lZGlhKTsKCQkkKCcjY29uc3RydWN0ZWQtd3JhcHBlcicpLm9uKCdrZXlkb3duJywgJy50aXRsZXMtd3JhcHBlciAudGl0bGVzIGlucHV0W20tbmFtZT0ic2x1ZyJdJywgTWVzc2lhLm9wZW5TbHVnRm9yRWRpdCk7CgkJJCgnI3RoZS1saXN0Jykub24oJ2NsaWNrJywgJy5lZGl0aW5saW5lJywgTWVzc2lhLnF1aWNrRWRpdCk7CgoJCSQoJ2JvZHknKS5vbignaW5wdXQnLCAnI2VkaXR0YWcgaW5wdXQsICNlZGl0dGFnIHRleHRhcmVhLCAjZWRpdHRhZyBzZWxlY3QnLCBNZXNzaWEuc2V0RGlydHkpOwoJCSQoJ2Zvcm0jZWRpdHRhZycpLm9uKCdzdWJtaXQnLCBNZXNzaWEuY2xlYXJEaXJ0eSk7CgoJCSQoJyNjb25zdHJ1Y3RlZC13cmFwcGVyIC5jb25zdHJ1Y3Rvci1maWVsZCAuc2V0dGluZ3MnKS5lYWNoKGZ1bmN0aW9uICgpIHsKCQkJTWVzc2lhLmFkanVzdEljb24uY2FsbCgkKHRoaXMpKTsKCQl9KTsKCgkJJCgnLmFyZWFzLXdhcm5pbmcnKS5vbignY2xpY2snLCAnLnNjaGVtYS5wb3B1cCcsIE1lc3NpYS5zaG93U2NoZW1hKTsKCgkJJCgnI3RoZS1saXN0Jykub24oJ2NsaWNrJywgJy5lZGl0aW5saW5lJywgTWVzc2lhLmluaXRTZWxlY3QyRWRpdElubGluZSk7CgkJJCgnLndwLWxpc3QtdGFibGUnKS5vbignY2xpY2snLCAnaW5wdXRbbmFtZT0idGVybV9vcmRlcl9wb3NpdGlvbl90eXBlIl0nLCBNZXNzaWEudG9nZ2xlRGlzYWJsZVRhcmdldFNlbGVjdG9yKTsKCgkJJCgnI2VkaXR0YWcgaW5wdXRbdHlwZT0ic3VibWl0Il0nKS5vbignY2xpY2snLCBNZXNzaWEuc2F2ZSk7CgkJTWVzc2lhLnNldERlZmF1bHRTZWdtZW50VGlwKCk7CgoJCSQoJy5tYWNzIHRib2R5I3RoZS1saXN0IC5tZXNzaWEtaGVscC10aXAnKS50b29sdGlwKCk7Cgl9KTsKfSkoalF1ZXJ5KTsiO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbmFtZXNwYWNlcyI7YTowOnt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbmNsdWRlcyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBmdW5jdGlvbnMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY29uc3RhbnRzIjthOjA6e31zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNsYXNzZXMiO2E6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fXM6NDA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZW51bXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbWV0YWRhdGEiO2E6MDp7fX0=";