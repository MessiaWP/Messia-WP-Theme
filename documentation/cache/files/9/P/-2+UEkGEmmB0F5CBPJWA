1702936352
waR3U4bTeM%3A5beaeab4af7d2718d761005763cac6f3-8521731c7b8b860dc20452665fa292b6
s:17156:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6Ijg1MjE3MzFjN2I4Yjg2MGRjMjA0NTI2NjVmYTI5MmI2IjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MTI6InBvc3QtZWRpdC5qcyI7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBwYXRoIjtzOjI4OiJzcmMvanMvX2JhY2tlbmQvcG9zdC1lZGl0LmpzIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czoxMTk1ODoiKGZ1bmN0aW9uICgkKSB7CgoJJChmdW5jdGlvbiAoKSB7CgkJJ3VzZSBzdHJpY3QnOwoKCQl2YXIgTWVzc2lhOwoKCQl3cC5hcGlGZXRjaC51c2UoZnVuY3Rpb24gKG9wdGlvbnMsIG5leHQpIHsKCgkJCXZhciByZXN1bHQgPSBuZXh0KG9wdGlvbnMpOwoJCQlyZXN1bHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKCQkJCU1lc3NpYS5wcm9jY2Vzc1Jlc3BvbnNlKHJlc3BvbnNlKTsKCQkJfSkuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7CgkJCQlNZXNzaWEucHJvY2Nlc3NSZXNwb25zZShyZXNwb25zZSk7CgkJCX0pOwoJCQlyZXR1cm4gcmVzdWx0OwoJCX0pOwoKCQlNZXNzaWEgPSB7CgkJCXNlbGVjdE1lZGlhOiBmdW5jdGlvbiAoKSB7CgkJCQkkKHRoaXMpLm1lc3NpYU1lZGlhU2VsZWN0b3IoTWVzc2lhLmltYWdlU2VsZWN0ZWQpOwoJCQl9LAoJCQlyZW1vdmVNZWRpYTogZnVuY3Rpb24gKGV2ZW50KSB7CgoJCQkJZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQl2YXIgaW1hZ2VzID0gJCh0aGlzKS5wYXJlbnRzKCcuZmllbGQnKTsKCQkJCSQodGhpcykucGFyZW50cygnLmljb24nKS5yZW1vdmUoKTsKCQkJCU1lc3NpYS51cGRhdGVJbWFnZXNJbnB1dChpbWFnZXMpOwoJCQkJTWVzc2lhLmdhbGxlcnlTb3J0YWJsZUFiaWxpdHkoaW1hZ2VzKTsKCQkJfSwKCQkJaW1hZ2VTZWxlY3RlZDogZnVuY3Rpb24gKGNhbGxlciwgc2VsZWN0aW9uKSB7CgkJCQkkLmZuLm1lc3NpYUFwcGVuZE1lZGlhU2VsZWN0aW9uKGNhbGxlciwgc2VsZWN0aW9uKTsKCgkJCQl2YXIgaW1hZ2VzID0gY2FsbGVyLnBhcmVudHMoJy5maWVsZCcpOwoJCQkJTWVzc2lhLnVwZGF0ZUltYWdlc0lucHV0KGltYWdlcyk7CgkJCQlNZXNzaWEuZ2FsbGVyeVNvcnRhYmxlQWJpbGl0eShpbWFnZXMpOwoJCQl9LAoJCQl1cGRhdGVJbWFnZXNJbnB1dDogZnVuY3Rpb24gKGNvbnRhaW5lcikgewoKCQkJCXZhciBpbWFnZXMgPSBbXTsKCQkJCXZhciBpY29ucyA9IGNvbnRhaW5lci5maW5kKCcuaWNvbicpOwoJCQkJdmFyIGRhdGFHZXR0ZXIgPSBjb250YWluZXIuZmluZCgnLnN0b3JhZ2UnKTsKCgkJCQlkYXRhR2V0dGVyLmVtcHR5KCk7CgoJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBpY29ucy5sZW5ndGg7IGkrKykgewoJCQkJCWlmICgkKGljb25zW2ldKS5maW5kKCcucGxhY2Vob2xkZXItaW1hZ2UnKS5sZW5ndGggPT09IDApIHsKCQkJCQkJdmFyIGltYWdlaW5mbyA9ICQoaWNvbnNbaV0pLmRhdGEoJ2ltYWdlaW5mbycpOwoKCQkJCQkJaWYgKHR5cGVvZiBpbWFnZWluZm8udXNlckxpbmsgPT09ICd1bmRlZmluZWQnKSB7CgkJCQkJCQlpbWFnZWluZm8udXNlckxpbmsgPSAnJzsKCQkJCQkJfQoJCQkJCQlkZWxldGUgaW1hZ2VpbmZvLnVybDsKCgkJCQkJCWZvciAoY29uc3Qga2V5IGluIGltYWdlaW5mbykgewoJCQkJCQkJZGF0YUdldHRlci5hcHBlbmQoYDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IiR7ZGF0YUdldHRlci5kYXRhKCduYW1lJyl9WyR7aX1dWyR7a2V5fV0iIHZhbHVlPSIke2ltYWdlaW5mb1trZXldfSI+YCk7CgkJCQkJCX0KCQkJCQkJaW1hZ2VzLnB1c2goJChpY29uc1tpXSkuZGF0YSgnaW1hZ2VpbmZvJykpOwoJCQkJCX0KCQkJCX0KCQkJfSwKCQkJZWRpdExpbmtJbWFnZTogZnVuY3Rpb24gKGV2ZW50KSB7CgoJCQkJZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgoJCQkJdmFyIGxpbmtfd3JhcHBlciA9ICQodGhpcykucGFyZW50cygnLmZpZWxkJykuZmluZCgnLmxpbmstd3JhcHBlcicpOwoJCQkJdmFyIGNhbGxlciA9ICQodGhpcykucGFyZW50KCcuaWNvbicpOwoKCQkJCSQodGhpcykuYWRkQ2xhc3MoJ29uLWVkaXQnKTsKCgkJCQlsaW5rX3dyYXBwZXIuaGlkZSh7CgkJCQkJZWZmZWN0OiAnZHJvcCcsCgkJCQkJZGlyZWN0aW9uOiAnZG93bicsCgkJCQkJZHVyYXRpb246IDMwMCwKCQkJCQljb21wbGV0ZTogZnVuY3Rpb24gKCkgewoJCQkJCQkkKHRoaXMpLnNob3coewoJCQkJCQkJZWZmZWN0OiAnZHJvcCcsCgkJCQkJCQlkaXJlY3Rpb246ICdkb3duJywKCQkJCQkJCWR1cmF0aW9uOiAzMDAKCQkJCQkJfSkuZGF0YSgnY2FsbGVyJywgY2FsbGVyKS5maW5kKCdpbnB1dC5kYXRhJykudmFsKGNhbGxlci5kYXRhKCdpbWFnZWluZm8nKS51c2VyTGluayk7CgkJCQkJfQoJCQkJfSk7CgkJCX0sCgkJCWNvbW1pdExpbmtJbWFnZTogZnVuY3Rpb24gKGV2ZW50KSB7CgoJCQkJdmFyIGxpbmtfd3JhcHBlciA9ICQodGhpcykucGFyZW50KCcubGluay13cmFwcGVyJyk7CgkJCQl2YXIgY2FsbGVyID0gbGlua193cmFwcGVyLmRhdGEoJ2NhbGxlcicpOwoJCQkJdmFyIGltYWdlX2xpbmsgPSAkKHRoaXMpLnBhcmVudCgnLmxpbmstd3JhcHBlcicpLmZpbmQoJ2lucHV0LmRhdGEnKS52YWwoKTsKCgkJCQlpZiAoY2FsbGVyLmhhc0NsYXNzKCdpY29uJykpIHsKCQkJCQljYWxsZXIuZGF0YSgnaW1hZ2VpbmZvJykudXNlckxpbmsgPSBpbWFnZV9saW5rOwoJCQkJCU1lc3NpYS51cGRhdGVJbWFnZXNJbnB1dChsaW5rX3dyYXBwZXIucGFyZW50KCcuZmllbGQnKSk7CgkJCQkJaWYgKGltYWdlX2xpbmsgPT09ICcnKSB7CgkJCQkJCWNhbGxlci5maW5kKCcuZWRpdC1saW5rJykucmVtb3ZlQ2xhc3MoJ2xpbmtlZCcpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCWNhbGxlci5maW5kKCcuZWRpdC1saW5rJykuYWRkQ2xhc3MoJ2xpbmtlZCcpOwoJCQkJCX0KCQkJCQljYWxsZXIuZmluZCgnLmVkaXQtbGluaycpLnJlbW92ZUNsYXNzKCdvbi1lZGl0Jyk7CgkJCQl9CgoJCQkJbGlua193cmFwcGVyLmhpZGUoewoJCQkJCWVmZmVjdDogJ2Ryb3AnLAoJCQkJCWRpcmVjdGlvbjogJ2Rvd24nLAoJCQkJCWR1cmF0aW9uOiAzMDAKCQkJCX0pOwoJCQl9LAoJCQllZGl0TGlua1VybDogZnVuY3Rpb24gKGV2ZW50KSB7CgoJCQkJZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgoJCQkJdmFyIGZpZWxkID0gJCh0aGlzKS5wYXJlbnRzKCcuZmllbGQnKTsKCQkJCXZhciBsaW5rX3dyYXBwZXIgPSBmaWVsZC5maW5kKCcubGluay13cmFwcGVyJyk7CgkJCQlmaWVsZC5maW5kKCcuZWRpdC1saW5rJykuYWRkQ2xhc3MoJ29uLWVkaXQnKTsKCgkJCQlsaW5rX3dyYXBwZXIuc2hvdyh7CgkJCQkJZWZmZWN0OiAnZHJvcCcsCgkJCQkJZGlyZWN0aW9uOiAnZG93bicsCgkJCQkJZHVyYXRpb246IDMwMCwKCQkJCX0pOwoJCQl9LAoJCQljb21taXRMaW5rVXJsOiBmdW5jdGlvbiAoZXZlbnQpIHsKCgkJCQl2YXIKCQkJCQlsaW5rX3dyYXBwZXIgPSAkKHRoaXMpLnBhcmVudCgnLmxpbmstd3JhcHBlcicpLAoJCQkJCXVybCA9IGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ1cmwiXScpLnZhbCgpLAoJCQkJCWljb24gPSBsaW5rX3dyYXBwZXIucHJldignLmlucHV0LWxpbmsnKS5maW5kKCcuZWRpdC1saW5rJyk7CgoJCQkJaWYgKHVybCA9PT0gJycpIHsKCQkJCQlpY29uLnJlbW92ZUNsYXNzKCdsaW5rZWQnKTsKCQkJCX0gZWxzZSB7CgkJCQkJaWNvbi5hZGRDbGFzcygnbGlua2VkJyk7CgkJCQl9CgkJCQlpY29uLnJlbW92ZUNsYXNzKCdvbi1lZGl0Jyk7CgoJCQkJbGlua193cmFwcGVyLmhpZGUoewoJCQkJCWVmZmVjdDogJ2Ryb3AnLAoJCQkJCWRpcmVjdGlvbjogJ2Rvd24nLAoJCQkJCWR1cmF0aW9uOiAzMDAKCQkJCX0pOwoJCQl9LAoJCQltYWtlUmFkaW9CdXR0b25zOiBmdW5jdGlvbiAoKSB7CgkJCQkkKCIjbWVzc2lhX29iamVjdF9zZWdtZW50Y2hlY2tsaXN0IGlucHV0IikuZWFjaChmdW5jdGlvbiAoKSB7CgkJCQkJdGhpcy50eXBlID0gJ3JhZGlvJzsKCQkJCX0pOwoJCQl9LAoJCQluZXdTZWdtZW50T2JzZXJ2ZXI6IGZ1bmN0aW9uICgpIHsKCgkJCQl2YXIgdGFyZ2V0Tm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzaWFfb2JqZWN0X3NlZ21lbnRjaGVja2xpc3QnKTsKCgkJCQlpZiAodGFyZ2V0Tm9kZSA9PT0gbnVsbCkgewoJCQkJCXJldHVybjsKCQkJCX0KCgkJCQl2YXIgY29uZmlnID0geyBhdHRyaWJ1dGVzOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfTsKCQkJCXZhciBjYWxsYmFjayA9IGZ1bmN0aW9uIChtdXRhdGlvbnNMaXN0KSB7CgkJCQkJZm9yICh2YXIgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkgewoJCQkJCQlpZiAobXV0YXRpb24udHlwZSA9PSAnY2hpbGRMaXN0JykgewoJCQkJCQkJTWVzc2lhLm1ha2VSYWRpb0J1dHRvbnMoKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX07CgkJCQl2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjayk7CgkJCQlvYnNlcnZlci5vYnNlcnZlKHRhcmdldE5vZGUsIGNvbmZpZyk7CgkJCX0sCgkJCXByb2NjZXNzUmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkgewoJCQkJTWVzc2lhLmdvb2dsZUdlb1Jlc3BvbnNlKHJlc3BvbnNlKTsKCQkJCU1lc3NpYS5tZXNzaWFSZXNwb25zZShyZXNwb25zZSk7CgkJCX0sCgkJCW1lc3NpYVJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKCgkJCQlpZiAodHlwZW9mIHJlc3BvbnNlLm1lc3NpYURhdGEgIT09ICd1bmRlZmluZWQnKSB7CgkJCQkJaWYgKHR5cGVvZiByZXNwb25zZS5tZXNzaWFEYXRhLnNhdmVkICE9PSAndW5kZWZpbmVkJykgewoJCQkJCQlpZiAocmVzcG9uc2UubWVzc2lhRGF0YS5zYXZlZCA9PT0gZmFsc2UpIHsKCgkJCQkJCQl3cC5kYXRhLmRpc3BhdGNoKCdjb3JlL25vdGljZXMnKS5jcmVhdGVOb3RpY2UoCgkJCQkJCQkJJ2Vycm9yJywgLy8gQ2FuIGJlIG9uZSBvZjogc3VjY2VzcywgaW5mbywgd2FybmluZywgZXJyb3IuCgkJCQkJCQkJcmVzcG9uc2UubWVzc2lhRGF0YS5jb21tZW50LCAvLyBUZXh0IHN0cmluZyB0byBkaXNwbGF5LgoJCQkJCQkJCXsgaWQ6ICdtZXNzaWEvcGFnZS11bmRlbGV0YWJsZScsIGlzRGlzbWlzc2libGU6IHRydWUgfQoJCQkJCQkJKTsKCQkJCQkJfQoJCQkJCX0KCQkJCQlpZiAodHlwZW9mIHJlc3BvbnNlLm1lc3NpYURhdGEucmVsb2FkICE9PSAndW5kZWZpbmVkJykgewoJCQkJCQlpZiAocmVzcG9uc2UubWVzc2lhRGF0YS5yZWxvYWQgPT09IHRydWUpIHsKCgkJCQkJCQl2YXIgd2FybmVkID0gZmFsc2U7CgkJCQkJCQl2YXIgdW5TdWJzY3JpYmUgPSB3cC5kYXRhLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7CgkJCQkJCQkJdmFyIHNhdmluZyA9IHdwLmRhdGEuc2VsZWN0KCdjb3JlL2VkaXRvcicpLmlzU2F2aW5nUG9zdCgpOwoJCQkJCQkJCWlmICghc2F2aW5nKSB7CgkJCQkJCQkJCXVuU3Vic2NyaWJlKCk7CgkJCQkJCQkJCWlmICh3YXJuZWQgPT09IGZhbHNlKSB7CgkJCQkJCQkJCQlhbGVydChtZXNzaWFWYXJzLm1lc3NhZ2VzLnBvc3RSZWxvYWRQZW5kaW5nKTsKCQkJCQkJCQkJCXdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKCQkJCQkJCQkJCXdhcm5lZCA9IHRydWU7CgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQl9KTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfSwKCQkJZ29vZ2xlR2VvUmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkgewoKCQkJCWlmICh0eXBlb2YgcmVzcG9uc2UuaGVhZGVycyAhPT0gJ3VuZGVmaW5lZCcpIHsKCgkJCQkJdmFyIGdvb2dsZUdlb1dhcm4gPSByZXNwb25zZS5oZWFkZXJzLmdldCgnR29vZ2xlLUdlby1Db2RlcicpOwoKCQkJCQlpZiAoJycgIT09IGdvb2dsZUdlb1dhcm4gJiYgbnVsbCAhPT0gZ29vZ2xlR2VvV2FybikgewoKCQkJCQkJaWYgKCdPSycgPT09IGdvb2dsZUdlb1dhcm4pIHsKCgkJCQkJCQlyZXNwb25zZS50ZXh0KCkudGhlbihmdW5jdGlvbiAocGFnZSkgewoJCQkJCQkJCXZhciAkID0galF1ZXJ5OwoJCQkJCQkJCXZhciBodG1sID0gJC5wYXJzZUhUTUwocGFnZSk7CgkJCQkJCQkJdmFyIGNvbnN0cnVjdG9yX21ldGFib3hfcmVzcG9uc2UgPSAkKGh0bWwpLmZpbmQoJ2RpdltpZF49InNlZ21lbnQtY29uc3RydWN0b3ItdGVybS1pZCJdJyk7CgkJCQkJCQkJdmFyIGNvbnN0cnVjdG9yX21ldGFib3hfY3VycmVudCA9ICQoJ2RpdltpZF49InNlZ21lbnQtY29uc3RydWN0b3ItdGVybS1pZCJdJyk7CgoJCQkJCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgY29uc3RydWN0b3JfbWV0YWJveF9jdXJyZW50Lmxlbmd0aDsgaSsrKSB7CgoJCQkJCQkJCQl2YXIgY3VycmVudF9hZGRyZXNzZXMgPSAkKGNvbnN0cnVjdG9yX21ldGFib3hfY3VycmVudFtpXSkuZmluZCgnLmFkZHJlc3MtZmllbGQnKTsKCQkJCQkJCQkJdmFyIHJlc3BvbnNlX2FkZHJlc3NlcyA9ICQoY29uc3RydWN0b3JfbWV0YWJveF9yZXNwb25zZVtpXSkuZmluZCgnLmFkZHJlc3MtZmllbGQnKQoKCQkJCQkJCQkJZm9yICh2YXIgcSA9IDA7IHEgPCBjdXJyZW50X2FkZHJlc3Nlcy5sZW5ndGg7IHErKykgewoJCQkJCQkJCQkJJChjdXJyZW50X2FkZHJlc3Nlc1txXSkucmVwbGFjZVdpdGgoJChyZXNwb25zZV9hZGRyZXNzZXNbcV0pKTsKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCX0pOwoJCQkJCQl9CgkJCQkJCWVsc2UgewoKCQkJCQkJCXdwLmRhdGEuZGlzcGF0Y2goJ2NvcmUvbm90aWNlcycpLmNyZWF0ZU5vdGljZSgKCQkJCQkJCQknd2FybmluZycsIC8vIENhbiBiZSBvbmUgb2Y6IHN1Y2Nlc3MsIGluZm8sIHdhcm5pbmcsIGVycm9yLgoJCQkJCQkJCWdvb2dsZUdlb1dhcm4sIC8vIFRleHQgc3RyaW5nIHRvIGRpc3BsYXkuCgkJCQkJCQkJeyBpZDogJ21lc3NpYS9nb29nbGUtZ2VvY29kZXItaW5mbycsIGlzRGlzbWlzc2libGU6IHRydWUgfQoJCQkJCQkJKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfSwKCQkJZm9yY2VTZXRTZWdtZW50OiBmdW5jdGlvbiAoKSB7CgoJCQkJbGV0IGxvY2tlZCA9IGZhbHNlOwoKCQkJCWNvbnN0IHVuc3Vic2NyaWJlID0gd3AuZGF0YS5zdWJzY3JpYmUoKCkgPT4gewoKCQkJCQljb25zdCBwb3N0U2VnbWVudCA9IHdwLmRhdGEuc2VsZWN0KCdjb3JlL2VkaXRvcicpLmdldEVkaXRlZFBvc3RBdHRyaWJ1dGUoJ21lc3NpYV9vYmplY3Rfc2VnbWVudCcpOwoKCQkJCQlpZiAodHlwZW9mIHBvc3RTZWdtZW50ID09PSAndW5kZWZpbmVkJykgewoJCQkJCQlyZXR1cm47CgkJCQkJfQoJCQkJCS8vIExvY2sgdGhlIHBvc3QgaWYgdGhlIG5vIHNlZ21lbnQgc2VsZWN0ZWQuCgkJCQkJaWYgKHBvc3RTZWdtZW50Lmxlbmd0aCA9PT0gMCkgewoJCQkJCQlpZiAoIWxvY2tlZCkgewoJCQkJCQkJbG9ja2VkID0gdHJ1ZTsKCQkJCQkJCXdwLmRhdGEuZGlzcGF0Y2goJ2NvcmUvZWRpdG9yJykubG9ja1Bvc3RTYXZpbmcoJ21lc3NpYS9zZWdtZW50LWxvY2stc2F2aW5nJyk7CgkJCQkJCQl3cC5kYXRhLmRpc3BhdGNoKCdjb3JlL25vdGljZXMnKS5jcmVhdGVOb3RpY2UoCgkJCQkJCQkJJ3dhcm5pbmcnLAoJCQkJCQkJCW1lc3NpYVZhcnMubWVzc2FnZXMuc2VnbWVudElzRW1wdHksCgkJCQkJCQkJeyBpZDogJ21lc3NpYS9zZWdtZW50LWxvY2stc2F2aW5nLW5vdGljZScsIGlzRGlzbWlzc2libGU6IGZhbHNlIH0KCQkJCQkJCSk7CgkJCQkJCX0KCQkJCQl9CgkJCQkJZWxzZSBpZiAobG9ja2VkKSB7CgkJCQkJCWxvY2tlZCA9IGZhbHNlOwoJCQkJCQl3cC5kYXRhLmRpc3BhdGNoKCdjb3JlL2VkaXRvcicpLnVubG9ja1Bvc3RTYXZpbmcoJ21lc3NpYS9zZWdtZW50LWxvY2stc2F2aW5nJyk7CgkJCQkJCXdwLmRhdGEuZGlzcGF0Y2goJ2NvcmUvbm90aWNlcycpLnJlbW92ZU5vdGljZSgnbWVzc2lhL3NlZ21lbnQtbG9jay1zYXZpbmctbm90aWNlJyk7CgkJCQkJfQoJCQkJfSk7CgkJCQlyZXR1cm4gdW5zdWJzY3JpYmU7CgkJCX0sCgkJCWdhbGxlcnlTb3J0YWJsZUFiaWxpdHk6IGZ1bmN0aW9uIChjb250YWluZXIpIHsKCgkJCQl2YXIgc2xvdCA9IGNvbnRhaW5lci5maW5kKCcuaWNvbi13cmFwcGVyJyk7CgkJCQl2YXIgaWNvbnMgPSBzbG90LmZpbmQoJy5pY29uJyk7CgoJCQkJaWYgKGljb25zLmxlbmd0aCA8PSAyKSB7IC8vIDEgaW1hZ2UgKyAxIHBsYWNlaG9sZGVyCgkJCQkJc2xvdC5zb3J0YWJsZSgnZGlzYWJsZScpOwoJCQkJfQoJCQkJZWxzZSB7CgkJCQkJc2xvdC5zb3J0YWJsZSgnZW5hYmxlJyk7CgkJCQl9CgkJCX0sCgkJCWluaXRHYWxsZXJ5OiBmdW5jdGlvbiAoZSkgewoKCQkJCXZhciBzbG90cyA9ICQoJy5tZXRhYm94LWNvbnN0cnVjdG9yLWZpZWxkcyAuaWNvbi13cmFwcGVyJyk7CgoJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBzbG90cy5sZW5ndGg7IGkrKykgewoKCQkJCQl2YXIgc2xvdCA9ICQoc2xvdHNbaV0pOwoKCQkJCQlzbG90cy5zb3J0YWJsZSh7CgkJCQkJCS8vcmV2ZXJ0OiAyMDAsIC8vQnJlYWtzIHdpdGggR3V0ZW5iZXJnIE9uCgkJCQkJCWZvcmNlSGVscGVyU2l6ZTogdHJ1ZSwKCQkJCQkJZm9yY2VQbGFjZWhvbGRlclNpemU6IHRydWUsCgkJCQkJCW9wYWNpdHk6IDAuNSwKCQkJCQkJaXRlbXM6ICI+IC5pY29uIiwKCQkJCQkJZGlzdGFuY2U6IDEwLAoJCQkJCQl0b2xlcmFuY2U6ICdwb2ludGVyJywKCQkJCQkJc2Nyb2xsOiBmYWxzZSwKCQkJCQkJLy9oYW5kbGU6ICcudG1wbCcsCgkJCQkJCS8vY29udGFpbm1lbnQ6ICcuaWNvbi13cmFwcGVyJywKCQkJCQkJcGxhY2Vob2xkZXI6ICdzb3J0YWJsZS1wbGFjZWhvbGRlcicsCgkJCQkJCWJlZm9yZVN0b3A6IGZ1bmN0aW9uIChldmVudCwgdWkpIHsKCQkJCQkJCXVpLmhlbHBlci5jc3MoewoJCQkJCQkJCSdoZWlnaHQnOiAnJywKCQkJCQkJCQknd2lkdGgnOiAnJywKCQkJCQkJCX0pOwoKCQkJCQkJCU1lc3NpYS51cGRhdGVJbWFnZXNJbnB1dCh1aS5pdGVtLnBhcmVudHMoJy5maWVsZCcpKTsKCQkJCQkJfSwKCQkJCQkJc3RvcDogZnVuY3Rpb24gKGV2ZW50LCB1aSkgewoJCQkJCQkJdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnc29ydGFibGVDaGFuZ2UnLCB7IGJ1YmJsZXM6IHRydWUgfSkpOwoJCQkJCQl9LAoJCQkJCX0pOwoKCQkJCQl2YXIgY29udGFpbmVyID0gc2xvdC5wYXJlbnRzKCcuZmllbGQnKTsKCQkJCQlNZXNzaWEuZ2FsbGVyeVNvcnRhYmxlQWJpbGl0eShjb250YWluZXIpOwoJCQkJfQoJCQl9LAoJCQljcmVhdGVFdmVudHM6IGZ1bmN0aW9uICgpIHsKCQkJCXZhciBmbGFnT25lID0gdHJ1ZTsKCQkJCXZhciBmbGFnVHdvID0gZmFsc2U7CgkJCQljb25zdCB1blN1YnNjcmliZU9uZSA9IHdwLmRhdGEuc3Vic2NyaWJlKCgpID0+IHsKCQkJCQl2YXIgaXNTYXZpbmdQb3N0ID0gd3AuZGF0YS5zZWxlY3QoJ2NvcmUvZWRpdG9yJykuaXNTYXZpbmdQb3N0KCk7CgkJCQkJdmFyIGlzQXV0b3NhdmluZ1Bvc3QgPSB3cC5kYXRhLnNlbGVjdCgnY29yZS9lZGl0b3InKS5pc0F1dG9zYXZpbmdQb3N0KCk7CgoJCQkJCWlmIChpc1NhdmluZ1Bvc3QgJiYgZmxhZ09uZSAmJiAhaXNBdXRvc2F2aW5nUG9zdCkgewoJCQkJCQlmbGFnT25lID0gZmFsc2U7CgkJCQkJCWZsYWdUd28gPSB0cnVlOwoJCQkJCQlkb2N1bWVudC5kaXNwYXRjaEV2ZW50KAoJCQkJCQkJbmV3IEV2ZW50KCdzYXZlUG9zdFN0YXJ0JywgewoJCQkJCQkJCWJ1YmJsZXM6IGZhbHNlLAoJCQkJCQkJfSkKCQkJCQkJKTsKCQkJCQkJY29uc3QgdW5TdWJzY3JpYmVUd28gPSB3cC5kYXRhLnN1YnNjcmliZSgoKSA9PiB7CgkJCQkJCQl2YXIgaXNTYXZpbmdQb3N0ID0gd3AuZGF0YS5zZWxlY3QoJ2NvcmUvZWRpdG9yJykuaXNTYXZpbmdQb3N0KCk7CgkJCQkJCQl2YXIgaXNBdXRvc2F2aW5nUG9zdCA9IHdwLmRhdGEuc2VsZWN0KCdjb3JlL2VkaXRvcicpLmlzQXV0b3NhdmluZ1Bvc3QoKTsKCgkJCQkJCQlpZiAoIWlzU2F2aW5nUG9zdCAmJiBmbGFnVHdvICYmICFpc0F1dG9zYXZpbmdQb3N0KSB7CgkJCQkJCQkJZmxhZ09uZSA9IHRydWU7CgkJCQkJCQkJZmxhZ1R3byA9IGZhbHNlOwoJCQkJCQkJCWRvY3VtZW50LmRpc3BhdGNoRXZlbnQoCgkJCQkJCQkJCW5ldyBFdmVudCgnc2F2ZVBvc3RGaW5pc2gnLCB7CgkJCQkJCQkJCQlidWJibGVzOiBmYWxzZSwKCQkJCQkJCQkJfSkKCQkJCQkJCQkpOwoJCQkJCQkJfQoJCQkJCQl9KTsKCQkJCQl9CgkJCQl9KTsKCQkJfSwKCQkJcmVpbml0RnJhZ21lbnRzOiBmdW5jdGlvbiAoZSkgewoJCQkJTWVzc2lhLmluaXRHYWxsZXJ5KCk7CgkJCQkkKGUudGFyZ2V0KS5maW5kKCd0ZXh0YXJlYS5tZXNzaWEnKS5tZXNzaWFTdGlja3lUZXh0YXJlYSgpOwoJCQl9LAoJCQlzZXREaXJ0eTogZnVuY3Rpb24gKGUpIHsKCQkJCSQoZG9jdW1lbnQpLnRyaWdnZXIoJ21lc3NpYUNvbnRlbnRJc0RpcnR5Jyk7CgkJCX0sCgkJCWNsZWFyRGlydHk6IGZ1bmN0aW9uIChlKSB7CgkJCQkkKGRvY3VtZW50KS50cmlnZ2VyKCdtZXNzaWFDb250ZW50SXNTYXZlZCcpOwoJCQl9LAoJCQlyZW1vdmVOb3RpY2VzT25TYXZlUG9zdDogZnVuY3Rpb24gKGUpIHsKCQkJCXdwLmRhdGEuZGlzcGF0Y2goJ2NvcmUvbm90aWNlcycpLnJlbW92ZU5vdGljZSgnbWVzc2lhL3BhZ2UtdW5kZWxldGFibGUnKTsKCQkJCXdwLmRhdGEuZGlzcGF0Y2goJ2NvcmUvbm90aWNlcycpLnJlbW92ZU5vdGljZSgnbWVzc2lhL2dvb2dsZS1nZW9jb2Rlci1pbmZvJyk7CgkJCX0KCQl9CgoJCSQoJ2JvZHknKS5vbignb2JqZWN0TWV0YWJveFVwZGF0ZWQnLCBNZXNzaWEucmVpbml0RnJhZ21lbnRzKTsKCQkkKCdib2R5Jykub24oJ2NsaWNrIHRvdWNoc3RhcnQnLCAnLm1ldGFib3gtY29uc3RydWN0b3ItZmllbGRzIC5pY29uIC5lZGl0LWltYWdlJywgTWVzc2lhLnNlbGVjdE1lZGlhKTsKCQkkKCdib2R5Jykub24oJ2NsaWNrIHRvdWNoc3RhcnQnLCAnLm1ldGFib3gtY29uc3RydWN0b3ItZmllbGRzIC5pY29uIC5yZW1vdmUtaW1hZ2UnLCBNZXNzaWEucmVtb3ZlTWVkaWEpOwoJCSQoJ2JvZHknKS5vbignY2xpY2snLCAnLm1ldGFib3gtY29uc3RydWN0b3ItZmllbGRzIC5pY29uIC5lZGl0LWxpbmsnLCBNZXNzaWEuZWRpdExpbmtJbWFnZSk7CgkJJCgnYm9keScpLm9uKCdmb2N1cycsICcubWV0YWJveC1jb25zdHJ1Y3Rvci1maWVsZHMgLmlucHV0LWxpbmsgaW5wdXQnLCBNZXNzaWEuZWRpdExpbmtVcmwpOwoJCSQoJ2JvZHknKS5vbignY2xpY2snLCAnLm1ldGFib3gtY29uc3RydWN0b3ItZmllbGRzIC5maWVsZCAubGluay13cmFwcGVyICNjb21taXQtaW1hZ2UtbGluaycsIE1lc3NpYS5jb21taXRMaW5rSW1hZ2UpOwoJCSQoJ2JvZHknKS5vbignY2xpY2snLCAnLm1ldGFib3gtY29uc3RydWN0b3ItZmllbGRzIC5maWVsZCAubGluay13cmFwcGVyICNjb21taXQtdXJsLWxpbmsnLCBNZXNzaWEuY29tbWl0TGlua1VybCk7CgoJCSQoJ3RleHRhcmVhLm1lc3NpYScpLm1lc3NpYVN0aWNreVRleHRhcmVhKCk7CgkJJCgnLm1hY3MgLm1ldGFib3gtY29uc3RydWN0b3ItZmllbGRzIC5maWVsZCAubWVzc2lhLWhlbHAtdGlwJykudG9vbHRpcCgpOwoJCSQoJy5tYWNzIC5tZXRhYm94LWNvbW1lbnQtZmllbGRzIC5maWVsZCAubWVzc2lhLWhlbHAtdGlwJykudG9vbHRpcCgpOwoKCQkkKCdib2R5Jykub24oJ2lucHV0JywgJ2RpdltpZF49InNlZ21lbnQtY29uc3RydWN0b3ItdGVybS1pZCJdIGlucHV0LCBkaXZbaWRePSJzZWdtZW50LWNvbnN0cnVjdG9yLXRlcm0taWQiXSB0ZXh0YXJlYSwgZGl2W2lkXj0ic2VnbWVudC1jb25zdHJ1Y3Rvci10ZXJtLWlkIl0gc2VsZWN0JywgTWVzc2lhLnNldERpcnR5KTsKCQkkKCdib2R5Jykub24oJ2lucHV0JywgJ2RpdltpZF49InNlZ21lbnQtc3R1ZmYtdGVybS1pZCJdIGlucHV0LCBkaXZbaWRePSJzZWdtZW50LXN0dWZmLXRlcm0taWQiXSB0ZXh0YXJlYSwgZGl2W2lkXj0ic2VnbWVudC1zdHVmZi10ZXJtLWlkIl0gc2VsZWN0JywgTWVzc2lhLnNldERpcnR5KTsKCgkJJCgnZm9ybSNwb3N0Jykub24oJ3N1Ym1pdCcsIE1lc3NpYS5jbGVhckRpcnR5KTsKCQkkKGRvY3VtZW50KS5vbignc2F2ZVBvc3RTdGFydCcsIE1lc3NpYS5yZW1vdmVOb3RpY2VzT25TYXZlUG9zdCk7CgkJJChkb2N1bWVudCkub24oJ3NhdmVQb3N0RmluaXNoJywgTWVzc2lhLmNsZWFyRGlydHkpOwoKCQlNZXNzaWEuaW5pdEdhbGxlcnkoKTsKCQlNZXNzaWEubmV3U2VnbWVudE9ic2VydmVyKCk7CgkJTWVzc2lhLm1ha2VSYWRpb0J1dHRvbnMoKTsKCQlNZXNzaWEuZm9yY2VTZXRTZWdtZW50KCk7CgkJTWVzc2lhLmNyZWF0ZUV2ZW50cygpOwoJfSk7Cn0pKGpRdWVyeSk7IjtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWVzcGFjZXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW5jbHVkZXMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZnVuY3Rpb25zIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNvbnN0YW50cyI7YTowOnt9czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjbGFzc2VzIjthOjA6e31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGludGVyZmFjZXMiO2E6MDp7fXM6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAdHJhaXRzIjthOjA6e31zOjQwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGVudW1zIjthOjA6e31zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG1ldGFkYXRhIjthOjA6e319";