// General rules
@import "../init";
.#{$m-namespace-admin} {

	@keyframes load8 {
		0% {
			transform: rotate(0deg);
		}

		100% {
			transform: rotate(360deg);
		}
	}

	@keyframes load8 {
		0% {
			transform: rotate(0deg);
		}

		100% {
			transform: rotate(360deg);
		}
	}

	@keyframes messia-core-rotate {
		100% {
			transform: rotate(360deg);
		}
	}

	/* DEMO */
	@keyframes busy-animation {
		0% {
			background-position: 200px 0;
		}
	}

	@media only screen and (max-width: 468px) {
		.wrap {
			#save {
				flex-grow: 1;
			}

			#create-demo {
				flex-grow: 1;
			}

			#install-demo {
				flex-grow: 1;
			}

			#reset-settings {
				flex-grow: 1;
			}
		}
	}

	@media only screen and (min-width: 900px) {
		#tabs {
			.control {
				display: flex;
				flex-wrap: wrap;
			}

			.cm-s-messia-sticky {
				width: 800px;
				max-width: 100%;
				line-height: 1.6em;
			}

			input[type="text"] {
				&:not(.color-picker) {
					width: 800px;
					max-width: 100%;
					line-height: 1.6em;
				}
			}

			select {
				&:not(.font-option) {
					width: 800px;
					max-width: 100%;
					line-height: 1.6em;
				}
			}

			textarea {
				width: 800px;
				max-width: 100%;
				line-height: 1.6em;
			}

			p {
				width: 800px;
				max-width: 100%;
				line-height: 1.6em;
			}

			.bootstrap-tagsinput {
				width: 800px;
				max-width: 100%;
				line-height: 1.6em;
			}

			.callback-inner {
				width: 800px;
				max-width: 100%;
				line-height: 1.6em;
			}
		}
	}

	@media only screen and (max-width: 899px) {
		#tabs {
			input[type="text"] {
				width: 100%;
				max-width: none;
				box-sizing: border-box;
				line-height: 2em;
				padding-top: 0;
				padding-bottom: 0;
			}

			select {
				width: 100%;
				max-width: none;
				box-sizing: border-box;
				line-height: 2em;
				padding-top: 0;
				padding-bottom: 0;
			}

			textarea {
				width: 100%;
				max-width: none;
				box-sizing: border-box;
				line-height: 2em;
				padding-top: 0;
				padding-bottom: 0;
			}
		}
	}

	@media (max-width: 782px) {
		#messia-dialog {
			.content {
				.demo-package-items {
					grid-template-columns: 1fr;
				}
			}
		}
	}

	.ui-autocomplete {
		li {
			padding: 0;
		}
	}

	.sp-container {
		z-index: 10;
	}

	.messia-wp-help {
		cursor: pointer;
		text-decoration: underline;
	}

	.message-wrapper {
		position: fixed;
		width: 300px;
		height: 120px;
		min-width: 200px;
		min-height: 100px;
		right: 20px;
		bottom: 20px;
		z-index: 100010;
		box-sizing: border-box;
	}

	.menu-page-message {
		border-radius: 3px;
		box-shadow: 0 1px 1px 0 rgb(0 0 0 / 10%);
		border: 1px solid #dadada;
		background: #fff;

		.menu-inner {
			width: 100%;
			height: calc(100% - 5px);
			overflow: auto;

			&::-webkit-scrollbar {
				width: 5px;
				height: 5px;
				background: #dedede;
			}

			&::-webkit-scrollbar-thumb {
				background: red;
				border: 1px solid #fff;
				border-radius: 5px;
			}
		}

		.caption {
			margin-left: 5px;
			color: #464646;
			font-weight: bold;
		}

		.content {
			background: #fff;
			padding: 10px;
			margin: 5px 0;
			border-radius: 2px;
			font-size: 1.1em;

			.report {
				word-break: break-all;
				list-style: square;
				font-size: .9em;
				margin-inline-start: .5em;
				padding-inline-start: 1em;
			}
		}

		.menu-operate {
			display: flex;
			justify-content: space-between;
			margin: 5px;
			overflow: hidden;
			background: #ececec;
			text-align: right;
			border-radius: 1px;
			padding: 0 3px;
			cursor: move;

			.close {
				cursor: pointer;

				&:hover {
					&:before {
						color: red;
					}
				}

				&:before {
					background: 0 0;
					color: #72777c;
					content: "\f153";
					display: block;
					font: 400 14px/20px dashicons;
					speak: none;
					height: 20px;
					text-align: right;
					width: 20px;
					-webkit-font-smoothing: antialiased;
					-moz-osx-font-smoothing: grayscale;
					border-radius: 2px;
				}
			}
		}
	}

	.menu-page-message {
		display: flex;
		align-items: center;
		height: 100%;
		width: 100%;

		&.rc-warning {
			border-left: 3px solid #ffc400;
		}

		&.rc-error {
			border-left: 3px solid red;
		}

		&.rc-success {
			border-left: 3px solid #2eab02;
		}
	}

	.ui-widget-content {
		.ui-state-default {
			background: white;
		}

		.ui-menu-item-wrapper {
			padding: 10px;
		}

		.ui-state-active {
			background: #0073aa;
		}
	}

	.ui-widget-header {
		.ui-state-default {
			background: none;
		}

		.ui-state-active {
			background: #0073aa;
		}

		.ui-state-hover:not(.ui-tabs-active) {
			background: #e9e9e9;
		}
	}

	.ui-tabs {
		.ui-tabs-nav {
			display: flex;
			position: sticky;
			top: 32px;
			overflow: auto hidden;
			background: #f7f7f7;
			border: none;
			border-bottom: 1px solid #ededed;
			border-radius: 0;
			padding: 0;
			z-index: 10;

			@media screen and (max-width: 782px) {
				top: 46px;
			}

			@media screen and (max-width: 600px) {
				top: 0;
			}

			&::-webkit-scrollbar {
				display: none;
			}

			.ui-tabs-anchor {
				padding: 1.3em 1.3em 1em;
				text-transform: uppercase;
				font-weight: 600;
				font-family: system-ui;
			}

			li {
				border: none;
				border-radius: 0;
				margin: 0;
				scroll-margin: 35px;

				&.ui-tabs-active {
					margin-top: -1px;
					padding-top: 1px;
					border-bottom: 3px solid #1d2327;
				}
			}
		}
	}

	.ui-state-active {
		background: #0073aa;

		a {
			color: #fff;

			&:link {
				color: #fff;
			}

			&:visited {
				color: #fff;
			}
		}
	}

	.ui-draggable-handle {
		z-index: 99999;
	}

	.wrap {
		min-height: calc(100vh - 32px - 65px - 30px);
		display: flex;
		flex-direction: column;
		width: calc(100% - 20px);
		transition: opacity .3s cubic-bezier(1, .05, .74, .84);

		#actions {
			display: flex;
			grid-gap: .5em;
			gap: .5em;
			flex-wrap: wrap;
			padding: 1em 0;
			z-index: 101;
		}

		#actions.sticky {
			position: sticky;
			bottom: 0;
			background: #f1f1f1;
			box-shadow: 0 -5px 5px -5px rgb(0 0 0 / 10%);
			border-top: 1px solid #d0d0d0;
		}

		#save {
			color: #74777b;
			border: 2px solid #d4d4d4;
			background: #e4e4e4;
			transform: none;
			display: inline-block;
			text-decoration: none;
			font-size: 13px;
			line-height: 28px;
			margin: 0;
			cursor: pointer;
			appearance: none;
			white-space: nowrap;
			box-sizing: border-box;
			border-radius: 3px;
			padding: 5px 10px;

			&:focus {
				outline: #006ca0;
				box-shadow: 0 0 2px 0 #006ca08f;
			}
		}

		#create-demo {
			color: #74777b;
			border: 2px solid #d4d4d4;
			background: #e4e4e4;
			transform: none;
			display: inline-block;
			text-decoration: none;
			font-size: 13px;
			line-height: 28px;
			margin: 0;
			cursor: pointer;
			appearance: none;
			white-space: nowrap;
			box-sizing: border-box;
			border-radius: 3px;
			padding: 5px 10px;

			&:focus {
				outline: #006ca0;
				box-shadow: 0 0 2px 0 #006ca08f;
			}
		}

		#install-demo {
			color: #74777b;
			border: 2px solid #d4d4d4;
			background: #e4e4e4;
			transform: none;
			display: inline-block;
			text-decoration: none;
			font-size: 13px;
			line-height: 28px;
			margin: 0;
			cursor: pointer;
			appearance: none;
			white-space: nowrap;
			box-sizing: border-box;
			border-radius: 3px;
			padding: 5px 10px;

			&:focus {
				outline: #006ca0;
				box-shadow: 0 0 2px 0 #006ca08f;
			}
		}

		#reset-settings {
			color: #74777b;
			border: 2px solid #d4d4d4;
			background: #e4e4e4;
			transform: none;
			display: inline-block;
			text-decoration: none;
			font-size: 13px;
			line-height: 28px;
			margin: 0;
			cursor: pointer;
			appearance: none;
			white-space: nowrap;
			box-sizing: border-box;
			border-radius: 3px;
			padding: 5px 10px;

			&:focus {
				outline: #006ca0;
				box-shadow: 0 0 2px 0 #006ca08f;
			}
		}

		#save.active {
			border: 2px solid #006ca0;
			background: white;
			background: rgb(0 124 186);
			color: #fff;
		}

		#create-demo.active {
			color: #003752;
			border: 2px solid #006ca0;
			background: white;
		}

		#install-demo.active {
			color: #003752;
			border: 2px solid #006ca0;
			background: white;
		}

		#reset-settings.active {
			color: #003752;
			border: 2px solid #006ca0;
			background: white;
		}

		#save._200 {
			border: 2px solid green;
		}

		#create-demo._200 {
			border: 2px solid green;
		}

		#install-demo._200 {
			border: 2px solid green;
		}

		#reset-settings._200 {
			border: 2px solid green;
		}

		#save._400 {
			background: #ff4545;
			color: white;
			text-shadow: none;
			border: 2px solid red;
		}

		#create-demo._400 {
			background: #ff4545;
			color: white;
			text-shadow: none;
			border: 2px solid red;
		}

		#install-demo._400 {
			background: #ff4545;
			color: white;
			text-shadow: none;
			border: 2px solid red;
		}

		#reset-settings._400 {
			background: #ff4545;
			color: white;
			text-shadow: none;
			border: 2px solid red;
		}

		#save._403 {
			background: #ff974b;
			color: white;
			text-shadow: none;
			border: 2px solid #ff7b1a;
		}

		#create-demo._403 {
			background: #ff974b;
			color: white;
			text-shadow: none;
			border: 2px solid #ff7b1a;
		}

		#install-demo._403 {
			background: #ff974b;
			color: white;
			text-shadow: none;
			border: 2px solid #ff7b1a;
		}

		#reset-settings._403 {
			background: #ff974b;
			color: white;
			text-shadow: none;
			border: 2px solid #ff7b1a;
		}

		#save[disabled] {
			color: rgb(116 119 123 / 76%);
		}
	}

	.wrap.settings-loading {
		opacity: 0;
		visibility: hidden;
	}

	.settings-loader {
		border-radius: 50%;
		width: 6em;
		height: 6em;
		font-size: 10px;
		position: fixed;
		text-indent: -9999em;
		border-top: .5em solid rgb(0 0 0 / 1%);
		border-right: .5em solid rgb(0 0 0 / 1%);
		border-bottom: .5em solid rgb(0 0 0 / 1%);
		border-left: .5em solid #006ca0;
		transform: translateZ(0);
		animation: load8 1.1s infinite linear;
		top: calc(100vh / 2 - 3em);
		left: calc(100vw / 2 - 3em);
		z-index: 1;

		&:after {
			border-radius: 50%;
			width: 6em;
			height: 6em;
		}
	}

	.wrap.warning {
		#tabs {
			.info {
				text-align: center;
				font-size: 1.2em;
				color: #7f7f7f;
				padding: 5% 10%;
			}
		}
	}

	#tabs[data-theme-licence-status="inactive"] {
		.control {
			span.title {
				&.licence:after {
					content: "licenced";
					top: 0;
					position: absolute;
					color: red;
					font-size: 11px;
					text-transform: capitalize;
				}
			}
		}
	}

	#tabs {
		flex-grow: 1;
		padding: 0;
		margin-top: 15px;
		border-radius: 0;
		border: 1px solid #e7e7e7;

		.CodeMirror {
			.cm-comment {
				word-break: break-all;
			}
		}

		button {
			color: #74777b;
			border: 2px solid #d4d4d4;
			background: #e4e4e4;
			transform: none;
			display: inline-block;
			text-decoration: none;
			font-size: 13px;
			line-height: 28px;
			margin: 0;
			cursor: pointer;
			appearance: none;
			white-space: nowrap;
			box-sizing: border-box;
			border-radius: 3px;
			padding: 2px 10px 1px;

			&:focus {
				outline: #006ca0;
				box-shadow: 0 0 2px 0 #006ca08f;
			}

			&:not(:disabled) {
				&:not([data-status-code="lost"]) {
					color: #008ec2;
					border: 1px solid #008ec2;
				}
			}
		}

		button.active {
			background: #ff974b;
			color: white;
			text-shadow: none;
			border: 2px solid #ff7b1a;
		}

		button[disabled] {
			color: rgb(116 119 123 / 76%);
		}

		button[disabled].proccess {
			color: #008ec287;
			border: 1px solid #008ec29c;
			cursor: not-allowed;
		}

		a.ui-tabs-anchor {
			&:focus {
				box-shadow: none;
			}
		}

		.font-option-wrapper {
			span.font-option-title {
				white-space: nowrap;
				font-size: .9em;
				color: #898989;
				display: block;
				margin-bottom: 3px;
			}
		}

		select {
			background-position: center right;
			border: 1px solid #7e8993;
			color: #555;
			border-radius: 4px;
		}

		.cm-s-messia-sticky {
			box-shadow: 0 0 0 transparent;
			border-radius: 4px;
			border: 1px solid #7e8993;
			height: 3.5em;
			box-sizing: border-box;
			width: auto;

			.CodeMirror-vscrollbar {
				&::-webkit-scrollbar {
					background: #008ec2;
					width: 5px;
				}

				&::-webkit-scrollbar-thumb {
					background: #008ec2;
					height: 15px;
				}

				&::-webkit-scrollbar-track {
					background: #fff;
					border: 1px solid #d4d4d4;
				}
			}
		}

		textarea {
			color: #006fa4;
			resize: both;

			&::-webkit-scrollbar {
				width: 5px;
				height: 5px;
				background: #008ec2;
			}

			&::-webkit-scrollbar-thumb {
				background: #008ec2;
			}

			&::-webkit-scrollbar-track {
				background: #fff;
				border: 1px solid #d4d4d4;
			}
		}

		.control.hidden {
			display: none;
		}

		.control {
			border-bottom: 1px solid #eaeaea;
			position: relative;

			span.control-icon {
				svg {
					position: absolute;
					top: -.8em;
					height: 1.3em;
					width: auto;
					padding-right: 5px;
					background: white;
				}
			}

			span.title {
				display: inline-block;
				flex-basis: 10%;
				font-size: 14px;
				font-weight: 600;
				padding: 10px 2px 0 0;
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
				margin-right: 30px;
				flex-grow: 1;
				z-index: 1;
			}

			span.title.fr-error {
				&:after {
					margin-left: 10px;
				}
			}

			input[type="radio"] {
				&:not(:first-of-type) {
					margin-left: 15px;
				}
			}

			label {
				flex-basis: 80%;
				padding: 10px 2px 0 0;
				flex-grow: 1;
				width: auto;
			}

			.label {
				flex-basis: 80%;
				padding: 10px 2px 0 0;
				flex-grow: 1;
				width: auto;
			}

			>div {
				flex-basis: 80%;
				padding: 10px 2px 0 0;
				flex-grow: 1;
				width: auto;
			}

			.bootstrap-tagsinput {
				.label {
					background: #2e97bd;
					padding: 2px 5px;
					border-radius: 2px;
					font-size: 12px;
					font-family: monospace;
				}
			}

			p {
				word-break: break-word;
				margin: 10px 0;
				color: #6b6b6b;
				font-style: italic;
			}
		}

		.section-content {
			.control {
				&:last-of-type {
					border-bottom: none;
				}
			}
		}

		.section {
			background: #f0f0f1ad;
			padding: 10px;
			border-radius: 3px;
			cursor: pointer;
			margin-top: 8px;
			user-select: none;

			&:hover {
				background: #f4f4f4;
			}

			.title {
				font-size: 14px;
				font-family: BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
				color: #232866;
				padding-right: 25px;
				position: relative;
				min-width: 140px;
				font-weight: 500;
				display: block;
			}

			span.title {
				&:after {
					content: "";
					position: absolute;
					right: 0;
					top: 50%;
					transition: all .2s;
					transform-origin: 50% 30%;
					margin-top: -3px;
					border: 4px solid transparent;
					border-top: 6px solid #5e6368;
				}
			}
		}

		.section-content-wrapper {
			box-sizing: border-box;
			position: relative;
			overflow: hidden;

			.section-content-holder {
				height: 100%;
				padding-top: 10px;
			}

			.section-content {
				height: 100%;
				border-radius: 3px;
				padding: 0 10px;
			}
		}

		.section-content-wrapper.collapsed {
			height: 0;
			border: none;
			overflow: hidden;
		}

		.section.arrow-transform {
			span.title {
				&:after {
					transform: rotate(180deg);
				}
			}
		}

		.fr-error {
			&:after {
				content: "\f534";
				color: #ff5e5e;
				vertical-align: text-bottom;
				font-family: dashicons;
				font-size: 20px;
			}
		}

		input[type="text"] {
			color: #006fa4;
		}

		input[type="text"][readonly] {
			color: #a8a8a8;
		}

		.bootstrap-tagsinput {
			input[type="text"] {
				width: auto;
			}

			select {
				width: auto;
			}

			textarea {
				width: auto;
			}
		}

		.object_order {
			input {
				margin: 1px;
			}
		}

		.callback-inner {
			.images-slot {
				position: relative;
				display: flex;
				align-items: center;
				flex-direction: row;
				flex-wrap: wrap;
				align-self: self-end;

				.icon {
					width: 70px;
					height: 70px;
					border: 1px solid #7d7d7d;
					border-radius: 2px;
					margin: 0 7px 7px 0;
					background: #fff;
					display: flex;
					align-items: center;
					flex-direction: row;
					position: relative;

					img {
						box-sizing: content-box;
						display: block;
						margin: auto;
						max-width: calc(100% - 10px);
						max-height: calc(100% - 10px);
						padding: 5px;
					}

					.edit-image {
						left: -5px;
						top: -5px;
						position: absolute;
						user-select: none;
						line-height: 1;
						font-family: dashicons;
						border-radius: 2px;
						background: #353535;
						color: #fff;
						cursor: pointer;
						border: 2px solid white;

						&:before {
							content: "\f464";
						}
					}

					.remove-image {
						left: 11px;
						top: -5px;
						position: absolute;
						user-select: none;
						line-height: 1;
						font-family: dashicons;
						border-radius: 2px;
						background: #353535;
						color: #fff;
						cursor: pointer;
						border: 2px solid white;

						&:before {
							content: "\f158";
						}
					}
				}

				&:not(.ui-sortable-disabled) {
					.icon {
						&:not(.template) {
							cursor: move;
						}
					}
				}
			}

			.icon {
				.placeholder-image {
					user-select: none;
					content: "\f128";
					line-height: 1;
					font-family: dashicons;
					color: #0085ba;
					display: block;
					margin: auto;
					font-size: 1.3em;

					&:before {
						content: "\f128";
						font-family: dashicons;
					}
				}
			}
		}
	}

	.objects_search_order_fileds {
		overflow: hidden;
	}

	.sortable-placeholder {
		border-radius: 2px;
		margin: 0 7px 7px 0;
		flex-shrink: 0;
		white-space: nowrap;
	}

	#spinner_saving {
		position: fixed;
		height: 100%;
		width: 100%;
		background: rgb(0 0 0 / 80%);
		opacity: 0;
	}

	#spinner_saving_inner {
		opacity: 0;
		position: absolute;
		left: calc(50% - 60px);
		top: calc(50% - 120px);
	}

	*:not(.CodeMirror > *) {
		box-sizing: border-box;
	}

	#messia-dialog {
		.content {
			.demo-package-items {
				display: flex;
				flex-wrap: wrap;
				align-self: flex-start;
				gap: .5em;
				padding: 20px 10px;

				.package-item {
					display: grid;
					cursor: pointer;
					border: 1px solid gainsboro;
					align-items: center;
					border-radius: 3px;
					grid-template-columns: 40px 1fr;
					gap: 5px;
					padding: 5px;
					font-weight: 600;
					user-select: none;

					.package-icon {
						border-radius: 50%;
						width: 40px;
						display: flex;
						align-items: center;
						justify-content: center;
						flex: 0 0 auto;

						svg {
							padding: 5px;
						}
					}

					.package-name {
						text-overflow: ellipsis;
						text-align: left;
						position: relative;
						overflow: hidden;
						white-space: nowrap;
					}
				}

				.package-item.selected {
					background: #2271b1;
					border-color: #2271b1;
					color: white;

					.package-icon {
						background: #fff;
					}
				}

				.package-item.selected.is-busy {
					background-image: linear-gradient(-45deg, #005396 20%, #2271b1 20% 40%, #005396 40% 60%, #2271b1 60% 80%, #005396 80%);
					animation: busy-animation 2500ms infinite linear;
					background-size: 200px 100%;
				}
			}

			#demo-upload-progress { // stylelint-disable-line selector-max-id
				position: absolute;
				height: 3px;
				width: 100%;
				bottom: 0;
				background-image: linear-gradient(45deg, #e70, #e70);
				background-size: 0;
				background-repeat: no-repeat;
			}

			.demo-load {
				position: absolute;
				height: 100%;
				width: 100%;
				display: flex;
				align-items: center;
				justify-content: center;
			}

			.empty-list {
				position: absolute;
				height: 100%;
				width: 100%;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				padding: 0 10px;
			}
		}
	}

	.messia-theme-licence-form-wrapper,
	.messia-theme-access-form-wrapper {
		.messia-theme-licence-form-holder,
		.messia-theme-access-form-holder {
			.form-data {
				.data {
					.data-item {
						background: #fafafa;
						border: 1px solid #e5e5e5;
						padding: 15px;
						margin: 10px 0;
						width: 100%;

						input[type="text"] {
							border: 1px dashed #e5e5e5;
							border-width: 0 0 1px;
							background-color: transparent;
							padding: 5px 0;
							border-color: #9d9d9d;
							transition: color .5s;
							border-radius: 0;

							&:focus {
								box-shadow: none;
								border-bottom-color: #0073aa;
							}
						}
					}
				}

				.actions {
					display: inline-grid;
					grid-auto-flow: column;
					gap: .5em;
				}
			}

			.status-title {
				font-weight: 600;

				.status-value {
					text-transform: capitalize;
					padding: 3px;
					border-radius: 2px;
					background: #e7e7e7;
					font-family: monospace;
				}

				&:after {
					content: "";
					font-size: 16px;
					position: relative;
					top: -.3em;
					opacity: 0;
					line-height: 1;
					font-family: dashicons;
					transition: color .5s ease-in, opacity .5s ease-in;
					font-weight: 400;
				}
			}

			.status-title:after {
				content: "\f160";
				color: #b12222;
				opacity: 1;
			}

			&[data-status="active"],
			&[data-access-granted="true"] {
				.status-title:after {
					content: "\f528";
					color: #099609;
					opacity: 1;
				}

				#messia-licence-status-togle,
				#messia-licence-status-togle:hover {
					background: #099609;
					border-color: #099609;
				}

				#messia-licence-status-togle:focus {
					box-shadow: 0 0 0 1px #fff, 0 0 0 3px #099609;
				}
			}
		}
	}

	.messia-theme-licence-form-wrapper {
		.messia-theme-licence-form-holder {
			#messia-licence-status-togle,
			#messia-licence-status-togle:hover {
				background: #b12222;
				border-color: #b12222;
			}

			#messia-licence-status-togle:focus {
				box-shadow: 0 0 0 1px #fff, 0 0 0 3px #b12222;
			}
		}
	}
}
