!function(){var e={4562:function(){!function(e,t){const{apiFetch:c}=e,{registerBlockType:r}=e.blocks,{Component:i,Fragment:a,useState:s,useEffect:l,useRef:n}=e.element,{serverSideRender:m}=e,{InspectorControls:o,BlockControls:g}=e.blockEditor,{ToggleControl:d,Notice:h,ToolbarGroup:v,ToolbarButton:y,Placeholder:E,Disabled:u,Spinner:R,CheckboxControl:b,TextControl:f,PanelBody:p}=e.components,{__:x}=e.i18n,_=React.createElement("svg",{viewBox:"0 0 274 165",xmlns:"http://www.w3.org/2000/svg"},React.createElement("g",{className:"layer"},React.createElement("g",{id:"svg_101"},React.createElement("g",{id:"svg_62"},React.createElement("g",{id:"svg_60"},React.createElement("rect",{fill:"#b4b4b4",height:"10.04621",id:"svg_61",rx:"1",ry:"1",width:"70.99803",x:"189.41868",y:"11.72411"})),React.createElement("g",{id:"svg_58"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_59",rx:"1",ry:"1",width:"60.81659",x:"199.60011",y:"26.97224"})),React.createElement("g",{id:"svg_56"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_57",rx:"1",ry:"1",width:"60.81659",x:"199.60011",y:"38.47713"}))),React.createElement("g",{id:"svg_64"},React.createElement("g",{id:"svg_9"},React.createElement("rect",{fill:"#b4b4b4",height:"10.04621",id:"svg_12",rx:"1",ry:"1",width:"70.99803",x:"12.12814",y:"11.72411"})),React.createElement("g",{id:"svg_34"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_35",rx:"1",ry:"1",width:"60.81659",x:"22.30957",y:"26.1909"})),React.createElement("g",{id:"svg_36"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_37",rx:"1",ry:"1",width:"60.81659",x:"22.30957",y:"37.52457"})),React.createElement("g",{id:"svg_38"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_39",rx:"1",ry:"1",width:"60.81659",x:"22.30957",y:"48.90706"}))),React.createElement("g",{id:"svg_98"},React.createElement("g",{id:"svg_46"},React.createElement("rect",{fill:"#b4b4b4",height:"10.04621",id:"svg_47",rx:"1",ry:"1",width:"70.99803",x:"100.43124",y:"11.72411"})),React.createElement("g",{id:"svg_44"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_45",rx:"1",ry:"1",width:"60.81659",x:"110.61267",y:"27.19169"})),React.createElement("g",{id:"svg_42"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_43",rx:"1",ry:"1",width:"60.81659",x:"110.61267",y:"39.08724"})),React.createElement("g",{id:"svg_40"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_41",rx:"1",ry:"1",width:"60.81659",x:"110.61267",y:"50.8604"})),React.createElement("g",{id:"svg_50"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_51",rx:"1",ry:"1",width:"60.81659",x:"110.61267",y:"62.70368"}))),React.createElement("g",{id:"svg_67"},React.createElement("g",{id:"svg_68"},React.createElement("rect",{fill:"#b4b4b4",height:"10.04621",id:"svg_69",rx:"1",ry:"1",width:"70.99803",x:"12.12814",y:"93.93662"})),React.createElement("g",{id:"svg_70"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_71",rx:"1",ry:"1",width:"60.81659",x:"22.30957",y:"109.18475"})),React.createElement("g",{id:"svg_72"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_73",rx:"1",ry:"1",width:"60.81659",x:"22.30957",y:"120.68963"}))),React.createElement("g",{id:"svg_87"},React.createElement("g",{id:"svg_88"},React.createElement("rect",{fill:"#b4b4b4",height:"10.04621",id:"svg_89",rx:"1",ry:"1",width:"70.99803",x:"189.41869",y:"93.93662"})),React.createElement("g",{id:"svg_90"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_91",rx:"1",ry:"1",width:"60.81659",x:"199.60012",y:"108.40341"})),React.createElement("g",{id:"svg_92"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_93",rx:"1",ry:"1",width:"60.81659",x:"199.60012",y:"119.73707"})),React.createElement("g",{id:"svg_94"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_95",rx:"1",ry:"1",width:"60.81659",x:"199.60012",y:"131.11957"}))),React.createElement("g",{id:"svg_96"},React.createElement("g",{id:"svg_75"},React.createElement("rect",{fill:"#b4b4b4",height:"10.04621",id:"svg_76",rx:"1",ry:"1",width:"70.99803",x:"101.4928",y:"93.93662"})),React.createElement("g",{id:"svg_77"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_78",rx:"1",ry:"1",width:"60.81659",x:"111.67424",y:"109.40419"})),React.createElement("g",{id:"svg_79"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_80",rx:"1",ry:"1",width:"60.81659",x:"111.67424",y:"121.29974"})),React.createElement("g",{id:"svg_81"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_82",rx:"1",ry:"1",width:"60.81659",x:"111.67424",y:"133.07291"})),React.createElement("g",{id:"svg_83"},React.createElement("rect",{fill:"#cccccc",height:"7.09031",id:"svg_84",rx:"1",ry:"1",width:"60.81659",x:"111.67424",y:"144.91618"}))))));let w=!1;r("messia/block-category-crosslinks",{title:x("Category crosslinks","messia"),description:x("Taxonomy term reference cloud Categories that include all zero-level terms and their direct descendants","messia"),icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{d:"M6 2c.552 0 1 .449 1 1s-.448 1-1 1-1-.449-1-1 .448-1 1-1zm15 9c.552 0 1 .448 1 1s-.448 1-1 1-1-.449-1-1c0-.552.448-1 1-1zm-15 9c.552 0 1 .449 1 1s-.448 1-1 1-1-.449-1-1 .448-1 1-1zm0-20c-1.656 0-3 1.343-3 3s1.344 3 3 3 3-1.343 3-3-1.344-3-3-3zm15 9c-1.656 0-3 1.343-3 3s1.344 3 3 3 3-1.343 3-3-1.344-3-3-3zm-15 9c-1.657 0-3 1.343-3 3s1.343 3 3 3c1.656 0 3-1.343 3-3s-1.344-3-3-3zm4.588-16.979l.412-.021c4.281 0 7.981 2.45 9.8 6.021-.717.029-1.39.21-1.998.511-1.555-2.703-4.466-4.532-7.802-4.532 0-.703-.149-1.372-.412-1.979zm10.212 15.958c-1.819 3.571-5.519 6.021-9.8 6.021l-.412-.021c.263-.607.412-1.276.412-1.979 3.336 0 6.247-1.829 7.802-4.532.608.302 1.281.483 1.998.511zm-18.91 1.186c-1.193-1.759-1.89-3.88-1.89-6.165s.697-4.406 1.89-6.165c.392.566.901 1.039 1.487 1.403-.867 1.383-1.377 3.012-1.377 4.762s.51 3.379 1.377 4.762c-.586.364-1.096.837-1.487 1.403z"})),category:"messia",keywords:["crosslink"],styles:[],variations:[],attributes:{segmentTerms:{type:"array",default:[]},isExample:{type:"boolean",default:!1},initVisibleInGroup:{type:"integer",default:4},withCount:{type:"boolean",default:!0}},example:{attributes:{isExample:!0}},supports:{multiple:!0},edit:function(r){const{attributes:i,setAttributes:a,className:k,name:C}=r,[T,N]=s(!0),[z,I]=s(!1),[S,P]=s({segment:[]});let B=n();return l((()=>{let t=!0;return z||i.isExample||(async()=>await c({path:"messia/v1/block-category-crosslinks",method:"POST",data:{currentAttrs:i}}).then((t=>(0===t.terms.segment.length&&e.data.dispatch("core/notices").createNotice("error",x("Messia Category Terms: No terms were found in taxonomy Segment. Unit operation is not possible.","messia"),{isDismissible:!0}),t))).catch((t=>{e.data.dispatch("core/notices").createNotice("error",x("An error occurred while receiving data from the server for Category Terms block","messia"),{isDismissible:!0})})))().then((e=>{t&&(a({segmentTerms:e.validAttrs.segmentTerms,initVisibleInGroup:e.validAttrs.initVisibleInGroup}),P(e.terms),I(!0))})),()=>{t=!1}}),[z]),(()=>{if(i.isExample)return _;{let c=[k];const s=[React.createElement(o,{key:"inspector"},React.createElement(p,{title:x("Settings","messia")},React.createElement(f,{label:x("Visible","messia"),min:"0",step:"1",type:"number",value:i.initVisibleInGroup,help:x("Initially visible numbers of items per group. Set 0 for unlimited.","messia"),onChange:e=>{a({initVisibleInGroup:parseInt(e)})}}),React.createElement(d,{label:x("Show on front number of objects per term.","messia"),checked:i.withCount,onChange:e=>{a({withCount:e})}}))),React.createElement(g,{key:"block"},React.createElement(v,{label:x("Options","messia")},React.createElement(y,{label:x(T?"Preview":"Edit","messia"),icon:T?"visibility":"edit",onClick:()=>{a({isPreview:T}),N(!T)}})))];return T?(s.push((()=>{if(z){const c=e.blocks.getBlockType(C),r=[];for(const[e,c]of S.segment.entries())r.push(React.createElement(b,{key:c.value,value:c.value,label:c.label,checked:i.segmentTerms.includes(c.value),onChange:e=>{let c=i.segmentTerms;delete i.segmentTerms,c=[],e=t(event.target).parents(".settings").find('input[type="checkbox"]:checked');for(var r=0;r<e.length;r++)c.push(t(e[r]).val());a({segmentTerms:c})}}));return React.createElement(E,{key:"messia-block-placeholder"},React.createElement("div",{className:"messia-block",key:"messia-block",ref:B},React.createElement("h4",null,c.title),React.createElement(h,{isDismissible:!1,status:"warning"},React.createElement("p",null,x('Specify the segment of the category, terms for which will be displayed as links to the search page for them. The set will contain only top-level terms (that have no parent) and their direct descendants. The list of terms is subordinate to the value of the "Empty category terms" option. Certain terms can be excluded from the set on term edit page.',"messia"))),React.createElement("div",{className:"settings"},r)))}return React.createElement("div",{className:"messia-block",tabIndex:"0",key:"messia-block",ref:B},React.createElement(R,null))})()),w=!1):(w||(w=React.createElement("div",{className:"messia-block",key:"messia-block",ref:B},React.createElement(u,{key:"block-preview"},React.createElement(m,{block:r.name,attributes:i,urlQueryArgs:{isPreview:!0}})))),s.push(w)),React.createElement("div",{className:c.join(" ")},s)}})()},save:function(e){return null}})}(window.wp,jQuery)}},t={};function c(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,c),a.exports}c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,{a:t}),t},c.d=function(e,t){for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";c(4562)}()}();