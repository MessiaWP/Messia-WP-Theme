!function(){var e={5554:function(e){e.exports=function(e,t){var a=null,s=null,o=null;const n={dialog:!1,dialogEl:!1,demoData:!1,themeLicenceActive:!1,selected:[],actionsState:{demoClose:!0,demoAdd:!1,demoRemove:!1,demoInstall:!1},template:wp.template("demo-manage"),init:function(e){let a=n.template,s=t("#tabs").data("general").demo.demoManageDialogTitle,o=[{text:"Close",id:"demo-close",click:function(e){n.events.remove(),this.messiaDialog.close()}},{text:"Add",id:"demo-add",click:n.events.buttons.demoAdd},{text:"Remove",id:"demo-remove",click:n.events.buttons.demoRemove},{text:"Install",id:"demo-install",click:n.events.buttons.demoInstall}];n.dialogEl=window.messiaVars.dialog.init({dialogId:"messia-dialog",dialogTitle:s,dialogContent:a({demoList:n.demoData,selected:n.selected,themeLicenceActive:n.themeLicenceActive}),buttons:o}),n.events.add(),t(n.dialogEl).trigger("messiaChangeActionsState"),n.updateDemoState(!1),n.dialogEl.messiaDialog.open()},render:function(){n.dialogEl.messiaDialog.setContent(n.template({demoList:n.demoData,selected:n.selected,themeLicenceActive:n.themeLicenceActive}))},actionsToggle:function(){for(var e of Object.keys(n.actionsState)){const a=t(n.dialogEl).find(".buttonpane .buttonset");switch(e){case"demoClose":a.find("#demo-close");break;case"demoAdd":const t=a.find("#demo-add");!0===n.actionsState[e]?t.prop("disabled",!1).removeClass(["ui-button-disabled","ui-state-disabled"]):t.prop("disabled",!0).addClass(["ui-button-disabled","ui-state-disabled"]);break;case"demoRemove":const s=a.find("#demo-remove");!0===n.actionsState[e]?s.prop("disabled",!1).removeClass(["ui-button-disabled","ui-state-disabled"]):s.prop("disabled",!0).addClass(["ui-button-disabled","ui-state-disabled"]);break;case"demoInstall":const o=a.find("#demo-install");!0===n.actionsState[e]?o.prop("disabled",!1).removeClass(["ui-button-disabled","ui-state-disabled"]):o.prop("disabled",!0).addClass(["ui-button-disabled","ui-state-disabled"])}}},doAjaxDemoGetList:async function(){return await new Promise(((a,o)=>{const n=e.tabsData;s=t.ajax({type:"POST",url:n.ajaxUrl,data:{action:n.actionDemoGetList,messiaNonce:n.settingFormNonce},beforeSend:function(){null!=s&&(s.abort(),s=null)},success:function(e){return!0===e.success?a(e.data):o(new Error(n.unexpectedErr))},error:function(e,t,a){if(0!==e.status||"abort"!=t)return o(new Error(n.ajaxError))},complete:function(e,t){s=null}})}))},doAjaxDemoInstall:async function(s){return await new Promise(((o,r)=>{const i=e.tabsData;a=t.ajax({type:"POST",url:i.ajaxUrl,data:{action:i.actionDemoInstall,messiaNonce:i.settingFormNonce,templateFile:s},beforeSend:function(){null!=a&&(a.abort(),a=null),n.setActionsStates({demoRemove:!1,demoInstall:!1})},success:function(e){return!0===e.success?o(e.data):r(new Error(i.unexpectedErr))},error:function(e,t,a){if(0!==e.status||"abort"!=t)return r(new Error(i.ajaxError))},complete:function(e,s){a=null,t.fn.TabsPluginFrameWork("playSound",.3)}})}))},doAjaxDemoAdd:async function(a,s){let o=await new Promise((async(o,r)=>{const i=e.tabsData,l=new FormData;l.set("action",i.actionDemoAdd),l.set("messiaNonce",i.settingFormNonce),l.set("demo[]",new Blob([0]),a.name),l.set("demoData",JSON.stringify([{name:a.name,size:a.size,start:!0,finish:!1}]));const c=Array.from(l.entries(),(([e,t])=>"string"==typeof t?e.length+100+(t.length+50):e.length+100+(t.size+50))),d=i.postMaxSize-c.reduce(((e,t)=>e+t)),m=Math.trunc(a.size/d);for(let e=0,c=0;e<a.size;e+=d,c++){const u=0===c,g=Math.trunc(m)===c,f=a.slice(e,e+d);l.set("demo[]",f,a.name),l.set("demoData",JSON.stringify([{name:a.name,size:a.size,start:u,finish:g}])),await t.ajax({type:"POST",url:i.ajaxUrl,data:l,enctype:"multipart/form-data",contentType:!1,processData:!1,beforeSend:function(e,t){n.setActionsStates({demoRemove:!1,demoInstall:!1});var a=t.xhr;t.xhr=function(){var e=a.apply(this,arguments);return e.upload&&e.upload.addEventListener("progress",(e=>s(e,c,m)),!1),e}},success:function(e){if(g)return!0===e.success?o(e.data):r(new Error(i.unexpectedErr))},error:function(e,t,a){if(0!==e.status||"abort"!=t)return r(new Error(i.ajaxError))}}),l.delete("demo[]"),l.delete("demoData")}}));return o},doAjaxDemoRemove:async function(a){return await new Promise(((s,r)=>{const i=e.tabsData;o=t.ajax({type:"POST",url:i.ajaxUrl,data:{action:i.actionDemoRemove,messiaNonce:i.settingFormNonce,demos:a},beforeSend:function(){null!=o&&(o.abort(),o=null),n.setActionsStates({demoRemove:!1,demoInstall:!1})},success:function(e){return!0===e.success?s(e.data):r(new Error(i.unexpectedErr))},error:function(e,t,a){if(0!==e.status||"abort"!=t)return r(new Error(i.ajaxError))},complete:function(e,a){o=null,t.fn.TabsPluginFrameWork("playSound",.3)}})}))},events:{add:()=>{t(n.dialogEl).on("click",".package-item",n.events.demoItemSelectHandler),t(n.dialogEl).on("messiaChangeDemoData",n.render),t(n.dialogEl).on("messiaChangeActionsState",n.actionsToggle)},remove:()=>{t(n.dialogEl).off("click messiaChangeDemoData messiaChangeActionsState")},buttons:{close:function(e){n.events.remove(),t(this).trigger("dialogClosed",["close"]),t(this).dialog("close")},demoAdd:function(a){if(!window.FormData)return void alert(e.tabsData.formDataErr);let s=0,o=0,r=0,i=0;const l=e.tabsData.demo.allowedMimeTypes,c=document.createElement("input");let d=(e,a,l)=>{if(e.lengthComputable){o+=r===a?e.loaded-i:e.loaded,r=a,i=e.loaded;let l=o/s*100,c=t(n.dialogEl).find("#demo-upload-progress").css("transition","background-size .3s");l>100&&(l=100),c=c.css("background-size",`${l}%`)}};c.type="file",c.multiple="true",c.accept=l.mimes.join(","),t(c).on("change",(function(){let a=[];if(t(this).prop("files").length>0){let e=t(this).prop("files");for(let o=0;o<e.length;o++){const n=e[o];if(-1==l.mimes.indexOf(n.type)){const e=l.warning.replace(/%fileType%/gi,n.type);return void t.fn.TabsPluginFrameWork("showMessage",e,"error")}s+=n.size,a.push(n)}}e.confirm(e.tabsData.demo.confirmDemoAdd).then((e=>{const s=[];for(let e=0;e<a.length;e++){const o=a[e],r=n.doAjaxDemoAdd(o,d).then((e=>(200===e.code?t.fn.TabsPluginFrameWork("showMessage",e.msg,"success"):t.fn.TabsPluginFrameWork("showMessage",e.msg,"error"),Promise.resolve(e)))).catch((e=>(t.fn.TabsPluginFrameWork("showMessage",e.message,"error"),MessiaExt.logger.error(e),Promise.reject(e))));s.push(r)}Promise.allSettled(s).then((e=>{t.fn.TabsPluginFrameWork("playSound",.3),t(n.dialogEl).find("#demo-upload-progress").css("transition","").css("background-size","");const a=n.demoData;let s=!1,o=[];for(let t=0;t<e.length;t++){const a=e[t];"fulfilled"===a.status&&(o=o.concat(a.value.demoData),s=!0)}s&&(o=[...new Set(o)],n.selected=o.filter((e=>!a.includes(e))),n.setDemoState(o),n.setActionsStates({demoRemove:n.selected.length>0,demoInstall:1===n.selected.length}))}))}))})),c.click()},demoRemove:function(a){n.isActionAllowed("demoRemove")&&e.confirm(e.tabsData.demo.confirmDemoRemove).then((e=>{t(this).find(".selected").addClass("is-busy"),n.doAjaxDemoRemove(n.selected).then((e=>{n.selected=[],n.setDemoState(e.demoData),n.setActionsStates({demoRemove:n.selected.length>0,demoInstall:1===n.selected.length}),200===e.code?t.fn.TabsPluginFrameWork("showMessage",e.msg,"success"):t.fn.TabsPluginFrameWork("showMessage",e.msg,"error")})).catch((e=>{t.fn.TabsPluginFrameWork("showMessage",e.message,"error"),MessiaExt.logger.error(e)})).finally((()=>{t(this).find(".selected").removeClass("is-busy")}))}))},demoInstall:function(a){n.isActionAllowed("demoInstall")&&e.confirm(e.tabsData.demo.confirmDemoInstall).then((e=>{t(this).find(".selected").addClass("is-busy"),n.doAjaxDemoInstall(n.selected[0]).then((e=>{200===e.code?t.fn.TabsPluginFrameWork("showMessage",e.msg,"success"):t.fn.TabsPluginFrameWork("showMessage",e.msg,"error"),!0===e.reload&&window.location.reload()})).catch((e=>{t.fn.TabsPluginFrameWork("showMessage",e.message,"error"),MessiaExt.logger.error(e)})).finally((()=>{t(this).find(".selected").removeClass("is-busy")}))}))}},demoItemSelectHandler:function(e){if(null!==a)return;let s=t(this).parents(".demo-package-items");t(this).toggleClass("selected");s.find("selected");let o=n.demoData,r=s.find(".selected");JSON.stringify(o)!==JSON.stringify(r)&&(n.selected=r.toArray().map(((e,t)=>e.id)),n.setActionsStates({demoRemove:n.selected.length>0,demoInstall:1===n.selected.length}))}},setDemoState:e=>{const a=n.demoData,s=e;JSON.stringify(a)!==JSON.stringify(s)&&(n.demoData=e,t(n.dialogEl).trigger("messiaChangeDemoData"))},updateDemoState:(e=!0)=>n.doAjaxDemoGetList().then((a=>{const s=n.demoData,o=n.themeLicenceActive,r=a.demoData,i=a.themeLicenceActive,l=JSON.stringify(s)!==JSON.stringify(r)||o!==i;n.setActionsStates({demoAdd:!0===i}),l&&(n.demoData=a.demoData,n.themeLicenceActive=a.themeLicenceActive,t(n.dialogEl).trigger("messiaChangeDemoData"),e||(200===a.code?t.fn.TabsPluginFrameWork("showMessage",a.msg,"success"):t.fn.TabsPluginFrameWork("showMessage",a.msg,"error"),t.fn.TabsPluginFrameWork("playSound",.3)))})).catch((e=>{t.fn.TabsPluginFrameWork("showMessage",e.message,"error"),MessiaExt.logger.error(e)})).finally((()=>Promise.resolve("refreshed"))),setActionsStates:e=>{let s=n.actionsState,o=Object.assign({},s,e);"undefined"!==e.demoInstall&&!0===e.demoInstall&&null!==a&&(o.demoInstall=!1),JSON.stringify(s)!==JSON.stringify(o)&&(n.actionsState=o,t(n.dialogEl).trigger("messiaChangeActionsState"))},isActionAllowed:e=>n.actionsState[e]};t(".wrap #install-demo").on("click",n.init)}},6832:function(e,t,a){var s;(s=jQuery)((function(){var e=null;s.fn.TabsPluginFrameWork=function(e){if(t[e])return t[e].apply(this,Array.prototype.slice.call(arguments,1));"object"!=typeof e&&e?s.error("Method "+e+" does not exist for jQuery.TabsPluginFrameWork"):s.error('Argument "Method" required for jQuery.TabsPluginFrameWork')};const t={showMessage:function(e,t,a="Notification"){var o="";if("object"==typeof e)for(var n in e)o=o+"<div>"+n+": "+e[n]+"</div>";else if("error"==typeof e)o=o+"<div>"+e.toString()+"</div>";else if("array"==typeof e)for(var r=0;r<e.length;r++)o=o+"<div>"+e[r]+"</div>";else{if("string"!=typeof e)return;o="<div>"+e+"</div>"}var i=void 0,l=void 0,c=s(".message-wrapper"),d=s(`<div class="message-wrapper" style="display: none;">\n\t\t\t\t\t\t\t\t\t<div class="menu-page-message rc-${t}">\n\t\t\t\t\t\t\t\t\t\t<div class="menu-inner">\n\t\t\t\t\t\t\t\t\t\t\t<div class="menu-operate">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="caption">${a}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="close"></div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="content">${o}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>`);if(0===c.length)d=d.appendTo("body");else{var m=c.last();d=d.insertAfter(m),l=parseInt(m.css("bottom"))+4,i=parseInt(m.css("right"))+4}const u=new Promise(((e,t)=>{d.draggable({containment:"window",cursor:"move",scroll:!1,handle:".menu-operate",start:function(e,t){t.helper.css({bottom:"auto",right:"auto"})}}).css({right:`${i}px`,bottom:`${l}px`}).show({effect:"fade",direction:"in"},200,(()=>e("shown"))).resizable({start:function(e,t){}})}));var g=setTimeout((function(e){d.find(".menu-operate .close").triggerHandler("click",[1200])}),3500);return this.TabsPluginFrameWork("closeMessage",d),this.TabsPluginFrameWork("stopCloseMessage",d,g),u},closeMessage:function(e,t){void 0===t&&(t=200),e.find(".menu-operate .close").on("click touchstart",(function(t,a){void 0===t.isTrigger&&e.off("mouseover"),e.hide({effect:"fade",direction:"out"},a,(function(){e.draggable("destroy").remove()}))}))},stopCloseMessage:function(e,t){e.on("mouseover",{timerId:t},(function(t){clearTimeout(t.data.timerId),e.stop(!0).animate({opacity:"1"},300,(function(){e.css("opacity","")}))}))},updateControls:function(e){for(var t in o.toggle_save_operate("off",o.allInputs),e)"string"==typeof e[t]&&(e[t]=e[t].replace(/\\"/g,'"'),e[t]=e[t].replace(/\\'/g,"'"));formControls=o.get_form_controls();for(var a=0;a<formControls.length;a++){var n=e[formControls[a].name];switch(formControls[a].nodeName){case"INPUT":"checkbox"==formControls[a].type?s(formControls[a]).prop("checked",parseInt(n)):"radio"==formControls[a].type?s(formControls[a]).prop("checked",s(formControls[a]).val()===n):s(formControls[a]).val(n),s(formControls[a]).trigger("updated");break;case"TEXTAREA":s(formControls[a]).val(n),s(formControls[a]).trigger("updated");break;case"SELECT":if(1==formControls[a].multiple){if(n.length>0)for(var r=0;r<n.length;r++)s(formControls[a]).find('option[value="'+n[r]+'"]').prop("selected","selected")}else s(formControls[a]).find('option[value="'+n+'"]').prop("selected","selected");s(formControls[a]).val(n),s(formControls[a]).trigger("updated")}"INPUT"!=formControls[a].nodeName&&"SELECT"!=formControls[a].nodeName||void 0!==s(formControls[a]).data("tagsinput")&&(s(formControls[a]).off(),s(formControls[a]).tagsinput("removeAll"),s(formControls[a]).tagsinput("add",n),s(formControls[a]).on("itemAdded itemRemoved",o.saveOperate))}o.toggle_save_operate("on",o.allInputs)},playSound:function(e){var t=s(".menu-beep");t.get(0).volume=e,t.get(0).play()}},o={multiple:"",tabsData:s("#tabs").data("general"),allInputs:s("#tabs input:not(.isolated), #tabs select:not(.isolated), #tabs textarea:not(.isolated)"),activeTab:function(e,t){t.newTab.get(0).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},openHelpTab:function(e){var t=s(this).data("sectionId");window.scrollTo({top:0,behavior:"smooth"}),"none"===s("#contextual-help-wrap").css("display")&&s("#contextual-help-link").trigger("click"),void 0!==t&&s(`.contextual-help-tabs a[href="#tab-panel-${t}"]`).trigger("click")},toggleSection:function(e){s(this).toggleClass("arrow-transform");var t=s(this).next(".section-content-wrapper");if(t.stop(!0),t.hasClass("collapsed")){var a=t.addClass("showing").removeClass("collapsed").height(),o=10*Math.sqrt(a);t.css("height",0),t.animate({height:a+"px"},{duration:o,progress:function(){s("#tabs").trigger("scroll")},done:function(){s(this).css("height","100%").removeClass("showing"),s("#tabs").trigger("scroll")}})}else if(t.hasClass("hiding")){var n=t.css("height");a=t.css("height","").height(),o=10*Math.sqrt(a),t.css("height",n),t.addClass("showing").removeClass("hiding").animate({height:a+"px"},{duration:o,progress:function(){s("#tabs").trigger("scroll")},done:function(){s(this).css("height","100%").removeClass("showing"),s("#tabs").trigger("scroll")}})}else t.hasClass("showing")?(a=t.height(),o=10*Math.sqrt(a),t.addClass("hiding").removeClass("showing").animate({height:0},{duration:o,progress:function(){s("#tabs").trigger("scroll")},done:function(){s(this).addClass("collapsed").removeClass("hiding").css("height",""),s("#tabs").trigger("scroll")}})):(a=t.height(),o=10*Math.sqrt(a),t.addClass("hiding").animate({height:0},{duration:o,progress:function(){s("#tabs").trigger("scroll")},done:function(){s(this).addClass("collapsed").removeClass("hiding").css("height",""),s("#tabs").trigger("scroll")}}))},screen_lock:async function(e,t){return await new Promise(((a,o)=>{s(t).prop("disabled",!0),s(t).val(s("#tabs").data("general").statusBetweenRequests).removeClass(),s("body").prepend('<div id="spinner_saving" style="z-index: 99999;"><div id="spinner_saving_inner"><svg class="lds-curve-bars" width="120px" height="120px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><g transform="translate(50,50)"><circle cx="0" cy="0" r="8.333333333333334" fill="none" stroke="#4658ac" stroke-width="2" stroke-dasharray="26.179938779914945 26.179938779914945" transform="rotate(2.58798)"><animateTransform attributeName="transform" type="rotate" values="0 0 0;360 0 0" times="0;1" dur="1s" calcMode="spline" keySplines="0.2 0 0.8 1" begin="0" repeatCount="indefinite"></animateTransform></circle><circle cx="0" cy="0" r="16.666666666666668" fill="none" stroke="#e7008a" stroke-width="2" stroke-dasharray="52.35987755982989 52.35987755982989" transform="rotate(64.3712)"><animateTransform attributeName="transform" type="rotate" values="0 0 0;360 0 0" times="0;1" dur="1s" calcMode="spline" keySplines="0.2 0 0.8 1" begin="-0.2" repeatCount="indefinite"></animateTransform></circle><circle cx="0" cy="0" r="25" fill="none" stroke="#ff003a" stroke-width="2" stroke-dasharray="78.53981633974483 78.53981633974483" transform="rotate(149.659)"><animateTransform attributeName="transform" type="rotate" values="0 0 0;360 0 0" times="0;1" dur="1s" calcMode="spline" keySplines="0.2 0 0.8 1" begin="-0.4" repeatCount="indefinite"></animateTransform></circle><circle cx="0" cy="0" r="33.333333333333336" fill="none" stroke="#ff6d00" stroke-width="2" stroke-dasharray="104.71975511965978 104.71975511965978" transform="rotate(239.03)"><animateTransform attributeName="transform" type="rotate" values="0 0 0;360 0 0" times="0;1" dur="1s" calcMode="spline" keySplines="0.2 0 0.8 1" begin="-0.6" repeatCount="indefinite"></animateTransform></circle><circle cx="0" cy="0" r="41.666666666666664" fill="none" stroke="#ffc53f" stroke-width="2" stroke-dasharray="130.89969389957471 130.89969389957471" transform="rotate(320.012)"><animateTransform attributeName="transform" type="rotate" values="0 0 0;360 0 0" times="0;1" dur="1s" calcMode="spline" keySplines="0.2 0 0.8 1" begin="-0.8" repeatCount="indefinite"></animateTransform></circle></g></svg></div></div>'),s("body").addClass("setting-saving"),s("body #spinner_saving").animate({opacity:1},150,"swing",(function(){setTimeout((function(){s("body #spinner_saving_inner").animate({opacity:1},200,"swing",(function(){a([e,t])}))}),200)}))}))},screen_unlock_success:async function(){return await new Promise(((e,t)=>{s("body #spinner_saving_inner").animate({opacity:0},250,"swing",(function(){setTimeout((function(){e()}),500)}))}))},screen_unlock_error:async function(e){return await new Promise(((t,a)=>{s(e).off("click"),s(e).val(s("#tabs").data("general").ajaxError).prop("disabled",!1).css({color:"#f00",border:"2px solid #ff0404"}).on("click",(function(){location.reload()})),s("body #spinner_saving_inner").animate({opacity:0},250,"swing",(function(){setTimeout((function(){s("body #spinner_saving").animate({opacity:0},100,"swing",(function(){s("body #spinner_saving").remove(),t()}))}),500)}))}))},saveOperate:function(e){s(".wrap #save").val(s("#tabs").data("general").onchangeBtnText).removeClass().addClass("active"),s(".wrap #save").prop("disabled",!1),s(document).trigger("messiaContentIsDirty")},resetSaveState:function(e){const t=s(".wrap #save");t.prop("disabled",!0).removeAttr("class").text(t.data("init"))},save:function(e){s("body").data("messiaProceedSaving",[]),s("body").trigger("beforeSave"),s("body").data("messiaProceedSaving").includes(!1)||o.screen_lock(e,this).then(o.doAjaxSaveSettings)},doAjaxSaveSettings:function(t){const a=o.tabsData,n=o.get_form_controls().not('input[type="radio"]:not(:checked)'),r=a.settingPreset,i=(t[0],t[1]);for(var l={},c=0;c<n.length;c++){var d;if("checkbox"==n[c].type)d=void 0!==s(n[c]).data("save-val")?s(n[c]).data("save-val"):n[c].checked?1:0;else if(void 0!==s(n[c]).data("save-val"))d=s(n[c]).data("save-val");else if("select-multiple"==n[c].type){var m=s(n[c]).val();d=null===m||0===m.length?-1:s(n[c]).val()}else"radio"==n[c].type&&s(n[c]).prop("checked"),d=s(n[c]).val();l[n[c].name]=d}e=s.ajax({type:"POST",url:a.ajaxUrl,data:{action:a.actionSave,messiaNonce:a.settingFormNonce,data:{AJAX_Marker:messiaVars.AJAX_Marker,menu_type:a.menuType,preset:r,settings:l}},beforeSend:function(){null!=e&&(e.abort(),e=null)},success:function(e){o.screen_unlock_success().then((function(){if(o.remove_spinner(),200===e.data.code){if(s.fn.TabsPluginFrameWork("updateControls",e.data.new_preset),void 0!==e.data.extra_data&&Object.keys(e.data.extra_data).length>0)var t=e.data.extra_data;else t=!1;s("#tabs").triggerHandler("presetSaved",[e.data.new_preset,t]),s(i).val(e.data.btn_text).removeClass().addClass("_200")}400===e.data.code&&s(i).val(e.data.btn_text).prop("disabled",!1).removeClass().addClass("_400"),403===e.data.code&&(s(i).off("click"),s(i).val(e.data.btn_text).prop("disabled",!1).removeClass().addClass("_403").on("click",(function(){location.reload()}))),s(document).trigger("messiaContentIsSaved"),!0===e.data.reload&&window.location.reload()}))},error:function(t,a,s){0===e.status&&"abort"==e.statusText||o.screen_unlock_error(i)}})},reset:function(e){!0===confirm(s("#tabs").data("general").demo.confirmResetSettings)&&o.screen_lock(e,this).then(o.do_ajax_reset_settings)},export:function(e){!0===confirm(s("#tabs").data("general").demo.confirmDemoExport)&&o.screen_lock(e,this).then(o.do_ajax_export_blog)},do_ajax_reset_settings:function(t){const a=o.tabsData,n=a.settingPreset,r=(t[0],t[1]);e=s.ajax({type:"POST",url:a.ajaxUrl,data:{action:a.actionReset,messiaNonce:a.settingFormNonce,data:{AJAX_Marker:messiaVars.AJAX_Marker,menu_type:a.menuType,preset:n}},beforeSend:function(){null!=e&&(e.abort(),e=null)},success:function(e){o.screen_unlock_success().then((function(){s.fn.TabsPluginFrameWork("playSound",.3),o.remove_spinner();try{200===e.data.code&&(s.fn.TabsPluginFrameWork("showMessage",e.data.msg,"success"),s(r).val(e.data.btn_text),!0===e.data.reload&&window.location.reload()),403===e.data.code&&(s(r).off("click"),s(r).val(e.data.btn_text).prop("disabled",!1).removeClass().addClass("_403").on("click",(function(){location.reload()})))}catch(t){MessiaExt.logger.error(e),s.fn.TabsPluginFrameWork("showMessage",a.unexpectedErr,"error")}}))},error:function(t,a,s){0===e.status&&"abort"==e.statusText||o.screen_unlock_error(r)},done:function(e){}})},do_ajax_export_blog:function(t){const a=o.tabsData,n=(t[0],t[1]);e=s.ajax({type:"POST",url:a.ajaxUrl,data:{action:a.actionExport,messiaNonce:a.settingFormNonce},beforeSend:function(){null!=e&&(e.abort(),e=null)},success:function(e){o.screen_unlock_success().then((function(){s.fn.TabsPluginFrameWork("playSound",.3),o.remove_spinner();try{200===e.data.code&&(s.fn.TabsPluginFrameWork("showMessage",e.data.msg,"success"),s(n).val(e.data.btn_text).prop("disabled",!1).removeClass().addClass("active")),400===e.data.code&&(s.fn.TabsPluginFrameWork("showMessage",e.data.msg,"error"),s(n).val(e.data.btn_text).prop("disabled",!1).removeClass().addClass("_400")),403===e.data.code&&(s(n).off("click"),s(n).val(e.data.btn_text).prop("disabled",!1).removeClass().addClass("_403").on("click",(function(){location.reload()})))}catch(t){MessiaExt.logger.error(e),s.fn.TabsPluginFrameWork("showMessage",a.unexpectedErr,"error")}}))},error:function(t,a,s){0===e.status&&"abort"==e.statusText||o.screen_unlock_error(n)}})},get_form_controls:function(){return s("#tabs input:not(.chosen-search-input), #tabs select, #tabs textarea").not("hidden").filter((function(e){return null!=s(this).attr("name")&&0===s(this).parents(".bootstrap-tagsinput").length}))},toggle_save_operate:function(e,t){t.each((function(t){"INPUT"!=this.nodeName&&"SELECT"!=this.nodeName||!0!==s(this).data("taged")?"on"===e?s(this).on("input change",o.saveOperate):"off"===e&&s(this).off("input change",o.saveOperate):"on"===e?s(this).on("itemAdded itemRemoved",o.saveOperate):"off"===e&&s(this).off("itemAdded itemRemoved",o.saveOperate)}))},remove_loader(){s("#wpbody-content .settings-loader").remove(),s(".wrap.settings-loading").removeClass("settings-loading")},remove_spinner(){s("body #spinner_saving, body #spinner_saving_inner").remove()},confirm:async e=>await new Promise(((t,a)=>{!0===confirm(e)?t(!0):a(!1)}))};!0===s.fn.messiaIsMobile()&&(o.multiple="[multiple]");try{s("#tabs").tabs({active:s("#tabs").data("general").active,hide:{effect:"fade",direction:"out",duration:200},show:{effect:"fade",direction:"in",duration:200},collapsible:!1,create:function(e,t){o.remove_loader()}}),s("select:not(.font-option)"+o.multiple).select2({placeholder:messiaVars.messages.selectOptions,minimumResultsForSearch:1/0})}catch(e){MessiaExt.logger.error(e)}finally{o.remove_loader()}a(5554)(o,s),s(".wrap #save").trigger("uiInited"),s("#tabs textarea").messiaStickyTextarea(),o.toggle_save_operate("on",o.allInputs),s("body").on("click","#tabs .messia-wp-help",o.openHelpTab),s("body").on("click","#tabs .section",o.toggleSection),s(".wrap #save").on("click",o.save),s(".wrap #reset-settings").on("click",o.reset),s(".wrap #create-demo").on("click",o.export),s("#tabs").on("tabsactivate tabscreate",o.activeTab),s("#tabs").on("resetSaveState",o.resetSaveState),s(window).on("scroll",o.scroll)}))}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,a),n.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";a(6832)}()}();